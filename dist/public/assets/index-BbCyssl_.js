function GP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function mo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function By(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Mm={exports:{}},bc={},Nm={exports:{}},ut={};var I1;function YP(){if(I1)return ut;I1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function y(P){return P===null||typeof P!="object"?null:(P=g&&P[g]||P["@@iterator"],typeof P=="function"?P:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function k(P,w,_){this.props=P,this.context=w,this.refs=x,this.updater=_||v}k.prototype.isReactComponent={},k.prototype.setState=function(P,w){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,w,"setState")},k.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function M(){}M.prototype=k.prototype;function L(P,w,_){this.props=P,this.context=w,this.refs=x,this.updater=_||v}var I=L.prototype=new M;I.constructor=L,S(I,k.prototype),I.isPureReactComponent=!0;var W=Array.isArray,q=Object.prototype.hasOwnProperty,J={current:null},te={key:!0,ref:!0,__self:!0,__source:!0};function ne(P,w,_){var U,K={},se=null,le=null;if(w!=null)for(U in w.ref!==void 0&&(le=w.ref),w.key!==void 0&&(se=""+w.key),w)q.call(w,U)&&!te.hasOwnProperty(U)&&(K[U]=w[U]);var ge=arguments.length-2;if(ge===1)K.children=_;else if(1<ge){for(var we=Array(ge),Ve=0;Ve<ge;Ve++)we[Ve]=arguments[Ve+2];K.children=we}if(P&&P.defaultProps)for(U in ge=P.defaultProps,ge)K[U]===void 0&&(K[U]=ge[U]);return{$$typeof:t,type:P,key:se,ref:le,props:K,_owner:J.current}}function z(P,w){return{$$typeof:t,type:P.type,key:w,ref:P.ref,props:P.props,_owner:P._owner}}function G(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function X(P){var w={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(_){return w[_]})}var Z=/\/+/g;function N(P,w){return typeof P=="object"&&P!==null&&P.key!=null?X(""+P.key):w.toString(36)}function m(P,w,_,U,K){var se=typeof P;(se==="undefined"||se==="boolean")&&(P=null);var le=!1;if(P===null)le=!0;else switch(se){case"string":case"number":le=!0;break;case"object":switch(P.$$typeof){case t:case e:le=!0}}if(le)return le=P,K=K(le),P=U===""?"."+N(le,0):U,W(K)?(_="",P!=null&&(_=P.replace(Z,"$&/")+"/"),m(K,w,_,"",function(Ve){return Ve})):K!=null&&(G(K)&&(K=z(K,_+(!K.key||le&&le.key===K.key?"":(""+K.key).replace(Z,"$&/")+"/")+P)),w.push(K)),1;if(le=0,U=U===""?".":U+":",W(P))for(var ge=0;ge<P.length;ge++){se=P[ge];var we=U+N(se,ge);le+=m(se,w,_,we,K)}else if(we=y(P),typeof we=="function")for(P=we.call(P),ge=0;!(se=P.next()).done;)se=se.value,we=U+N(se,ge++),le+=m(se,w,_,we,K);else if(se==="object")throw w=String(P),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.");return le}function E(P,w,_){if(P==null)return P;var U=[],K=0;return m(P,U,"","",function(se){return w.call(_,se,K++)}),U}function O(P){if(P._status===-1){var w=P._result;w=w(),w.then(function(_){(P._status===0||P._status===-1)&&(P._status=1,P._result=_)},function(_){(P._status===0||P._status===-1)&&(P._status=2,P._result=_)}),P._status===-1&&(P._status=0,P._result=w)}if(P._status===1)return P._result.default;throw P._result}var j={current:null},B={transition:null},V={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:B,ReactCurrentOwner:J};function H(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:E,forEach:function(P,w,_){E(P,function(){w.apply(this,arguments)},_)},count:function(P){var w=0;return E(P,function(){w++}),w},toArray:function(P){return E(P,function(w){return w})||[]},only:function(P){if(!G(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ut.Component=k,ut.Fragment=n,ut.Profiler=s,ut.PureComponent=L,ut.StrictMode=r,ut.Suspense=u,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,ut.act=H,ut.cloneElement=function(P,w,_){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var U=S({},P.props),K=P.key,se=P.ref,le=P._owner;if(w!=null){if(w.ref!==void 0&&(se=w.ref,le=J.current),w.key!==void 0&&(K=""+w.key),P.type&&P.type.defaultProps)var ge=P.type.defaultProps;for(we in w)q.call(w,we)&&!te.hasOwnProperty(we)&&(U[we]=w[we]===void 0&&ge!==void 0?ge[we]:w[we])}var we=arguments.length-2;if(we===1)U.children=_;else if(1<we){ge=Array(we);for(var Ve=0;Ve<we;Ve++)ge[Ve]=arguments[Ve+2];U.children=ge}return{$$typeof:t,type:P.type,key:K,ref:se,props:U,_owner:le}},ut.createContext=function(P){return P={$$typeof:a,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:i,_context:P},P.Consumer=P},ut.createElement=ne,ut.createFactory=function(P){var w=ne.bind(null,P);return w.type=P,w},ut.createRef=function(){return{current:null}},ut.forwardRef=function(P){return{$$typeof:c,render:P}},ut.isValidElement=G,ut.lazy=function(P){return{$$typeof:h,_payload:{_status:-1,_result:P},_init:O}},ut.memo=function(P,w){return{$$typeof:f,type:P,compare:w===void 0?null:w}},ut.startTransition=function(P){var w=B.transition;B.transition={};try{P()}finally{B.transition=w}},ut.unstable_act=H,ut.useCallback=function(P,w){return j.current.useCallback(P,w)},ut.useContext=function(P){return j.current.useContext(P)},ut.useDebugValue=function(){},ut.useDeferredValue=function(P){return j.current.useDeferredValue(P)},ut.useEffect=function(P,w){return j.current.useEffect(P,w)},ut.useId=function(){return j.current.useId()},ut.useImperativeHandle=function(P,w,_){return j.current.useImperativeHandle(P,w,_)},ut.useInsertionEffect=function(P,w){return j.current.useInsertionEffect(P,w)},ut.useLayoutEffect=function(P,w){return j.current.useLayoutEffect(P,w)},ut.useMemo=function(P,w){return j.current.useMemo(P,w)},ut.useReducer=function(P,w,_){return j.current.useReducer(P,w,_)},ut.useRef=function(P){return j.current.useRef(P)},ut.useState=function(P){return j.current.useState(P)},ut.useSyncExternalStore=function(P,w,_){return j.current.useSyncExternalStore(P,w,_)},ut.useTransition=function(){return j.current.useTransition()},ut.version="18.3.1",ut}var M1;function bh(){return M1||(M1=1,Nm.exports=YP()),Nm.exports}var N1;function QP(){if(N1)return bc;N1=1;var t=bh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,f){var h,g={},y=null,v=null;f!==void 0&&(y=""+f),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(v=u.ref);for(h in u)r.call(u,h)&&!i.hasOwnProperty(h)&&(g[h]=u[h]);if(c&&c.defaultProps)for(h in u=c.defaultProps,u)g[h]===void 0&&(g[h]=u[h]);return{$$typeof:e,type:c,key:y,ref:v,props:g,_owner:s.current}}return bc.Fragment=n,bc.jsx=a,bc.jsxs=a,bc}var O1;function JP(){return O1||(O1=1,Mm.exports=QP()),Mm.exports}var R=JP(),Om={},xc={},L1;function ZP(){if(L1)return xc;L1=1,xc.byteLength=c,xc.toByteArray=f,xc.fromByteArray=y;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=r.length;s<i;++s)t[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function a(v){var S=v.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=v.indexOf("=");x===-1&&(x=S);var k=x===S?0:4-x%4;return[x,k]}function c(v){var S=a(v),x=S[0],k=S[1];return(x+k)*3/4-k}function u(v,S,x){return(S+x)*3/4-x}function f(v){var S,x=a(v),k=x[0],M=x[1],L=new n(u(v,k,M)),I=0,W=M>0?k-4:k,q;for(q=0;q<W;q+=4)S=e[v.charCodeAt(q)]<<18|e[v.charCodeAt(q+1)]<<12|e[v.charCodeAt(q+2)]<<6|e[v.charCodeAt(q+3)],L[I++]=S>>16&255,L[I++]=S>>8&255,L[I++]=S&255;return M===2&&(S=e[v.charCodeAt(q)]<<2|e[v.charCodeAt(q+1)]>>4,L[I++]=S&255),M===1&&(S=e[v.charCodeAt(q)]<<10|e[v.charCodeAt(q+1)]<<4|e[v.charCodeAt(q+2)]>>2,L[I++]=S>>8&255,L[I++]=S&255),L}function h(v){return t[v>>18&63]+t[v>>12&63]+t[v>>6&63]+t[v&63]}function g(v,S,x){for(var k,M=[],L=S;L<x;L+=3)k=(v[L]<<16&16711680)+(v[L+1]<<8&65280)+(v[L+2]&255),M.push(h(k));return M.join("")}function y(v){for(var S,x=v.length,k=x%3,M=[],L=16383,I=0,W=x-k;I<W;I+=L)M.push(g(v,I,I+L>W?W:I+L));return k===1?(S=v[x-1],M.push(t[S>>2]+t[S<<4&63]+"==")):k===2&&(S=(v[x-2]<<8)+v[x-1],M.push(t[S>>10]+t[S>>4&63]+t[S<<2&63]+"=")),M.join("")}return xc}var Ud={};var B1;function XP(){return B1||(B1=1,Ud.read=function(t,e,n,r,s){var i,a,c=s*8-r-1,u=(1<<c)-1,f=u>>1,h=-7,g=n?s-1:0,y=n?-1:1,v=t[e+g];for(g+=y,i=v&(1<<-h)-1,v>>=-h,h+=c;h>0;i=i*256+t[e+g],g+=y,h-=8);for(a=i&(1<<-h)-1,i>>=-h,h+=r;h>0;a=a*256+t[e+g],g+=y,h-=8);if(i===0)i=1-f;else{if(i===u)return a?NaN:(v?-1:1)*(1/0);a=a+Math.pow(2,r),i=i-f}return(v?-1:1)*a*Math.pow(2,i-r)},Ud.write=function(t,e,n,r,s,i){var a,c,u,f=i*8-s-1,h=(1<<f)-1,g=h>>1,y=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=r?0:i-1,S=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+g>=1?e+=y/u:e+=y*Math.pow(2,1-g),e*u>=2&&(a++,u/=2),a+g>=h?(c=0,a=h):a+g>=1?(c=(e*u-1)*Math.pow(2,s),a=a+g):(c=e*Math.pow(2,g-1)*Math.pow(2,s),a=0));s>=8;t[n+v]=c&255,v+=S,c/=256,s-=8);for(a=a<<s|c,f+=s;f>0;t[n+v]=a&255,v+=S,a/=256,f-=8);t[n+v-S]|=x*128}),Ud}var j1;function jy(){return j1||(j1=1,(function(t){const e=ZP(),n=XP(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=L,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const $=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf($,A),$.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function a($){if($>s)throw new RangeError('The value "'+$+'" is invalid for option "size"');const A=new Uint8Array($);return Object.setPrototypeOf(A,c.prototype),A}function c($,A,C){if(typeof $=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g($)}return u($,A,C)}c.poolSize=8192;function u($,A,C){if(typeof $=="string")return y($,A);if(ArrayBuffer.isView($))return S($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(mn($,ArrayBuffer)||$&&mn($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(mn($,SharedArrayBuffer)||$&&mn($.buffer,SharedArrayBuffer)))return x($,A,C);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=$.valueOf&&$.valueOf();if(Y!=null&&Y!==$)return c.from(Y,A,C);const oe=k($);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return c.from($[Symbol.toPrimitive]("string"),A,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}c.from=function($,A,C){return u($,A,C)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function f($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function h($,A,C){return f($),$<=0?a($):A!==void 0?typeof C=="string"?a($).fill(A,C):a($).fill(A):a($)}c.alloc=function($,A,C){return h($,A,C)};function g($){return f($),a($<0?0:M($)|0)}c.allocUnsafe=function($){return g($)},c.allocUnsafeSlow=function($){return g($)};function y($,A){if((typeof A!="string"||A==="")&&(A="utf8"),!c.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const C=I($,A)|0;let Y=a(C);const oe=Y.write($,A);return oe!==C&&(Y=Y.slice(0,oe)),Y}function v($){const A=$.length<0?0:M($.length)|0,C=a(A);for(let Y=0;Y<A;Y+=1)C[Y]=$[Y]&255;return C}function S($){if(mn($,Uint8Array)){const A=new Uint8Array($);return x(A.buffer,A.byteOffset,A.byteLength)}return v($)}function x($,A,C){if(A<0||$.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<A+(C||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return A===void 0&&C===void 0?Y=new Uint8Array($):C===void 0?Y=new Uint8Array($,A):Y=new Uint8Array($,A,C),Object.setPrototypeOf(Y,c.prototype),Y}function k($){if(c.isBuffer($)){const A=M($.length)|0,C=a(A);return C.length===0||$.copy(C,0,0,A),C}if($.length!==void 0)return typeof $.length!="number"||nt($.length)?a(0):v($);if($.type==="Buffer"&&Array.isArray($.data))return v($.data)}function M($){if($>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return $|0}function L($){return+$!=$&&($=0),c.alloc(+$)}c.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==c.prototype},c.compare=function(A,C){if(mn(A,Uint8Array)&&(A=c.from(A,A.offset,A.byteLength)),mn(C,Uint8Array)&&(C=c.from(C,C.offset,C.byteLength)),!c.isBuffer(A)||!c.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===C)return 0;let Y=A.length,oe=C.length;for(let ce=0,me=Math.min(Y,oe);ce<me;++ce)if(A[ce]!==C[ce]){Y=A[ce],oe=C[ce];break}return Y<oe?-1:oe<Y?1:0},c.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(A,C){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return c.alloc(0);let Y;if(C===void 0)for(C=0,Y=0;Y<A.length;++Y)C+=A[Y].length;const oe=c.allocUnsafe(C);let ce=0;for(Y=0;Y<A.length;++Y){let me=A[Y];if(mn(me,Uint8Array))ce+me.length>oe.length?(c.isBuffer(me)||(me=c.from(me)),me.copy(oe,ce)):Uint8Array.prototype.set.call(oe,me,ce);else if(c.isBuffer(me))me.copy(oe,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=me.length}return oe};function I($,A){if(c.isBuffer($))return $.length;if(ArrayBuffer.isView($)||mn($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const C=$.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&C===0)return 0;let oe=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return Et($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return st($).length;default:if(oe)return Y?-1:Et($).length;A=(""+A).toLowerCase(),oe=!0}}c.byteLength=I;function W($,A,C){let Y=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,A>>>=0,C<=A))return"";for($||($="utf8");;)switch($){case"hex":return V(this,A,C);case"utf8":case"utf-8":return m(this,A,C);case"ascii":return j(this,A,C);case"latin1":case"binary":return B(this,A,C);case"base64":return N(this,A,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,A,C);default:if(Y)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),Y=!0}}c.prototype._isBuffer=!0;function q($,A,C){const Y=$[A];$[A]=$[C],$[C]=Y}c.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<A;C+=2)q(this,C,C+1);return this},c.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<A;C+=4)q(this,C,C+3),q(this,C+1,C+2);return this},c.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<A;C+=8)q(this,C,C+7),q(this,C+1,C+6),q(this,C+2,C+5),q(this,C+3,C+4);return this},c.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?m(this,0,A):W.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(A){if(!c.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:c.compare(this,A)===0},c.prototype.inspect=function(){let A="";const C=t.INSPECT_MAX_BYTES;return A=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(A+=" ... "),"<Buffer "+A+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(A,C,Y,oe,ce){if(mn(A,Uint8Array)&&(A=c.from(A,A.offset,A.byteLength)),!c.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(C===void 0&&(C=0),Y===void 0&&(Y=A?A.length:0),oe===void 0&&(oe=0),ce===void 0&&(ce=this.length),C<0||Y>A.length||oe<0||ce>this.length)throw new RangeError("out of range index");if(oe>=ce&&C>=Y)return 0;if(oe>=ce)return-1;if(C>=Y)return 1;if(C>>>=0,Y>>>=0,oe>>>=0,ce>>>=0,this===A)return 0;let me=ce-oe,rt=Y-C;const Xe=Math.min(me,rt),Ye=this.slice(oe,ce),ft=A.slice(C,Y);for(let Ue=0;Ue<Xe;++Ue)if(Ye[Ue]!==ft[Ue]){me=Ye[Ue],rt=ft[Ue];break}return me<rt?-1:rt<me?1:0};function J($,A,C,Y,oe){if($.length===0)return-1;if(typeof C=="string"?(Y=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,nt(C)&&(C=oe?0:$.length-1),C<0&&(C=$.length+C),C>=$.length){if(oe)return-1;C=$.length-1}else if(C<0)if(oe)C=0;else return-1;if(typeof A=="string"&&(A=c.from(A,Y)),c.isBuffer(A))return A.length===0?-1:te($,A,C,Y,oe);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call($,A,C):Uint8Array.prototype.lastIndexOf.call($,A,C):te($,[A],C,Y,oe);throw new TypeError("val must be string, number or Buffer")}function te($,A,C,Y,oe){let ce=1,me=$.length,rt=A.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if($.length<2||A.length<2)return-1;ce=2,me/=2,rt/=2,C/=2}function Xe(ft,Ue){return ce===1?ft[Ue]:ft.readUInt16BE(Ue*ce)}let Ye;if(oe){let ft=-1;for(Ye=C;Ye<me;Ye++)if(Xe($,Ye)===Xe(A,ft===-1?0:Ye-ft)){if(ft===-1&&(ft=Ye),Ye-ft+1===rt)return ft*ce}else ft!==-1&&(Ye-=Ye-ft),ft=-1}else for(C+rt>me&&(C=me-rt),Ye=C;Ye>=0;Ye--){let ft=!0;for(let Ue=0;Ue<rt;Ue++)if(Xe($,Ye+Ue)!==Xe(A,Ue)){ft=!1;break}if(ft)return Ye}return-1}c.prototype.includes=function(A,C,Y){return this.indexOf(A,C,Y)!==-1},c.prototype.indexOf=function(A,C,Y){return J(this,A,C,Y,!0)},c.prototype.lastIndexOf=function(A,C,Y){return J(this,A,C,Y,!1)};function ne($,A,C,Y){C=Number(C)||0;const oe=$.length-C;Y?(Y=Number(Y),Y>oe&&(Y=oe)):Y=oe;const ce=A.length;Y>ce/2&&(Y=ce/2);let me;for(me=0;me<Y;++me){const rt=parseInt(A.substr(me*2,2),16);if(nt(rt))return me;$[C+me]=rt}return me}function z($,A,C,Y){return et(Et(A,$.length-C),$,C,Y)}function G($,A,C,Y){return et(Rt(A),$,C,Y)}function X($,A,C,Y){return et(st(A),$,C,Y)}function Z($,A,C,Y){return et(rs(A,$.length-C),$,C,Y)}c.prototype.write=function(A,C,Y,oe){if(C===void 0)oe="utf8",Y=this.length,C=0;else if(Y===void 0&&typeof C=="string")oe=C,Y=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(Y)?(Y=Y>>>0,oe===void 0&&(oe="utf8")):(oe=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ce=this.length-C;if((Y===void 0||Y>ce)&&(Y=ce),A.length>0&&(Y<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");let me=!1;for(;;)switch(oe){case"hex":return ne(this,A,C,Y);case"utf8":case"utf-8":return z(this,A,C,Y);case"ascii":case"latin1":case"binary":return G(this,A,C,Y);case"base64":return X(this,A,C,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,A,C,Y);default:if(me)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),me=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N($,A,C){return A===0&&C===$.length?e.fromByteArray($):e.fromByteArray($.slice(A,C))}function m($,A,C){C=Math.min($.length,C);const Y=[];let oe=A;for(;oe<C;){const ce=$[oe];let me=null,rt=ce>239?4:ce>223?3:ce>191?2:1;if(oe+rt<=C){let Xe,Ye,ft,Ue;switch(rt){case 1:ce<128&&(me=ce);break;case 2:Xe=$[oe+1],(Xe&192)===128&&(Ue=(ce&31)<<6|Xe&63,Ue>127&&(me=Ue));break;case 3:Xe=$[oe+1],Ye=$[oe+2],(Xe&192)===128&&(Ye&192)===128&&(Ue=(ce&15)<<12|(Xe&63)<<6|Ye&63,Ue>2047&&(Ue<55296||Ue>57343)&&(me=Ue));break;case 4:Xe=$[oe+1],Ye=$[oe+2],ft=$[oe+3],(Xe&192)===128&&(Ye&192)===128&&(ft&192)===128&&(Ue=(ce&15)<<18|(Xe&63)<<12|(Ye&63)<<6|ft&63,Ue>65535&&Ue<1114112&&(me=Ue))}}me===null?(me=65533,rt=1):me>65535&&(me-=65536,Y.push(me>>>10&1023|55296),me=56320|me&1023),Y.push(me),oe+=rt}return O(Y)}const E=4096;function O($){const A=$.length;if(A<=E)return String.fromCharCode.apply(String,$);let C="",Y=0;for(;Y<A;)C+=String.fromCharCode.apply(String,$.slice(Y,Y+=E));return C}function j($,A,C){let Y="";C=Math.min($.length,C);for(let oe=A;oe<C;++oe)Y+=String.fromCharCode($[oe]&127);return Y}function B($,A,C){let Y="";C=Math.min($.length,C);for(let oe=A;oe<C;++oe)Y+=String.fromCharCode($[oe]);return Y}function V($,A,C){const Y=$.length;(!A||A<0)&&(A=0),(!C||C<0||C>Y)&&(C=Y);let oe="";for(let ce=A;ce<C;++ce)oe+=bt[$[ce]];return oe}function H($,A,C){const Y=$.slice(A,C);let oe="";for(let ce=0;ce<Y.length-1;ce+=2)oe+=String.fromCharCode(Y[ce]+Y[ce+1]*256);return oe}c.prototype.slice=function(A,C){const Y=this.length;A=~~A,C=C===void 0?Y:~~C,A<0?(A+=Y,A<0&&(A=0)):A>Y&&(A=Y),C<0?(C+=Y,C<0&&(C=0)):C>Y&&(C=Y),C<A&&(C=A);const oe=this.subarray(A,C);return Object.setPrototypeOf(oe,c.prototype),oe};function P($,A,C){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+A>C)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(A,C,Y){A=A>>>0,C=C>>>0,Y||P(A,C,this.length);let oe=this[A],ce=1,me=0;for(;++me<C&&(ce*=256);)oe+=this[A+me]*ce;return oe},c.prototype.readUintBE=c.prototype.readUIntBE=function(A,C,Y){A=A>>>0,C=C>>>0,Y||P(A,C,this.length);let oe=this[A+--C],ce=1;for(;C>0&&(ce*=256);)oe+=this[A+--C]*ce;return oe},c.prototype.readUint8=c.prototype.readUInt8=function(A,C){return A=A>>>0,C||P(A,1,this.length),this[A]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(A,C){return A=A>>>0,C||P(A,2,this.length),this[A]|this[A+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(A,C){return A=A>>>0,C||P(A,2,this.length),this[A]<<8|this[A+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(A,C){return A=A>>>0,C||P(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(A,C){return A=A>>>0,C||P(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},c.prototype.readBigUInt64LE=kt(function(A){A=A>>>0,Ft(A,"offset");const C=this[A],Y=this[A+7];(C===void 0||Y===void 0)&&qe(A,this.length-8);const oe=C+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,ce=this[++A]+this[++A]*2**8+this[++A]*2**16+Y*2**24;return BigInt(oe)+(BigInt(ce)<<BigInt(32))}),c.prototype.readBigUInt64BE=kt(function(A){A=A>>>0,Ft(A,"offset");const C=this[A],Y=this[A+7];(C===void 0||Y===void 0)&&qe(A,this.length-8);const oe=C*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],ce=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+Y;return(BigInt(oe)<<BigInt(32))+BigInt(ce)}),c.prototype.readIntLE=function(A,C,Y){A=A>>>0,C=C>>>0,Y||P(A,C,this.length);let oe=this[A],ce=1,me=0;for(;++me<C&&(ce*=256);)oe+=this[A+me]*ce;return ce*=128,oe>=ce&&(oe-=Math.pow(2,8*C)),oe},c.prototype.readIntBE=function(A,C,Y){A=A>>>0,C=C>>>0,Y||P(A,C,this.length);let oe=C,ce=1,me=this[A+--oe];for(;oe>0&&(ce*=256);)me+=this[A+--oe]*ce;return ce*=128,me>=ce&&(me-=Math.pow(2,8*C)),me},c.prototype.readInt8=function(A,C){return A=A>>>0,C||P(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},c.prototype.readInt16LE=function(A,C){A=A>>>0,C||P(A,2,this.length);const Y=this[A]|this[A+1]<<8;return Y&32768?Y|4294901760:Y},c.prototype.readInt16BE=function(A,C){A=A>>>0,C||P(A,2,this.length);const Y=this[A+1]|this[A]<<8;return Y&32768?Y|4294901760:Y},c.prototype.readInt32LE=function(A,C){return A=A>>>0,C||P(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},c.prototype.readInt32BE=function(A,C){return A=A>>>0,C||P(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},c.prototype.readBigInt64LE=kt(function(A){A=A>>>0,Ft(A,"offset");const C=this[A],Y=this[A+7];(C===void 0||Y===void 0)&&qe(A,this.length-8);const oe=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(Y<<24);return(BigInt(oe)<<BigInt(32))+BigInt(C+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),c.prototype.readBigInt64BE=kt(function(A){A=A>>>0,Ft(A,"offset");const C=this[A],Y=this[A+7];(C===void 0||Y===void 0)&&qe(A,this.length-8);const oe=(C<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(oe)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+Y)}),c.prototype.readFloatLE=function(A,C){return A=A>>>0,C||P(A,4,this.length),n.read(this,A,!0,23,4)},c.prototype.readFloatBE=function(A,C){return A=A>>>0,C||P(A,4,this.length),n.read(this,A,!1,23,4)},c.prototype.readDoubleLE=function(A,C){return A=A>>>0,C||P(A,8,this.length),n.read(this,A,!0,52,8)},c.prototype.readDoubleBE=function(A,C){return A=A>>>0,C||P(A,8,this.length),n.read(this,A,!1,52,8)};function w($,A,C,Y,oe,ce){if(!c.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>oe||A<ce)throw new RangeError('"value" argument is out of bounds');if(C+Y>$.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(A,C,Y,oe){if(A=+A,C=C>>>0,Y=Y>>>0,!oe){const rt=Math.pow(2,8*Y)-1;w(this,A,C,Y,rt,0)}let ce=1,me=0;for(this[C]=A&255;++me<Y&&(ce*=256);)this[C+me]=A/ce&255;return C+Y},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(A,C,Y,oe){if(A=+A,C=C>>>0,Y=Y>>>0,!oe){const rt=Math.pow(2,8*Y)-1;w(this,A,C,Y,rt,0)}let ce=Y-1,me=1;for(this[C+ce]=A&255;--ce>=0&&(me*=256);)this[C+ce]=A/me&255;return C+Y},c.prototype.writeUint8=c.prototype.writeUInt8=function(A,C,Y){return A=+A,C=C>>>0,Y||w(this,A,C,1,255,0),this[C]=A&255,C+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(A,C,Y){return A=+A,C=C>>>0,Y||w(this,A,C,2,65535,0),this[C]=A&255,this[C+1]=A>>>8,C+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(A,C,Y){return A=+A,C=C>>>0,Y||w(this,A,C,2,65535,0),this[C]=A>>>8,this[C+1]=A&255,C+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(A,C,Y){return A=+A,C=C>>>0,Y||w(this,A,C,4,4294967295,0),this[C+3]=A>>>24,this[C+2]=A>>>16,this[C+1]=A>>>8,this[C]=A&255,C+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(A,C,Y){return A=+A,C=C>>>0,Y||w(this,A,C,4,4294967295,0),this[C]=A>>>24,this[C+1]=A>>>16,this[C+2]=A>>>8,this[C+3]=A&255,C+4};function _($,A,C,Y,oe){pt(A,Y,oe,$,C,7);let ce=Number(A&BigInt(4294967295));$[C++]=ce,ce=ce>>8,$[C++]=ce,ce=ce>>8,$[C++]=ce,ce=ce>>8,$[C++]=ce;let me=Number(A>>BigInt(32)&BigInt(4294967295));return $[C++]=me,me=me>>8,$[C++]=me,me=me>>8,$[C++]=me,me=me>>8,$[C++]=me,C}function U($,A,C,Y,oe){pt(A,Y,oe,$,C,7);let ce=Number(A&BigInt(4294967295));$[C+7]=ce,ce=ce>>8,$[C+6]=ce,ce=ce>>8,$[C+5]=ce,ce=ce>>8,$[C+4]=ce;let me=Number(A>>BigInt(32)&BigInt(4294967295));return $[C+3]=me,me=me>>8,$[C+2]=me,me=me>>8,$[C+1]=me,me=me>>8,$[C]=me,C+8}c.prototype.writeBigUInt64LE=kt(function(A,C=0){return _(this,A,C,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=kt(function(A,C=0){return U(this,A,C,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(A,C,Y,oe){if(A=+A,C=C>>>0,!oe){const Xe=Math.pow(2,8*Y-1);w(this,A,C,Y,Xe-1,-Xe)}let ce=0,me=1,rt=0;for(this[C]=A&255;++ce<Y&&(me*=256);)A<0&&rt===0&&this[C+ce-1]!==0&&(rt=1),this[C+ce]=(A/me>>0)-rt&255;return C+Y},c.prototype.writeIntBE=function(A,C,Y,oe){if(A=+A,C=C>>>0,!oe){const Xe=Math.pow(2,8*Y-1);w(this,A,C,Y,Xe-1,-Xe)}let ce=Y-1,me=1,rt=0;for(this[C+ce]=A&255;--ce>=0&&(me*=256);)A<0&&rt===0&&this[C+ce+1]!==0&&(rt=1),this[C+ce]=(A/me>>0)-rt&255;return C+Y},c.prototype.writeInt8=function(A,C,Y){return A=+A,C=C>>>0,Y||w(this,A,C,1,127,-128),A<0&&(A=255+A+1),this[C]=A&255,C+1},c.prototype.writeInt16LE=function(A,C,Y){return A=+A,C=C>>>0,Y||w(this,A,C,2,32767,-32768),this[C]=A&255,this[C+1]=A>>>8,C+2},c.prototype.writeInt16BE=function(A,C,Y){return A=+A,C=C>>>0,Y||w(this,A,C,2,32767,-32768),this[C]=A>>>8,this[C+1]=A&255,C+2},c.prototype.writeInt32LE=function(A,C,Y){return A=+A,C=C>>>0,Y||w(this,A,C,4,2147483647,-2147483648),this[C]=A&255,this[C+1]=A>>>8,this[C+2]=A>>>16,this[C+3]=A>>>24,C+4},c.prototype.writeInt32BE=function(A,C,Y){return A=+A,C=C>>>0,Y||w(this,A,C,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[C]=A>>>24,this[C+1]=A>>>16,this[C+2]=A>>>8,this[C+3]=A&255,C+4},c.prototype.writeBigInt64LE=kt(function(A,C=0){return _(this,A,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=kt(function(A,C=0){return U(this,A,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K($,A,C,Y,oe,ce){if(C+Y>$.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function se($,A,C,Y,oe){return A=+A,C=C>>>0,oe||K($,A,C,4),n.write($,A,C,Y,23,4),C+4}c.prototype.writeFloatLE=function(A,C,Y){return se(this,A,C,!0,Y)},c.prototype.writeFloatBE=function(A,C,Y){return se(this,A,C,!1,Y)};function le($,A,C,Y,oe){return A=+A,C=C>>>0,oe||K($,A,C,8),n.write($,A,C,Y,52,8),C+8}c.prototype.writeDoubleLE=function(A,C,Y){return le(this,A,C,!0,Y)},c.prototype.writeDoubleBE=function(A,C,Y){return le(this,A,C,!1,Y)},c.prototype.copy=function(A,C,Y,oe){if(!c.isBuffer(A))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!oe&&oe!==0&&(oe=this.length),C>=A.length&&(C=A.length),C||(C=0),oe>0&&oe<Y&&(oe=Y),oe===Y||A.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),A.length-C<oe-Y&&(oe=A.length-C+Y);const ce=oe-Y;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,Y,oe):Uint8Array.prototype.set.call(A,this.subarray(Y,oe),C),ce},c.prototype.fill=function(A,C,Y,oe){if(typeof A=="string"){if(typeof C=="string"?(oe=C,C=0,Y=this.length):typeof Y=="string"&&(oe=Y,Y=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!c.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(A.length===1){const me=A.charCodeAt(0);(oe==="utf8"&&me<128||oe==="latin1")&&(A=me)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(C<0||this.length<C||this.length<Y)throw new RangeError("Out of range index");if(Y<=C)return this;C=C>>>0,Y=Y===void 0?this.length:Y>>>0,A||(A=0);let ce;if(typeof A=="number")for(ce=C;ce<Y;++ce)this[ce]=A;else{const me=c.isBuffer(A)?A:c.from(A,oe),rt=me.length;if(rt===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(ce=0;ce<Y-C;++ce)this[ce+C]=me[ce%rt]}return this};const ge={};function we($,A,C){ge[$]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(oe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:oe,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}we("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),we("ERR_INVALID_ARG_TYPE",function($,A){return`The "${$}" argument must be of type number. Received type ${typeof A}`},TypeError),we("ERR_OUT_OF_RANGE",function($,A,C){let Y=`The value of "${$}" is out of range.`,oe=C;return Number.isInteger(C)&&Math.abs(C)>2**32?oe=Ve(String(C)):typeof C=="bigint"&&(oe=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(oe=Ve(oe)),oe+="n"),Y+=` It must be ${A}. Received ${oe}`,Y},RangeError);function Ve($){let A="",C=$.length;const Y=$[0]==="-"?1:0;for(;C>=Y+4;C-=3)A=`_${$.slice(C-3,C)}${A}`;return`${$.slice(0,C)}${A}`}function lt($,A,C){Ft(A,"offset"),($[A]===void 0||$[A+C]===void 0)&&qe(A,$.length-(C+1))}function pt($,A,C,Y,oe,ce){if($>C||$<A){const me=typeof A=="bigint"?"n":"";let rt;throw A===0||A===BigInt(0)?rt=`>= 0${me} and < 2${me} ** ${(ce+1)*8}${me}`:rt=`>= -(2${me} ** ${(ce+1)*8-1}${me}) and < 2 ** ${(ce+1)*8-1}${me}`,new ge.ERR_OUT_OF_RANGE("value",rt,$)}lt(Y,oe,ce)}function Ft($,A){if(typeof $!="number")throw new ge.ERR_INVALID_ARG_TYPE(A,"number",$)}function qe($,A,C){throw Math.floor($)!==$?(Ft($,C),new ge.ERR_OUT_OF_RANGE("offset","an integer",$)):A<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${A}`,$)}const Ot=/[^+/0-9A-Za-z-_]/g;function kn($){if($=$.split("=")[0],$=$.trim().replace(Ot,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function Et($,A){A=A||1/0;let C;const Y=$.length;let oe=null;const ce=[];for(let me=0;me<Y;++me){if(C=$.charCodeAt(me),C>55295&&C<57344){if(!oe){if(C>56319){(A-=3)>-1&&ce.push(239,191,189);continue}else if(me+1===Y){(A-=3)>-1&&ce.push(239,191,189);continue}oe=C;continue}if(C<56320){(A-=3)>-1&&ce.push(239,191,189),oe=C;continue}C=(oe-55296<<10|C-56320)+65536}else oe&&(A-=3)>-1&&ce.push(239,191,189);if(oe=null,C<128){if((A-=1)<0)break;ce.push(C)}else if(C<2048){if((A-=2)<0)break;ce.push(C>>6|192,C&63|128)}else if(C<65536){if((A-=3)<0)break;ce.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((A-=4)<0)break;ce.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return ce}function Rt($){const A=[];for(let C=0;C<$.length;++C)A.push($.charCodeAt(C)&255);return A}function rs($,A){let C,Y,oe;const ce=[];for(let me=0;me<$.length&&!((A-=2)<0);++me)C=$.charCodeAt(me),Y=C>>8,oe=C%256,ce.push(oe),ce.push(Y);return ce}function st($){return e.toByteArray(kn($))}function et($,A,C,Y){let oe;for(oe=0;oe<Y&&!(oe+C>=A.length||oe>=$.length);++oe)A[oe+C]=$[oe];return oe}function mn($,A){return $ instanceof A||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===A.name}function nt($){return $!==$}const bt=(function(){const $="0123456789abcdef",A=new Array(256);for(let C=0;C<16;++C){const Y=C*16;for(let oe=0;oe<16;++oe)A[Y+oe]=$[C]+$[oe]}return A})();function kt($){return typeof BigInt>"u"?Lt:$}function Lt(){throw new Error("BigInt not supported")}})(Om)),Om}var at=jy(),Fd={},Lm={exports:{}},Sr={},Bm={exports:{}},jm={};var D1;function eI(){return D1||(D1=1,(function(t){function e(B,V){var H=B.length;B.push(V);e:for(;0<H;){var P=H-1>>>1,w=B[P];if(0<s(w,V))B[P]=V,B[H]=w,H=P;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var V=B[0],H=B.pop();if(H!==V){B[0]=H;e:for(var P=0,w=B.length,_=w>>>1;P<_;){var U=2*(P+1)-1,K=B[U],se=U+1,le=B[se];if(0>s(K,H))se<w&&0>s(le,K)?(B[P]=le,B[se]=H,P=se):(B[P]=K,B[U]=H,P=U);else if(se<w&&0>s(le,H))B[P]=le,B[se]=H,P=se;else break e}}return V}function s(B,V){var H=B.sortIndex-V.sortIndex;return H!==0?H:B.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],f=[],h=1,g=null,y=3,v=!1,S=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(B){for(var V=n(f);V!==null;){if(V.callback===null)r(f);else if(V.startTime<=B)r(f),V.sortIndex=V.expirationTime,e(u,V);else break;V=n(f)}}function W(B){if(x=!1,I(B),!S)if(n(u)!==null)S=!0,O(q);else{var V=n(f);V!==null&&j(W,V.startTime-B)}}function q(B,V){S=!1,x&&(x=!1,M(ne),ne=-1),v=!0;var H=y;try{for(I(V),g=n(u);g!==null&&(!(g.expirationTime>V)||B&&!X());){var P=g.callback;if(typeof P=="function"){g.callback=null,y=g.priorityLevel;var w=P(g.expirationTime<=V);V=t.unstable_now(),typeof w=="function"?g.callback=w:g===n(u)&&r(u),I(V)}else r(u);g=n(u)}if(g!==null)var _=!0;else{var U=n(f);U!==null&&j(W,U.startTime-V),_=!1}return _}finally{g=null,y=H,v=!1}}var J=!1,te=null,ne=-1,z=5,G=-1;function X(){return!(t.unstable_now()-G<z)}function Z(){if(te!==null){var B=t.unstable_now();G=B;var V=!0;try{V=te(!0,B)}finally{V?N():(J=!1,te=null)}}else J=!1}var N;if(typeof L=="function")N=function(){L(Z)};else if(typeof MessageChannel<"u"){var m=new MessageChannel,E=m.port2;m.port1.onmessage=Z,N=function(){E.postMessage(null)}}else N=function(){k(Z,0)};function O(B){te=B,J||(J=!0,N())}function j(B,V){ne=k(function(){B(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){S||v||(S=!0,O(q))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var H=y;y=V;try{return B()}finally{y=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=y;y=B;try{return V()}finally{y=H}},t.unstable_scheduleCallback=function(B,V,H){var P=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?P+H:P):H=P,B){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=H+w,B={id:h++,callback:V,priorityLevel:B,startTime:H,expirationTime:w,sortIndex:-1},H>P?(B.sortIndex=H,e(f,B),n(u)===null&&B===n(f)&&(x?(M(ne),ne=-1):x=!0,j(W,H-P))):(B.sortIndex=w,e(u,B),S||v||(S=!0,O(q))),B},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(B){var V=y;return function(){var H=y;y=V;try{return B.apply(this,arguments)}finally{y=H}}}})(jm)),jm}var U1;function tI(){return U1||(U1=1,Bm.exports=eI()),Bm.exports}var F1;function nI(){if(F1)return Sr;F1=1;var t=bh(),e=tI();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function y(o){return u.call(g,o)?!0:u.call(h,o)?!1:f.test(o)?g[o]=!0:(h[o]=!0,!1)}function v(o,l,d,p){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,l,d,p){if(l===null||typeof l>"u"||v(o,l,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function x(o,l,d,p,b,T,F){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=T,this.removeEmptyString=F}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new x(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];k[l]=new x(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new x(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new x(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new x(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new x(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new x(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new x(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new x(o,5,!1,o.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(M,L);k[l]=new x(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(M,L);k[l]=new x(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(M,L);k[l]=new x(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new x(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new x(o,1,!1,o.toLowerCase(),null,!0,!0)});function I(o,l,d,p){var b=k.hasOwnProperty(l)?k[l]:null;(b!==null?b.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,d,b,p)&&(d=null),p||b===null?y(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):b.mustUseProperty?o[b.propertyName]=d===null?b.type===3?!1:"":d:(l=b.attributeName,p=b.attributeNamespace,d===null?o.removeAttribute(l):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,p?o.setAttributeNS(p,l,d):o.setAttribute(l,d))))}var W=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),J=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),X=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),B=Symbol.iterator;function V(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var H=Object.assign,P;function w(o){if(P===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);P=l&&l[1]||""}return`
`+P+o}var _=!1;function U(o,l){if(!o||_)return"";_=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(pe){var p=pe}Reflect.construct(o,[],l)}else{try{l.call()}catch(pe){p=pe}o.call(l.prototype)}else{try{throw Error()}catch(pe){p=pe}o()}}catch(pe){if(pe&&p&&typeof pe.stack=="string"){for(var b=pe.stack.split(`
`),T=p.stack.split(`
`),F=b.length-1,ee=T.length-1;1<=F&&0<=ee&&b[F]!==T[ee];)ee--;for(;1<=F&&0<=ee;F--,ee--)if(b[F]!==T[ee]){if(F!==1||ee!==1)do if(F--,ee--,0>ee||b[F]!==T[ee]){var ie=`
`+b[F].replace(" at new "," at ");return o.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",o.displayName)),ie}while(1<=F&&0<=ee);break}}}finally{_=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?w(o):""}function K(o){switch(o.tag){case 5:return w(o.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 2:case 15:return o=U(o.type,!1),o;case 11:return o=U(o.type.render,!1),o;case 1:return o=U(o.type,!0),o;default:return""}}function se(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case te:return"Fragment";case J:return"Portal";case z:return"Profiler";case ne:return"StrictMode";case N:return"Suspense";case m:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case X:return(o.displayName||"Context")+".Consumer";case G:return(o._context.displayName||"Context")+".Provider";case Z:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case E:return l=o.displayName||null,l!==null?l:se(o.type)||"Memo";case O:l=o._payload,o=o._init;try{return se(o(l))}catch{}}return null}function le(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(l);case 8:return l===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ge(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function we(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ve(o){var l=we(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,T=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return b.call(this)},set:function(F){p=""+F,T.call(this,F)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(F){p=""+F},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function lt(o){o._valueTracker||(o._valueTracker=Ve(o))}function pt(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return o&&(p=we(o)?o.checked?"true":"false":o.value),o=p,o!==d?(l.setValue(o),!0):!1}function Ft(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function qe(o,l){var d=l.checked;return H({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function Ot(o,l){var d=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;d=ge(l.value!=null?l.value:d),o._wrapperState={initialChecked:p,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function kn(o,l){l=l.checked,l!=null&&I(o,"checked",l,!1)}function Et(o,l){kn(o,l);var d=ge(l.value),p=l.type;if(d!=null)p==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?rs(o,l.type,d):l.hasOwnProperty("defaultValue")&&rs(o,l.type,ge(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Rt(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function rs(o,l,d){(l!=="number"||Ft(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var st=Array.isArray;function et(o,l,d,p){if(o=o.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<o.length;d++)b=l.hasOwnProperty("$"+o[d].value),o[d].selected!==b&&(o[d].selected=b),b&&p&&(o[d].defaultSelected=!0)}else{for(d=""+ge(d),l=null,b=0;b<o.length;b++){if(o[b].value===d){o[b].selected=!0,p&&(o[b].defaultSelected=!0);return}l!==null||o[b].disabled||(l=o[b])}l!==null&&(l.selected=!0)}}function mn(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function nt(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(st(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:ge(d)}}function bt(o,l){var d=ge(l.value),p=ge(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),p!=null&&(o.defaultValue=""+p)}function kt(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Lt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Lt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var A,C=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,p,b){MSApp.execUnsafeLocalFunction(function(){return o(l,d,p,b)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(A=A||document.createElement("div"),A.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=A.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Y(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var oe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","ms","Moz","O"];Object.keys(oe).forEach(function(o){ce.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),oe[l]=oe[o]})});function me(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||oe.hasOwnProperty(o)&&oe[o]?(""+l).trim():l+"px"}function rt(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var p=d.indexOf("--")===0,b=me(d,l[d],p);d==="float"&&(d="cssFloat"),p?o.setProperty(d,b):o[d]=b}}var Xe=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ye(o,l){if(l){if(Xe[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function ft(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ue=null;function Pt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var vi=null,ht=null,xt=null;function ss(o){if(o=ic(o)){if(typeof vi!="function")throw Error(n(280));var l=o.stateNode;l&&(l=ed(l),vi(o.stateNode,o.type,l))}}function Bt(o){ht?xt?xt.push(o):xt=[o]:ht=o}function At(){if(ht){var o=ht,l=xt;if(xt=ht=null,ss(o),l)for(o=0;o<l.length;o++)ss(l[o])}}function Ts(o,l){return o(l)}function jt(){}var Dt=!1;function yo(o,l,d){if(Dt)return o(l,d);Dt=!0;try{return Ts(o,l,d)}finally{Dt=!1,(ht!==null||xt!==null)&&(jt(),At())}}function It(o,l){var d=o.stateNode;if(d===null)return null;var p=ed(d);if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var gt=!1;if(c)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){gt=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{gt=!1}function qt(o,l,d,p,b,T,F,ee,ie){var pe=Array.prototype.slice.call(arguments,3);try{l.apply(d,pe)}catch(xe){this.onError(xe)}}var Mt=!1,Bn=null,Nt=!1,Ut=null,ha={onError:function(o){Mt=!0,Bn=o}};function Q(o,l,d,p,b,T,F,ee,ie){Mt=!1,Bn=null,qt.apply(ha,arguments)}function ye(o,l,d,p,b,T,F,ee,ie){if(Q.apply(this,arguments),Mt){if(Mt){var pe=Bn;Mt=!1,Bn=null}else throw Error(n(198));Nt||(Nt=!0,Ut=pe)}}function Ce(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function Ne(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Ie(o){if(Ce(o)!==o)throw Error(n(188))}function it(o){var l=o.alternate;if(!l){if(l=Ce(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,p=l;;){var b=d.return;if(b===null)break;var T=b.alternate;if(T===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===T.child){for(T=b.child;T;){if(T===d)return Ie(b),o;if(T===p)return Ie(b),l;T=T.sibling}throw Error(n(188))}if(d.return!==p.return)d=b,p=T;else{for(var F=!1,ee=b.child;ee;){if(ee===d){F=!0,d=b,p=T;break}if(ee===p){F=!0,p=b,d=T;break}ee=ee.sibling}if(!F){for(ee=T.child;ee;){if(ee===d){F=!0,d=T,p=b;break}if(ee===p){F=!0,p=T,d=b;break}ee=ee.sibling}if(!F)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function Kt(o){return o=it(o),o!==null?lr(o):null}function lr(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=lr(o);if(l!==null)return l;o=o.sibling}return null}var jn=e.unstable_scheduleCallback,gr=e.unstable_cancelCallback,is=e.unstable_shouldYield,os=e.unstable_requestPaint,yt=e.unstable_now,bi=e.unstable_getCurrentPriorityLevel,as=e.unstable_ImmediatePriority,cr=e.unstable_UserBlockingPriority,ln=e.unstable_NormalPriority,pa=e.unstable_LowPriority,wo=e.unstable_IdlePriority,Kr=null,Gn=null;function Ul(o){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Kr,o,void 0,(o.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:fR,Fl=Math.log,dR=Math.LN2;function fR(o){return o>>>=0,o===0?32:31-(Fl(o)/dR|0)|0}var Bu=64,ju=4194304;function zl(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Du(o,l){var d=o.pendingLanes;if(d===0)return 0;var p=0,b=o.suspendedLanes,T=o.pingedLanes,F=d&268435455;if(F!==0){var ee=F&~b;ee!==0?p=zl(ee):(T&=F,T!==0&&(p=zl(T)))}else F=d&~b,F!==0?p=zl(F):T!==0&&(p=zl(T));if(p===0)return 0;if(l!==0&&l!==p&&(l&b)===0&&(b=p&-p,T=l&-l,b>=T||b===16&&(T&4194240)!==0))return l;if((p&4)!==0&&(p|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=p;0<l;)d=31-ur(l),b=1<<d,p|=o[d],l&=~b;return p}function hR(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pR(o,l){for(var d=o.suspendedLanes,p=o.pingedLanes,b=o.expirationTimes,T=o.pendingLanes;0<T;){var F=31-ur(T),ee=1<<F,ie=b[F];ie===-1?((ee&d)===0||(ee&p)!==0)&&(b[F]=hR(ee,l)):ie<=l&&(o.expiredLanes|=ee),T&=~ee}}function Xh(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function lv(){var o=Bu;return Bu<<=1,(Bu&4194240)===0&&(Bu=64),o}function ep(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function $l(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-ur(l),o[l]=d}function mR(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<d;){var b=31-ur(d),T=1<<b;l[b]=0,p[b]=-1,o[b]=-1,d&=~T}}function tp(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var p=31-ur(d),b=1<<p;b&l|o[p]&l&&(o[p]|=l),d&=~b}}var Tt=0;function cv(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var uv,np,dv,fv,hv,rp=!1,Uu=[],xi=null,Si=null,_i=null,Wl=new Map,Vl=new Map,Ei=[],gR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pv(o,l){switch(o){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Wl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(l.pointerId)}}function ql(o,l,d,p,b,T){return o===null||o.nativeEvent!==T?(o={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:T,targetContainers:[b]},l!==null&&(l=ic(l),l!==null&&np(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),o)}function yR(o,l,d,p,b){switch(l){case"focusin":return xi=ql(xi,o,l,d,p,b),!0;case"dragenter":return Si=ql(Si,o,l,d,p,b),!0;case"mouseover":return _i=ql(_i,o,l,d,p,b),!0;case"pointerover":var T=b.pointerId;return Wl.set(T,ql(Wl.get(T)||null,o,l,d,p,b)),!0;case"gotpointercapture":return T=b.pointerId,Vl.set(T,ql(Vl.get(T)||null,o,l,d,p,b)),!0}return!1}function mv(o){var l=vo(o.target);if(l!==null){var d=Ce(l);if(d!==null){if(l=d.tag,l===13){if(l=Ne(d),l!==null){o.blockedOn=l,hv(o.priority,function(){dv(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Fu(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=ip(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var p=new d.constructor(d.type,d);Ue=p,d.target.dispatchEvent(p),Ue=null}else return l=ic(d),l!==null&&np(l),o.blockedOn=d,!1;l.shift()}return!0}function gv(o,l,d){Fu(o)&&d.delete(l)}function wR(){rp=!1,xi!==null&&Fu(xi)&&(xi=null),Si!==null&&Fu(Si)&&(Si=null),_i!==null&&Fu(_i)&&(_i=null),Wl.forEach(gv),Vl.forEach(gv)}function Kl(o,l){o.blockedOn===l&&(o.blockedOn=null,rp||(rp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wR)))}function Hl(o){function l(b){return Kl(b,o)}if(0<Uu.length){Kl(Uu[0],o);for(var d=1;d<Uu.length;d++){var p=Uu[d];p.blockedOn===o&&(p.blockedOn=null)}}for(xi!==null&&Kl(xi,o),Si!==null&&Kl(Si,o),_i!==null&&Kl(_i,o),Wl.forEach(l),Vl.forEach(l),d=0;d<Ei.length;d++)p=Ei[d],p.blockedOn===o&&(p.blockedOn=null);for(;0<Ei.length&&(d=Ei[0],d.blockedOn===null);)mv(d),d.blockedOn===null&&Ei.shift()}var ma=W.ReactCurrentBatchConfig,zu=!0;function vR(o,l,d,p){var b=Tt,T=ma.transition;ma.transition=null;try{Tt=1,sp(o,l,d,p)}finally{Tt=b,ma.transition=T}}function bR(o,l,d,p){var b=Tt,T=ma.transition;ma.transition=null;try{Tt=4,sp(o,l,d,p)}finally{Tt=b,ma.transition=T}}function sp(o,l,d,p){if(zu){var b=ip(o,l,d,p);if(b===null)Sp(o,l,p,$u,d),pv(o,p);else if(yR(b,o,l,d,p))p.stopPropagation();else if(pv(o,p),l&4&&-1<gR.indexOf(o)){for(;b!==null;){var T=ic(b);if(T!==null&&uv(T),T=ip(o,l,d,p),T===null&&Sp(o,l,p,$u,d),T===b)break;b=T}b!==null&&p.stopPropagation()}else Sp(o,l,p,null,d)}}var $u=null;function ip(o,l,d,p){if($u=null,o=Pt(p),o=vo(o),o!==null)if(l=Ce(o),l===null)o=null;else if(d=l.tag,d===13){if(o=Ne(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return $u=o,null}function yv(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bi()){case as:return 1;case cr:return 4;case ln:case pa:return 16;case wo:return 536870912;default:return 16}default:return 16}}var ki=null,op=null,Wu=null;function wv(){if(Wu)return Wu;var o,l=op,d=l.length,p,b="value"in ki?ki.value:ki.textContent,T=b.length;for(o=0;o<d&&l[o]===b[o];o++);var F=d-o;for(p=1;p<=F&&l[d-p]===b[T-p];p++);return Wu=b.slice(o,1<p?1-p:void 0)}function Vu(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function qu(){return!0}function vv(){return!1}function Ir(o){function l(d,p,b,T,F){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=T,this.target=F,this.currentTarget=null;for(var ee in o)o.hasOwnProperty(ee)&&(d=o[ee],this[ee]=d?d(T):T[ee]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?qu:vv,this.isPropagationStopped=vv,this}return H(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),l}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ap=Ir(ga),Gl=H({},ga,{view:0,detail:0}),xR=Ir(Gl),lp,cp,Yl,Ku=H({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Yl&&(Yl&&o.type==="mousemove"?(lp=o.screenX-Yl.screenX,cp=o.screenY-Yl.screenY):cp=lp=0,Yl=o),lp)},movementY:function(o){return"movementY"in o?o.movementY:cp}}),bv=Ir(Ku),SR=H({},Ku,{dataTransfer:0}),_R=Ir(SR),ER=H({},Gl,{relatedTarget:0}),up=Ir(ER),kR=H({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),AR=Ir(kR),TR=H({},ga,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),CR=Ir(TR),RR=H({},ga,{data:0}),xv=Ir(RR),PR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NR(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=MR[o])?!!l[o]:!1}function dp(){return NR}var OR=H({},Gl,{key:function(o){if(o.key){var l=PR[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Vu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?IR[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dp,charCode:function(o){return o.type==="keypress"?Vu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Vu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),LR=Ir(OR),BR=H({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sv=Ir(BR),jR=H({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dp}),DR=Ir(jR),UR=H({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),FR=Ir(UR),zR=H({},Ku,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),$R=Ir(zR),WR=[9,13,27,32],fp=c&&"CompositionEvent"in window,Ql=null;c&&"documentMode"in document&&(Ql=document.documentMode);var VR=c&&"TextEvent"in window&&!Ql,_v=c&&(!fp||Ql&&8<Ql&&11>=Ql),Ev=" ",kv=!1;function Av(o,l){switch(o){case"keyup":return WR.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tv(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ya=!1;function qR(o,l){switch(o){case"compositionend":return Tv(l);case"keypress":return l.which!==32?null:(kv=!0,Ev);case"textInput":return o=l.data,o===Ev&&kv?null:o;default:return null}}function KR(o,l){if(ya)return o==="compositionend"||!fp&&Av(o,l)?(o=wv(),Wu=op=ki=null,ya=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return _v&&l.locale!=="ko"?null:l.data;default:return null}}var HR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cv(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!HR[o.type]:l==="textarea"}function Rv(o,l,d,p){Bt(p),l=Ju(l,"onChange"),0<l.length&&(d=new ap("onChange","change",null,d,p),o.push({event:d,listeners:l}))}var Jl=null,Zl=null;function GR(o){Hv(o,0)}function Hu(o){var l=Sa(o);if(pt(l))return o}function YR(o,l){if(o==="change")return l}var Pv=!1;if(c){var hp;if(c){var pp="oninput"in document;if(!pp){var Iv=document.createElement("div");Iv.setAttribute("oninput","return;"),pp=typeof Iv.oninput=="function"}hp=pp}else hp=!1;Pv=hp&&(!document.documentMode||9<document.documentMode)}function Mv(){Jl&&(Jl.detachEvent("onpropertychange",Nv),Zl=Jl=null)}function Nv(o){if(o.propertyName==="value"&&Hu(Zl)){var l=[];Rv(l,Zl,o,Pt(o)),yo(GR,l)}}function QR(o,l,d){o==="focusin"?(Mv(),Jl=l,Zl=d,Jl.attachEvent("onpropertychange",Nv)):o==="focusout"&&Mv()}function JR(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Hu(Zl)}function ZR(o,l){if(o==="click")return Hu(l)}function XR(o,l){if(o==="input"||o==="change")return Hu(l)}function eP(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var ls=typeof Object.is=="function"?Object.is:eP;function Xl(o,l){if(ls(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!u.call(l,b)||!ls(o[b],l[b]))return!1}return!0}function Ov(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Lv(o,l){var d=Ov(o);o=0;for(var p;d;){if(d.nodeType===3){if(p=o+d.textContent.length,o<=l&&p>=l)return{node:d,offset:l-o};o=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ov(d)}}function Bv(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Bv(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function jv(){for(var o=window,l=Ft();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Ft(o.document)}return l}function mp(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function tP(o){var l=jv(),d=o.focusedElem,p=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&Bv(d.ownerDocument.documentElement,d)){if(p!==null&&mp(d)){if(l=p.start,o=p.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var b=d.textContent.length,T=Math.min(p.start,b);p=p.end===void 0?T:Math.min(p.end,b),!o.extend&&T>p&&(b=p,p=T,T=b),b=Lv(d,T);var F=Lv(d,p);b&&F&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==F.node||o.focusOffset!==F.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),o.removeAllRanges(),T>p?(o.addRange(l),o.extend(F.node,F.offset)):(l.setEnd(F.node,F.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var nP=c&&"documentMode"in document&&11>=document.documentMode,wa=null,gp=null,ec=null,yp=!1;function Dv(o,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;yp||wa==null||wa!==Ft(p)||(p=wa,"selectionStart"in p&&mp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ec&&Xl(ec,p)||(ec=p,p=Ju(gp,"onSelect"),0<p.length&&(l=new ap("onSelect","select",null,l,d),o.push({event:l,listeners:p}),l.target=wa)))}function Gu(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var va={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},wp={},Uv={};c&&(Uv=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Yu(o){if(wp[o])return wp[o];if(!va[o])return o;var l=va[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in Uv)return wp[o]=l[d];return o}var Fv=Yu("animationend"),zv=Yu("animationiteration"),$v=Yu("animationstart"),Wv=Yu("transitionend"),Vv=new Map,qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(o,l){Vv.set(o,l),i(l,[o])}for(var vp=0;vp<qv.length;vp++){var bp=qv[vp],rP=bp.toLowerCase(),sP=bp[0].toUpperCase()+bp.slice(1);Ai(rP,"on"+sP)}Ai(Fv,"onAnimationEnd"),Ai(zv,"onAnimationIteration"),Ai($v,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Wv,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iP=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function Kv(o,l,d){var p=o.type||"unknown-event";o.currentTarget=d,ye(p,l,void 0,o),o.currentTarget=null}function Hv(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var p=o[d],b=p.event;p=p.listeners;e:{var T=void 0;if(l)for(var F=p.length-1;0<=F;F--){var ee=p[F],ie=ee.instance,pe=ee.currentTarget;if(ee=ee.listener,ie!==T&&b.isPropagationStopped())break e;Kv(b,ee,pe),T=ie}else for(F=0;F<p.length;F++){if(ee=p[F],ie=ee.instance,pe=ee.currentTarget,ee=ee.listener,ie!==T&&b.isPropagationStopped())break e;Kv(b,ee,pe),T=ie}}}if(Nt)throw o=Ut,Nt=!1,Ut=null,o}function Ht(o,l){var d=l[Cp];d===void 0&&(d=l[Cp]=new Set);var p=o+"__bubble";d.has(p)||(Gv(l,o,2,!1),d.add(p))}function xp(o,l,d){var p=0;l&&(p|=4),Gv(d,o,p,l)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function nc(o){if(!o[Qu]){o[Qu]=!0,r.forEach(function(d){d!=="selectionchange"&&(iP.has(d)||xp(d,!1,o),xp(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Qu]||(l[Qu]=!0,xp("selectionchange",!1,l))}}function Gv(o,l,d,p){switch(yv(l)){case 1:var b=vR;break;case 4:b=bR;break;default:b=sp}d=b.bind(null,l,d,o),b=void 0,!gt||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?o.addEventListener(l,d,{capture:!0,passive:b}):o.addEventListener(l,d,!0):b!==void 0?o.addEventListener(l,d,{passive:b}):o.addEventListener(l,d,!1)}function Sp(o,l,d,p,b){var T=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var F=p.tag;if(F===3||F===4){var ee=p.stateNode.containerInfo;if(ee===b||ee.nodeType===8&&ee.parentNode===b)break;if(F===4)for(F=p.return;F!==null;){var ie=F.tag;if((ie===3||ie===4)&&(ie=F.stateNode.containerInfo,ie===b||ie.nodeType===8&&ie.parentNode===b))return;F=F.return}for(;ee!==null;){if(F=vo(ee),F===null)return;if(ie=F.tag,ie===5||ie===6){p=T=F;continue e}ee=ee.parentNode}}p=p.return}yo(function(){var pe=T,xe=Pt(d),Ee=[];e:{var be=Vv.get(o);if(be!==void 0){var Me=ap,Le=o;switch(o){case"keypress":if(Vu(d)===0)break e;case"keydown":case"keyup":Me=LR;break;case"focusin":Le="focus",Me=up;break;case"focusout":Le="blur",Me=up;break;case"beforeblur":case"afterblur":Me=up;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=_R;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=DR;break;case Fv:case zv:case $v:Me=AR;break;case Wv:Me=FR;break;case"scroll":Me=xR;break;case"wheel":Me=$R;break;case"copy":case"cut":case"paste":Me=CR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Sv}var Be=(l&4)!==0,gn=!Be&&o==="scroll",ue=Be?be!==null?be+"Capture":null:be;Be=[];for(var ae=pe,fe;ae!==null;){fe=ae;var ke=fe.stateNode;if(fe.tag===5&&ke!==null&&(fe=ke,ue!==null&&(ke=It(ae,ue),ke!=null&&Be.push(rc(ae,ke,fe)))),gn)break;ae=ae.return}0<Be.length&&(be=new Me(be,Le,null,d,xe),Ee.push({event:be,listeners:Be}))}}if((l&7)===0){e:{if(be=o==="mouseover"||o==="pointerover",Me=o==="mouseout"||o==="pointerout",be&&d!==Ue&&(Le=d.relatedTarget||d.fromElement)&&(vo(Le)||Le[Vs]))break e;if((Me||be)&&(be=xe.window===xe?xe:(be=xe.ownerDocument)?be.defaultView||be.parentWindow:window,Me?(Le=d.relatedTarget||d.toElement,Me=pe,Le=Le?vo(Le):null,Le!==null&&(gn=Ce(Le),Le!==gn||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Me=null,Le=pe),Me!==Le)){if(Be=bv,ke="onMouseLeave",ue="onMouseEnter",ae="mouse",(o==="pointerout"||o==="pointerover")&&(Be=Sv,ke="onPointerLeave",ue="onPointerEnter",ae="pointer"),gn=Me==null?be:Sa(Me),fe=Le==null?be:Sa(Le),be=new Be(ke,ae+"leave",Me,d,xe),be.target=gn,be.relatedTarget=fe,ke=null,vo(xe)===pe&&(Be=new Be(ue,ae+"enter",Le,d,xe),Be.target=fe,Be.relatedTarget=gn,ke=Be),gn=ke,Me&&Le)t:{for(Be=Me,ue=Le,ae=0,fe=Be;fe;fe=ba(fe))ae++;for(fe=0,ke=ue;ke;ke=ba(ke))fe++;for(;0<ae-fe;)Be=ba(Be),ae--;for(;0<fe-ae;)ue=ba(ue),fe--;for(;ae--;){if(Be===ue||ue!==null&&Be===ue.alternate)break t;Be=ba(Be),ue=ba(ue)}Be=null}else Be=null;Me!==null&&Yv(Ee,be,Me,Be,!1),Le!==null&&gn!==null&&Yv(Ee,gn,Le,Be,!0)}}e:{if(be=pe?Sa(pe):window,Me=be.nodeName&&be.nodeName.toLowerCase(),Me==="select"||Me==="input"&&be.type==="file")var je=YR;else if(Cv(be))if(Pv)je=XR;else{je=JR;var Ke=QR}else(Me=be.nodeName)&&Me.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&(je=ZR);if(je&&(je=je(o,pe))){Rv(Ee,je,d,xe);break e}Ke&&Ke(o,be,pe),o==="focusout"&&(Ke=be._wrapperState)&&Ke.controlled&&be.type==="number"&&rs(be,"number",be.value)}switch(Ke=pe?Sa(pe):window,o){case"focusin":(Cv(Ke)||Ke.contentEditable==="true")&&(wa=Ke,gp=pe,ec=null);break;case"focusout":ec=gp=wa=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,Dv(Ee,d,xe);break;case"selectionchange":if(nP)break;case"keydown":case"keyup":Dv(Ee,d,xe)}var He;if(fp)e:{switch(o){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else ya?Av(o,d)&&(tt="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(tt="onCompositionStart");tt&&(_v&&d.locale!=="ko"&&(ya||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&ya&&(He=wv()):(ki=xe,op="value"in ki?ki.value:ki.textContent,ya=!0)),Ke=Ju(pe,tt),0<Ke.length&&(tt=new xv(tt,o,null,d,xe),Ee.push({event:tt,listeners:Ke}),He?tt.data=He:(He=Tv(d),He!==null&&(tt.data=He)))),(He=VR?qR(o,d):KR(o,d))&&(pe=Ju(pe,"onBeforeInput"),0<pe.length&&(xe=new xv("onBeforeInput","beforeinput",null,d,xe),Ee.push({event:xe,listeners:pe}),xe.data=He))}Hv(Ee,l)})}function rc(o,l,d){return{instance:o,listener:l,currentTarget:d}}function Ju(o,l){for(var d=l+"Capture",p=[];o!==null;){var b=o,T=b.stateNode;b.tag===5&&T!==null&&(b=T,T=It(o,d),T!=null&&p.unshift(rc(o,T,b)),T=It(o,l),T!=null&&p.push(rc(o,T,b))),o=o.return}return p}function ba(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Yv(o,l,d,p,b){for(var T=l._reactName,F=[];d!==null&&d!==p;){var ee=d,ie=ee.alternate,pe=ee.stateNode;if(ie!==null&&ie===p)break;ee.tag===5&&pe!==null&&(ee=pe,b?(ie=It(d,T),ie!=null&&F.unshift(rc(d,ie,ee))):b||(ie=It(d,T),ie!=null&&F.push(rc(d,ie,ee)))),d=d.return}F.length!==0&&o.push({event:l,listeners:F})}var oP=/\r\n?/g,aP=/\u0000|\uFFFD/g;function Qv(o){return(typeof o=="string"?o:""+o).replace(oP,`
`).replace(aP,"")}function Zu(o,l,d){if(l=Qv(l),Qv(o)!==l&&d)throw Error(n(425))}function Xu(){}var _p=null,Ep=null;function kp(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ap=typeof setTimeout=="function"?setTimeout:void 0,lP=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,cP=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(o){return Jv.resolve(null).then(o).catch(uP)}:Ap;function uP(o){setTimeout(function(){throw o})}function Tp(o,l){var d=l,p=0;do{var b=d.nextSibling;if(o.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(p===0){o.removeChild(b),Hl(l);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=b}while(d);Hl(l)}function Ti(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Zv(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var xa=Math.random().toString(36).slice(2),Cs="__reactFiber$"+xa,sc="__reactProps$"+xa,Vs="__reactContainer$"+xa,Cp="__reactEvents$"+xa,dP="__reactListeners$"+xa,fP="__reactHandles$"+xa;function vo(o){var l=o[Cs];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Vs]||d[Cs]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=Zv(o);o!==null;){if(d=o[Cs])return d;o=Zv(o)}return l}o=d,d=o.parentNode}return null}function ic(o){return o=o[Cs]||o[Vs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Sa(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function ed(o){return o[sc]||null}var Rp=[],_a=-1;function Ci(o){return{current:o}}function Gt(o){0>_a||(o.current=Rp[_a],Rp[_a]=null,_a--)}function zt(o,l){_a++,Rp[_a]=o.current,o.current=l}var Ri={},Yn=Ci(Ri),yr=Ci(!1),bo=Ri;function Ea(o,l){var d=o.type.contextTypes;if(!d)return Ri;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var b={},T;for(T in d)b[T]=l[T];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=b),b}function wr(o){return o=o.childContextTypes,o!=null}function td(){Gt(yr),Gt(Yn)}function Xv(o,l,d){if(Yn.current!==Ri)throw Error(n(168));zt(Yn,l),zt(yr,d)}function eb(o,l,d){var p=o.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var b in p)if(!(b in l))throw Error(n(108,le(o)||"Unknown",b));return H({},d,p)}function nd(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ri,bo=Yn.current,zt(Yn,o),zt(yr,yr.current),!0}function tb(o,l,d){var p=o.stateNode;if(!p)throw Error(n(169));d?(o=eb(o,l,bo),p.__reactInternalMemoizedMergedChildContext=o,Gt(yr),Gt(Yn),zt(Yn,o)):Gt(yr),zt(yr,d)}var qs=null,rd=!1,Pp=!1;function nb(o){qs===null?qs=[o]:qs.push(o)}function hP(o){rd=!0,nb(o)}function Pi(){if(!Pp&&qs!==null){Pp=!0;var o=0,l=Tt;try{var d=qs;for(Tt=1;o<d.length;o++){var p=d[o];do p=p(!0);while(p!==null)}qs=null,rd=!1}catch(b){throw qs!==null&&(qs=qs.slice(o+1)),jn(as,Pi),b}finally{Tt=l,Pp=!1}}return null}var ka=[],Aa=0,sd=null,id=0,Hr=[],Gr=0,xo=null,Ks=1,Hs="";function So(o,l){ka[Aa++]=id,ka[Aa++]=sd,sd=o,id=l}function rb(o,l,d){Hr[Gr++]=Ks,Hr[Gr++]=Hs,Hr[Gr++]=xo,xo=o;var p=Ks;o=Hs;var b=32-ur(p)-1;p&=~(1<<b),d+=1;var T=32-ur(l)+b;if(30<T){var F=b-b%5;T=(p&(1<<F)-1).toString(32),p>>=F,b-=F,Ks=1<<32-ur(l)+b|d<<b|p,Hs=T+o}else Ks=1<<T|d<<b|p,Hs=o}function Ip(o){o.return!==null&&(So(o,1),rb(o,1,0))}function Mp(o){for(;o===sd;)sd=ka[--Aa],ka[Aa]=null,id=ka[--Aa],ka[Aa]=null;for(;o===xo;)xo=Hr[--Gr],Hr[Gr]=null,Hs=Hr[--Gr],Hr[Gr]=null,Ks=Hr[--Gr],Hr[Gr]=null}var Mr=null,Nr=null,Jt=!1,cs=null;function sb(o,l){var d=Zr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function ib(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Mr=o,Nr=Ti(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Mr=o,Nr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=xo!==null?{id:Ks,overflow:Hs}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Zr(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,Mr=o,Nr=null,!0):!1;default:return!1}}function Np(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Op(o){if(Jt){var l=Nr;if(l){var d=l;if(!ib(o,l)){if(Np(o))throw Error(n(418));l=Ti(d.nextSibling);var p=Mr;l&&ib(o,l)?sb(p,d):(o.flags=o.flags&-4097|2,Jt=!1,Mr=o)}}else{if(Np(o))throw Error(n(418));o.flags=o.flags&-4097|2,Jt=!1,Mr=o}}}function ob(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Mr=o}function od(o){if(o!==Mr)return!1;if(!Jt)return ob(o),Jt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!kp(o.type,o.memoizedProps)),l&&(l=Nr)){if(Np(o))throw ab(),Error(n(418));for(;l;)sb(o,l),l=Ti(l.nextSibling)}if(ob(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){Nr=Ti(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}Nr=null}}else Nr=Mr?Ti(o.stateNode.nextSibling):null;return!0}function ab(){for(var o=Nr;o;)o=Ti(o.nextSibling)}function Ta(){Nr=Mr=null,Jt=!1}function Lp(o){cs===null?cs=[o]:cs.push(o)}var pP=W.ReactCurrentBatchConfig;function oc(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var p=d.stateNode}if(!p)throw Error(n(147,o));var b=p,T=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function(F){var ee=b.refs;F===null?delete ee[T]:ee[T]=F},l._stringRef=T,l)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function ad(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function lb(o){var l=o._init;return l(o._payload)}function cb(o){function l(ue,ae){if(o){var fe=ue.deletions;fe===null?(ue.deletions=[ae],ue.flags|=16):fe.push(ae)}}function d(ue,ae){if(!o)return null;for(;ae!==null;)l(ue,ae),ae=ae.sibling;return null}function p(ue,ae){for(ue=new Map;ae!==null;)ae.key!==null?ue.set(ae.key,ae):ue.set(ae.index,ae),ae=ae.sibling;return ue}function b(ue,ae){return ue=Di(ue,ae),ue.index=0,ue.sibling=null,ue}function T(ue,ae,fe){return ue.index=fe,o?(fe=ue.alternate,fe!==null?(fe=fe.index,fe<ae?(ue.flags|=2,ae):fe):(ue.flags|=2,ae)):(ue.flags|=1048576,ae)}function F(ue){return o&&ue.alternate===null&&(ue.flags|=2),ue}function ee(ue,ae,fe,ke){return ae===null||ae.tag!==6?(ae=Am(fe,ue.mode,ke),ae.return=ue,ae):(ae=b(ae,fe),ae.return=ue,ae)}function ie(ue,ae,fe,ke){var je=fe.type;return je===te?xe(ue,ae,fe.props.children,ke,fe.key):ae!==null&&(ae.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&lb(je)===ae.type)?(ke=b(ae,fe.props),ke.ref=oc(ue,ae,fe),ke.return=ue,ke):(ke=Id(fe.type,fe.key,fe.props,null,ue.mode,ke),ke.ref=oc(ue,ae,fe),ke.return=ue,ke)}function pe(ue,ae,fe,ke){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==fe.containerInfo||ae.stateNode.implementation!==fe.implementation?(ae=Tm(fe,ue.mode,ke),ae.return=ue,ae):(ae=b(ae,fe.children||[]),ae.return=ue,ae)}function xe(ue,ae,fe,ke,je){return ae===null||ae.tag!==7?(ae=Po(fe,ue.mode,ke,je),ae.return=ue,ae):(ae=b(ae,fe),ae.return=ue,ae)}function Ee(ue,ae,fe){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=Am(""+ae,ue.mode,fe),ae.return=ue,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case q:return fe=Id(ae.type,ae.key,ae.props,null,ue.mode,fe),fe.ref=oc(ue,null,ae),fe.return=ue,fe;case J:return ae=Tm(ae,ue.mode,fe),ae.return=ue,ae;case O:var ke=ae._init;return Ee(ue,ke(ae._payload),fe)}if(st(ae)||V(ae))return ae=Po(ae,ue.mode,fe,null),ae.return=ue,ae;ad(ue,ae)}return null}function be(ue,ae,fe,ke){var je=ae!==null?ae.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return je!==null?null:ee(ue,ae,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case q:return fe.key===je?ie(ue,ae,fe,ke):null;case J:return fe.key===je?pe(ue,ae,fe,ke):null;case O:return je=fe._init,be(ue,ae,je(fe._payload),ke)}if(st(fe)||V(fe))return je!==null?null:xe(ue,ae,fe,ke,null);ad(ue,fe)}return null}function Me(ue,ae,fe,ke,je){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ue=ue.get(fe)||null,ee(ae,ue,""+ke,je);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case q:return ue=ue.get(ke.key===null?fe:ke.key)||null,ie(ae,ue,ke,je);case J:return ue=ue.get(ke.key===null?fe:ke.key)||null,pe(ae,ue,ke,je);case O:var Ke=ke._init;return Me(ue,ae,fe,Ke(ke._payload),je)}if(st(ke)||V(ke))return ue=ue.get(fe)||null,xe(ae,ue,ke,je,null);ad(ae,ke)}return null}function Le(ue,ae,fe,ke){for(var je=null,Ke=null,He=ae,tt=ae=0,Nn=null;He!==null&&tt<fe.length;tt++){He.index>tt?(Nn=He,He=null):Nn=He.sibling;var wt=be(ue,He,fe[tt],ke);if(wt===null){He===null&&(He=Nn);break}o&&He&&wt.alternate===null&&l(ue,He),ae=T(wt,ae,tt),Ke===null?je=wt:Ke.sibling=wt,Ke=wt,He=Nn}if(tt===fe.length)return d(ue,He),Jt&&So(ue,tt),je;if(He===null){for(;tt<fe.length;tt++)He=Ee(ue,fe[tt],ke),He!==null&&(ae=T(He,ae,tt),Ke===null?je=He:Ke.sibling=He,Ke=He);return Jt&&So(ue,tt),je}for(He=p(ue,He);tt<fe.length;tt++)Nn=Me(He,ue,tt,fe[tt],ke),Nn!==null&&(o&&Nn.alternate!==null&&He.delete(Nn.key===null?tt:Nn.key),ae=T(Nn,ae,tt),Ke===null?je=Nn:Ke.sibling=Nn,Ke=Nn);return o&&He.forEach(function(Ui){return l(ue,Ui)}),Jt&&So(ue,tt),je}function Be(ue,ae,fe,ke){var je=V(fe);if(typeof je!="function")throw Error(n(150));if(fe=je.call(fe),fe==null)throw Error(n(151));for(var Ke=je=null,He=ae,tt=ae=0,Nn=null,wt=fe.next();He!==null&&!wt.done;tt++,wt=fe.next()){He.index>tt?(Nn=He,He=null):Nn=He.sibling;var Ui=be(ue,He,wt.value,ke);if(Ui===null){He===null&&(He=Nn);break}o&&He&&Ui.alternate===null&&l(ue,He),ae=T(Ui,ae,tt),Ke===null?je=Ui:Ke.sibling=Ui,Ke=Ui,He=Nn}if(wt.done)return d(ue,He),Jt&&So(ue,tt),je;if(He===null){for(;!wt.done;tt++,wt=fe.next())wt=Ee(ue,wt.value,ke),wt!==null&&(ae=T(wt,ae,tt),Ke===null?je=wt:Ke.sibling=wt,Ke=wt);return Jt&&So(ue,tt),je}for(He=p(ue,He);!wt.done;tt++,wt=fe.next())wt=Me(He,ue,tt,wt.value,ke),wt!==null&&(o&&wt.alternate!==null&&He.delete(wt.key===null?tt:wt.key),ae=T(wt,ae,tt),Ke===null?je=wt:Ke.sibling=wt,Ke=wt);return o&&He.forEach(function(HP){return l(ue,HP)}),Jt&&So(ue,tt),je}function gn(ue,ae,fe,ke){if(typeof fe=="object"&&fe!==null&&fe.type===te&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case q:e:{for(var je=fe.key,Ke=ae;Ke!==null;){if(Ke.key===je){if(je=fe.type,je===te){if(Ke.tag===7){d(ue,Ke.sibling),ae=b(Ke,fe.props.children),ae.return=ue,ue=ae;break e}}else if(Ke.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&lb(je)===Ke.type){d(ue,Ke.sibling),ae=b(Ke,fe.props),ae.ref=oc(ue,Ke,fe),ae.return=ue,ue=ae;break e}d(ue,Ke);break}else l(ue,Ke);Ke=Ke.sibling}fe.type===te?(ae=Po(fe.props.children,ue.mode,ke,fe.key),ae.return=ue,ue=ae):(ke=Id(fe.type,fe.key,fe.props,null,ue.mode,ke),ke.ref=oc(ue,ae,fe),ke.return=ue,ue=ke)}return F(ue);case J:e:{for(Ke=fe.key;ae!==null;){if(ae.key===Ke)if(ae.tag===4&&ae.stateNode.containerInfo===fe.containerInfo&&ae.stateNode.implementation===fe.implementation){d(ue,ae.sibling),ae=b(ae,fe.children||[]),ae.return=ue,ue=ae;break e}else{d(ue,ae);break}else l(ue,ae);ae=ae.sibling}ae=Tm(fe,ue.mode,ke),ae.return=ue,ue=ae}return F(ue);case O:return Ke=fe._init,gn(ue,ae,Ke(fe._payload),ke)}if(st(fe))return Le(ue,ae,fe,ke);if(V(fe))return Be(ue,ae,fe,ke);ad(ue,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,ae!==null&&ae.tag===6?(d(ue,ae.sibling),ae=b(ae,fe),ae.return=ue,ue=ae):(d(ue,ae),ae=Am(fe,ue.mode,ke),ae.return=ue,ue=ae),F(ue)):d(ue,ae)}return gn}var Ca=cb(!0),ub=cb(!1),ld=Ci(null),cd=null,Ra=null,Bp=null;function jp(){Bp=Ra=cd=null}function Dp(o){var l=ld.current;Gt(ld),o._currentValue=l}function Up(o,l,d){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===d)break;o=o.return}}function Pa(o,l){cd=o,Bp=Ra=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(vr=!0),o.firstContext=null)}function Yr(o){var l=o._currentValue;if(Bp!==o)if(o={context:o,memoizedValue:l,next:null},Ra===null){if(cd===null)throw Error(n(308));Ra=o,cd.dependencies={lanes:0,firstContext:o}}else Ra=Ra.next=o;return l}var _o=null;function Fp(o){_o===null?_o=[o]:_o.push(o)}function db(o,l,d,p){var b=l.interleaved;return b===null?(d.next=d,Fp(l)):(d.next=b.next,b.next=d),l.interleaved=d,Gs(o,p)}function Gs(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var Ii=!1;function zp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fb(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ys(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Mi(o,l,d){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(mt&2)!==0){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,Gs(o,d)}return b=p.interleaved,b===null?(l.next=l,Fp(p)):(l.next=b.next,b.next=l),p.interleaved=l,Gs(o,d)}function ud(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var p=l.lanes;p&=o.pendingLanes,d|=p,l.lanes=d,tp(o,d)}}function hb(o,l){var d=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var F={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?b=T=F:T=T.next=F,d=d.next}while(d!==null);T===null?b=T=l:T=T.next=l}else b=T=l;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:T,shared:p.shared,effects:p.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function dd(o,l,d,p){var b=o.updateQueue;Ii=!1;var T=b.firstBaseUpdate,F=b.lastBaseUpdate,ee=b.shared.pending;if(ee!==null){b.shared.pending=null;var ie=ee,pe=ie.next;ie.next=null,F===null?T=pe:F.next=pe,F=ie;var xe=o.alternate;xe!==null&&(xe=xe.updateQueue,ee=xe.lastBaseUpdate,ee!==F&&(ee===null?xe.firstBaseUpdate=pe:ee.next=pe,xe.lastBaseUpdate=ie))}if(T!==null){var Ee=b.baseState;F=0,xe=pe=ie=null,ee=T;do{var be=ee.lane,Me=ee.eventTime;if((p&be)===be){xe!==null&&(xe=xe.next={eventTime:Me,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Le=o,Be=ee;switch(be=l,Me=d,Be.tag){case 1:if(Le=Be.payload,typeof Le=="function"){Ee=Le.call(Me,Ee,be);break e}Ee=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Be.payload,be=typeof Le=="function"?Le.call(Me,Ee,be):Le,be==null)break e;Ee=H({},Ee,be);break e;case 2:Ii=!0}}ee.callback!==null&&ee.lane!==0&&(o.flags|=64,be=b.effects,be===null?b.effects=[ee]:be.push(ee))}else Me={eventTime:Me,lane:be,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},xe===null?(pe=xe=Me,ie=Ee):xe=xe.next=Me,F|=be;if(ee=ee.next,ee===null){if(ee=b.shared.pending,ee===null)break;be=ee,ee=be.next,be.next=null,b.lastBaseUpdate=be,b.shared.pending=null}}while(!0);if(xe===null&&(ie=Ee),b.baseState=ie,b.firstBaseUpdate=pe,b.lastBaseUpdate=xe,l=b.shared.interleaved,l!==null){b=l;do F|=b.lane,b=b.next;while(b!==l)}else T===null&&(b.shared.lanes=0);Ao|=F,o.lanes=F,o.memoizedState=Ee}}function pb(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var p=o[l],b=p.callback;if(b!==null){if(p.callback=null,p=d,typeof b!="function")throw Error(n(191,b));b.call(p)}}}var ac={},Rs=Ci(ac),lc=Ci(ac),cc=Ci(ac);function Eo(o){if(o===ac)throw Error(n(174));return o}function $p(o,l){switch(zt(cc,l),zt(lc,o),zt(Rs,ac),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:$(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=$(l,o)}Gt(Rs),zt(Rs,l)}function Ia(){Gt(Rs),Gt(lc),Gt(cc)}function mb(o){Eo(cc.current);var l=Eo(Rs.current),d=$(l,o.type);l!==d&&(zt(lc,o),zt(Rs,d))}function Wp(o){lc.current===o&&(Gt(Rs),Gt(lc))}var en=Ci(0);function fd(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Vp=[];function qp(){for(var o=0;o<Vp.length;o++)Vp[o]._workInProgressVersionPrimary=null;Vp.length=0}var hd=W.ReactCurrentDispatcher,Kp=W.ReactCurrentBatchConfig,ko=0,tn=null,An=null,In=null,pd=!1,uc=!1,dc=0,mP=0;function Qn(){throw Error(n(321))}function Hp(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!ls(o[d],l[d]))return!1;return!0}function Gp(o,l,d,p,b,T){if(ko=T,tn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,hd.current=o===null||o.memoizedState===null?vP:bP,o=d(p,b),uc){T=0;do{if(uc=!1,dc=0,25<=T)throw Error(n(301));T+=1,In=An=null,l.updateQueue=null,hd.current=xP,o=d(p,b)}while(uc)}if(hd.current=yd,l=An!==null&&An.next!==null,ko=0,In=An=tn=null,pd=!1,l)throw Error(n(300));return o}function Yp(){var o=dc!==0;return dc=0,o}function Ps(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?tn.memoizedState=In=o:In=In.next=o,In}function Qr(){if(An===null){var o=tn.alternate;o=o!==null?o.memoizedState:null}else o=An.next;var l=In===null?tn.memoizedState:In.next;if(l!==null)In=l,An=o;else{if(o===null)throw Error(n(310));An=o,o={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},In===null?tn.memoizedState=In=o:In=In.next=o}return In}function fc(o,l){return typeof l=="function"?l(o):l}function Qp(o){var l=Qr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var p=An,b=p.baseQueue,T=d.pending;if(T!==null){if(b!==null){var F=b.next;b.next=T.next,T.next=F}p.baseQueue=b=T,d.pending=null}if(b!==null){T=b.next,p=p.baseState;var ee=F=null,ie=null,pe=T;do{var xe=pe.lane;if((ko&xe)===xe)ie!==null&&(ie=ie.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),p=pe.hasEagerState?pe.eagerState:o(p,pe.action);else{var Ee={lane:xe,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};ie===null?(ee=ie=Ee,F=p):ie=ie.next=Ee,tn.lanes|=xe,Ao|=xe}pe=pe.next}while(pe!==null&&pe!==T);ie===null?F=p:ie.next=ee,ls(p,l.memoizedState)||(vr=!0),l.memoizedState=p,l.baseState=F,l.baseQueue=ie,d.lastRenderedState=p}if(o=d.interleaved,o!==null){b=o;do T=b.lane,tn.lanes|=T,Ao|=T,b=b.next;while(b!==o)}else b===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Jp(o){var l=Qr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var p=d.dispatch,b=d.pending,T=l.memoizedState;if(b!==null){d.pending=null;var F=b=b.next;do T=o(T,F.action),F=F.next;while(F!==b);ls(T,l.memoizedState)||(vr=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,p]}function gb(){}function yb(o,l){var d=tn,p=Qr(),b=l(),T=!ls(p.memoizedState,b);if(T&&(p.memoizedState=b,vr=!0),p=p.queue,Zp(bb.bind(null,d,p,o),[o]),p.getSnapshot!==l||T||In!==null&&In.memoizedState.tag&1){if(d.flags|=2048,hc(9,vb.bind(null,d,p,b,l),void 0,null),Mn===null)throw Error(n(349));(ko&30)!==0||wb(d,l,b)}return b}function wb(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=tn.updateQueue,l===null?(l={lastEffect:null,stores:null},tn.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function vb(o,l,d,p){l.value=d,l.getSnapshot=p,xb(l)&&Sb(o)}function bb(o,l,d){return d(function(){xb(l)&&Sb(o)})}function xb(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!ls(o,d)}catch{return!0}}function Sb(o){var l=Gs(o,1);l!==null&&hs(l,o,1,-1)}function _b(o){var l=Ps();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:o},l.queue=o,o=o.dispatch=wP.bind(null,tn,o),[l.memoizedState,o]}function hc(o,l,d,p){return o={tag:o,create:l,destroy:d,deps:p,next:null},l=tn.updateQueue,l===null?(l={lastEffect:null,stores:null},tn.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(p=d.next,d.next=o,o.next=p,l.lastEffect=o)),o}function Eb(){return Qr().memoizedState}function md(o,l,d,p){var b=Ps();tn.flags|=o,b.memoizedState=hc(1|l,d,void 0,p===void 0?null:p)}function gd(o,l,d,p){var b=Qr();p=p===void 0?null:p;var T=void 0;if(An!==null){var F=An.memoizedState;if(T=F.destroy,p!==null&&Hp(p,F.deps)){b.memoizedState=hc(l,d,T,p);return}}tn.flags|=o,b.memoizedState=hc(1|l,d,T,p)}function kb(o,l){return md(8390656,8,o,l)}function Zp(o,l){return gd(2048,8,o,l)}function Ab(o,l){return gd(4,2,o,l)}function Tb(o,l){return gd(4,4,o,l)}function Cb(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Rb(o,l,d){return d=d!=null?d.concat([o]):null,gd(4,4,Cb.bind(null,l,o),d)}function Xp(){}function Pb(o,l){var d=Qr();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&Hp(l,p[1])?p[0]:(d.memoizedState=[o,l],o)}function Ib(o,l){var d=Qr();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&Hp(l,p[1])?p[0]:(o=o(),d.memoizedState=[o,l],o)}function Mb(o,l,d){return(ko&21)===0?(o.baseState&&(o.baseState=!1,vr=!0),o.memoizedState=d):(ls(d,l)||(d=lv(),tn.lanes|=d,Ao|=d,o.baseState=!0),l)}function gP(o,l){var d=Tt;Tt=d!==0&&4>d?d:4,o(!0);var p=Kp.transition;Kp.transition={};try{o(!1),l()}finally{Tt=d,Kp.transition=p}}function Nb(){return Qr().memoizedState}function yP(o,l,d){var p=Bi(o);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},Ob(o))Lb(l,d);else if(d=db(o,l,d,p),d!==null){var b=fr();hs(d,o,p,b),Bb(d,l,p)}}function wP(o,l,d){var p=Bi(o),b={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ob(o))Lb(l,b);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var F=l.lastRenderedState,ee=T(F,d);if(b.hasEagerState=!0,b.eagerState=ee,ls(ee,F)){var ie=l.interleaved;ie===null?(b.next=b,Fp(l)):(b.next=ie.next,ie.next=b),l.interleaved=b;return}}catch{}d=db(o,l,b,p),d!==null&&(b=fr(),hs(d,o,p,b),Bb(d,l,p))}}function Ob(o){var l=o.alternate;return o===tn||l!==null&&l===tn}function Lb(o,l){uc=pd=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function Bb(o,l,d){if((d&4194240)!==0){var p=l.lanes;p&=o.pendingLanes,d|=p,l.lanes=d,tp(o,d)}}var yd={readContext:Yr,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},vP={readContext:Yr,useCallback:function(o,l){return Ps().memoizedState=[o,l===void 0?null:l],o},useContext:Yr,useEffect:kb,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,md(4194308,4,Cb.bind(null,l,o),d)},useLayoutEffect:function(o,l){return md(4194308,4,o,l)},useInsertionEffect:function(o,l){return md(4,2,o,l)},useMemo:function(o,l){var d=Ps();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var p=Ps();return l=d!==void 0?d(l):l,p.memoizedState=p.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},p.queue=o,o=o.dispatch=yP.bind(null,tn,o),[p.memoizedState,o]},useRef:function(o){var l=Ps();return o={current:o},l.memoizedState=o},useState:_b,useDebugValue:Xp,useDeferredValue:function(o){return Ps().memoizedState=o},useTransition:function(){var o=_b(!1),l=o[0];return o=gP.bind(null,o[1]),Ps().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var p=tn,b=Ps();if(Jt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Mn===null)throw Error(n(349));(ko&30)!==0||wb(p,l,d)}b.memoizedState=d;var T={value:d,getSnapshot:l};return b.queue=T,kb(bb.bind(null,p,T,o),[o]),p.flags|=2048,hc(9,vb.bind(null,p,T,d,l),void 0,null),d},useId:function(){var o=Ps(),l=Mn.identifierPrefix;if(Jt){var d=Hs,p=Ks;d=(p&~(1<<32-ur(p)-1)).toString(32)+d,l=":"+l+"R"+d,d=dc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=mP++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},bP={readContext:Yr,useCallback:Pb,useContext:Yr,useEffect:Zp,useImperativeHandle:Rb,useInsertionEffect:Ab,useLayoutEffect:Tb,useMemo:Ib,useReducer:Qp,useRef:Eb,useState:function(){return Qp(fc)},useDebugValue:Xp,useDeferredValue:function(o){var l=Qr();return Mb(l,An.memoizedState,o)},useTransition:function(){var o=Qp(fc)[0],l=Qr().memoizedState;return[o,l]},useMutableSource:gb,useSyncExternalStore:yb,useId:Nb,unstable_isNewReconciler:!1},xP={readContext:Yr,useCallback:Pb,useContext:Yr,useEffect:Zp,useImperativeHandle:Rb,useInsertionEffect:Ab,useLayoutEffect:Tb,useMemo:Ib,useReducer:Jp,useRef:Eb,useState:function(){return Jp(fc)},useDebugValue:Xp,useDeferredValue:function(o){var l=Qr();return An===null?l.memoizedState=o:Mb(l,An.memoizedState,o)},useTransition:function(){var o=Jp(fc)[0],l=Qr().memoizedState;return[o,l]},useMutableSource:gb,useSyncExternalStore:yb,useId:Nb,unstable_isNewReconciler:!1};function us(o,l){if(o&&o.defaultProps){l=H({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function em(o,l,d,p){l=o.memoizedState,d=d(p,l),d=d==null?l:H({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var wd={isMounted:function(o){return(o=o._reactInternals)?Ce(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var p=fr(),b=Bi(o),T=Ys(p,b);T.payload=l,d!=null&&(T.callback=d),l=Mi(o,T,b),l!==null&&(hs(l,o,b,p),ud(l,o,b))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var p=fr(),b=Bi(o),T=Ys(p,b);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=Mi(o,T,b),l!==null&&(hs(l,o,b,p),ud(l,o,b))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=fr(),p=Bi(o),b=Ys(d,p);b.tag=2,l!=null&&(b.callback=l),l=Mi(o,b,p),l!==null&&(hs(l,o,p,d),ud(l,o,p))}};function jb(o,l,d,p,b,T,F){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,T,F):l.prototype&&l.prototype.isPureReactComponent?!Xl(d,p)||!Xl(b,T):!0}function Db(o,l,d){var p=!1,b=Ri,T=l.contextType;return typeof T=="object"&&T!==null?T=Yr(T):(b=wr(l)?bo:Yn.current,p=l.contextTypes,T=(p=p!=null)?Ea(o,b):Ri),l=new l(d,T),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=wd,o.stateNode=l,l._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=T),l}function Ub(o,l,d,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==o&&wd.enqueueReplaceState(l,l.state,null)}function tm(o,l,d,p){var b=o.stateNode;b.props=d,b.state=o.memoizedState,b.refs={},zp(o);var T=l.contextType;typeof T=="object"&&T!==null?b.context=Yr(T):(T=wr(l)?bo:Yn.current,b.context=Ea(o,T)),b.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(em(o,l,T,d),b.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&wd.enqueueReplaceState(b,b.state,null),dd(o,d,b,p),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308)}function Ma(o,l){try{var d="",p=l;do d+=K(p),p=p.return;while(p);var b=d}catch(T){b=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:l,stack:b,digest:null}}function nm(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function rm(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var SP=typeof WeakMap=="function"?WeakMap:Map;function Fb(o,l,d){d=Ys(-1,d),d.tag=3,d.payload={element:null};var p=l.value;return d.callback=function(){kd||(kd=!0,wm=p),rm(o,l)},d}function zb(o,l,d){d=Ys(-1,d),d.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var b=l.value;d.payload=function(){return p(b)},d.callback=function(){rm(o,l)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){rm(o,l),typeof p!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var F=l.stack;this.componentDidCatch(l.value,{componentStack:F!==null?F:""})}),d}function $b(o,l,d){var p=o.pingCache;if(p===null){p=o.pingCache=new SP;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(d)||(b.add(d),o=BP.bind(null,o,l,d),l.then(o,o))}function Wb(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function Vb(o,l,d,p,b){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Ys(-1,1),l.tag=2,Mi(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=b,o)}var _P=W.ReactCurrentOwner,vr=!1;function dr(o,l,d,p){l.child=o===null?ub(l,null,d,p):Ca(l,o.child,d,p)}function qb(o,l,d,p,b){d=d.render;var T=l.ref;return Pa(l,b),p=Gp(o,l,d,p,T,b),d=Yp(),o!==null&&!vr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~b,Qs(o,l,b)):(Jt&&d&&Ip(l),l.flags|=1,dr(o,l,p,b),l.child)}function Kb(o,l,d,p,b){if(o===null){var T=d.type;return typeof T=="function"&&!km(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=T,Hb(o,l,T,p,b)):(o=Id(d.type,null,p,l,l.mode,b),o.ref=l.ref,o.return=l,l.child=o)}if(T=o.child,(o.lanes&b)===0){var F=T.memoizedProps;if(d=d.compare,d=d!==null?d:Xl,d(F,p)&&o.ref===l.ref)return Qs(o,l,b)}return l.flags|=1,o=Di(T,p),o.ref=l.ref,o.return=l,l.child=o}function Hb(o,l,d,p,b){if(o!==null){var T=o.memoizedProps;if(Xl(T,p)&&o.ref===l.ref)if(vr=!1,l.pendingProps=p=T,(o.lanes&b)!==0)(o.flags&131072)!==0&&(vr=!0);else return l.lanes=o.lanes,Qs(o,l,b)}return sm(o,l,d,p,b)}function Gb(o,l,d){var p=l.pendingProps,b=p.children,T=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Oa,Or),Or|=d;else{if((d&1073741824)===0)return o=T!==null?T.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,zt(Oa,Or),Or|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=T!==null?T.baseLanes:d,zt(Oa,Or),Or|=p}else T!==null?(p=T.baseLanes|d,l.memoizedState=null):p=d,zt(Oa,Or),Or|=p;return dr(o,l,b,d),l.child}function Yb(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function sm(o,l,d,p,b){var T=wr(d)?bo:Yn.current;return T=Ea(l,T),Pa(l,b),d=Gp(o,l,d,p,T,b),p=Yp(),o!==null&&!vr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~b,Qs(o,l,b)):(Jt&&p&&Ip(l),l.flags|=1,dr(o,l,d,b),l.child)}function Qb(o,l,d,p,b){if(wr(d)){var T=!0;nd(l)}else T=!1;if(Pa(l,b),l.stateNode===null)bd(o,l),Db(l,d,p),tm(l,d,p,b),p=!0;else if(o===null){var F=l.stateNode,ee=l.memoizedProps;F.props=ee;var ie=F.context,pe=d.contextType;typeof pe=="object"&&pe!==null?pe=Yr(pe):(pe=wr(d)?bo:Yn.current,pe=Ea(l,pe));var xe=d.getDerivedStateFromProps,Ee=typeof xe=="function"||typeof F.getSnapshotBeforeUpdate=="function";Ee||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ee!==p||ie!==pe)&&Ub(l,F,p,pe),Ii=!1;var be=l.memoizedState;F.state=be,dd(l,p,F,b),ie=l.memoizedState,ee!==p||be!==ie||yr.current||Ii?(typeof xe=="function"&&(em(l,d,xe,p),ie=l.memoizedState),(ee=Ii||jb(l,d,ee,p,be,ie,pe))?(Ee||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(l.flags|=4194308)):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=ie),F.props=p,F.state=ie,F.context=pe,p=ee):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{F=l.stateNode,fb(o,l),ee=l.memoizedProps,pe=l.type===l.elementType?ee:us(l.type,ee),F.props=pe,Ee=l.pendingProps,be=F.context,ie=d.contextType,typeof ie=="object"&&ie!==null?ie=Yr(ie):(ie=wr(d)?bo:Yn.current,ie=Ea(l,ie));var Me=d.getDerivedStateFromProps;(xe=typeof Me=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ee!==Ee||be!==ie)&&Ub(l,F,p,ie),Ii=!1,be=l.memoizedState,F.state=be,dd(l,p,F,b);var Le=l.memoizedState;ee!==Ee||be!==Le||yr.current||Ii?(typeof Me=="function"&&(em(l,d,Me,p),Le=l.memoizedState),(pe=Ii||jb(l,d,pe,p,be,Le,ie)||!1)?(xe||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(p,Le,ie),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(p,Le,ie)),typeof F.componentDidUpdate=="function"&&(l.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof F.componentDidUpdate!="function"||ee===o.memoizedProps&&be===o.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&be===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Le),F.props=p,F.state=Le,F.context=ie,p=pe):(typeof F.componentDidUpdate!="function"||ee===o.memoizedProps&&be===o.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&be===o.memoizedState||(l.flags|=1024),p=!1)}return im(o,l,d,p,T,b)}function im(o,l,d,p,b,T){Yb(o,l);var F=(l.flags&128)!==0;if(!p&&!F)return b&&tb(l,d,!1),Qs(o,l,T);p=l.stateNode,_P.current=l;var ee=F&&typeof d.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,o!==null&&F?(l.child=Ca(l,o.child,null,T),l.child=Ca(l,null,ee,T)):dr(o,l,ee,T),l.memoizedState=p.state,b&&tb(l,d,!0),l.child}function Jb(o){var l=o.stateNode;l.pendingContext?Xv(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Xv(o,l.context,!1),$p(o,l.containerInfo)}function Zb(o,l,d,p,b){return Ta(),Lp(b),l.flags|=256,dr(o,l,d,p),l.child}var om={dehydrated:null,treeContext:null,retryLane:0};function am(o){return{baseLanes:o,cachePool:null,transitions:null}}function Xb(o,l,d){var p=l.pendingProps,b=en.current,T=!1,F=(l.flags&128)!==0,ee;if((ee=F)||(ee=o!==null&&o.memoizedState===null?!1:(b&2)!==0),ee?(T=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),zt(en,b&1),o===null)return Op(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(F=p.children,o=p.fallback,T?(p=l.mode,T=l.child,F={mode:"hidden",children:F},(p&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=F):T=Md(F,p,0,null),o=Po(o,p,d,null),T.return=l,o.return=l,T.sibling=o,l.child=T,l.child.memoizedState=am(d),l.memoizedState=om,o):lm(l,F));if(b=o.memoizedState,b!==null&&(ee=b.dehydrated,ee!==null))return EP(o,l,F,p,ee,b,d);if(T){T=p.fallback,F=l.mode,b=o.child,ee=b.sibling;var ie={mode:"hidden",children:p.children};return(F&1)===0&&l.child!==b?(p=l.child,p.childLanes=0,p.pendingProps=ie,l.deletions=null):(p=Di(b,ie),p.subtreeFlags=b.subtreeFlags&14680064),ee!==null?T=Di(ee,T):(T=Po(T,F,d,null),T.flags|=2),T.return=l,p.return=l,p.sibling=T,l.child=p,p=T,T=l.child,F=o.child.memoizedState,F=F===null?am(d):{baseLanes:F.baseLanes|d,cachePool:null,transitions:F.transitions},T.memoizedState=F,T.childLanes=o.childLanes&~d,l.memoizedState=om,p}return T=o.child,o=T.sibling,p=Di(T,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=d),p.return=l,p.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=p,l.memoizedState=null,p}function lm(o,l){return l=Md({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function vd(o,l,d,p){return p!==null&&Lp(p),Ca(l,o.child,null,d),o=lm(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function EP(o,l,d,p,b,T,F){if(d)return l.flags&256?(l.flags&=-257,p=nm(Error(n(422))),vd(o,l,F,p)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(T=p.fallback,b=l.mode,p=Md({mode:"visible",children:p.children},b,0,null),T=Po(T,b,F,null),T.flags|=2,p.return=l,T.return=l,p.sibling=T,l.child=p,(l.mode&1)!==0&&Ca(l,o.child,null,F),l.child.memoizedState=am(F),l.memoizedState=om,T);if((l.mode&1)===0)return vd(o,l,F,null);if(b.data==="$!"){if(p=b.nextSibling&&b.nextSibling.dataset,p)var ee=p.dgst;return p=ee,T=Error(n(419)),p=nm(T,p,void 0),vd(o,l,F,p)}if(ee=(F&o.childLanes)!==0,vr||ee){if(p=Mn,p!==null){switch(F&-F){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(p.suspendedLanes|F))!==0?0:b,b!==0&&b!==T.retryLane&&(T.retryLane=b,Gs(o,b),hs(p,o,b,-1))}return Em(),p=nm(Error(n(421))),vd(o,l,F,p)}return b.data==="$?"?(l.flags|=128,l.child=o.child,l=jP.bind(null,o),b._reactRetry=l,null):(o=T.treeContext,Nr=Ti(b.nextSibling),Mr=l,Jt=!0,cs=null,o!==null&&(Hr[Gr++]=Ks,Hr[Gr++]=Hs,Hr[Gr++]=xo,Ks=o.id,Hs=o.overflow,xo=l),l=lm(l,p.children),l.flags|=4096,l)}function e1(o,l,d){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),Up(o.return,l,d)}function cm(o,l,d,p,b){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=p,T.tail=d,T.tailMode=b)}function t1(o,l,d){var p=l.pendingProps,b=p.revealOrder,T=p.tail;if(dr(o,l,p.children,d),p=en.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&e1(o,d,l);else if(o.tag===19)e1(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(zt(en,p),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(d=l.child,b=null;d!==null;)o=d.alternate,o!==null&&fd(o)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),cm(l,!1,b,d,T);break;case"backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(o=b.alternate,o!==null&&fd(o)===null){l.child=b;break}o=b.sibling,b.sibling=d,d=b,b=o}cm(l,!0,d,null,T);break;case"together":cm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function bd(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Qs(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Ao|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=Di(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Di(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function kP(o,l,d){switch(l.tag){case 3:Jb(l),Ta();break;case 5:mb(l);break;case 1:wr(l.type)&&nd(l);break;case 4:$p(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,b=l.memoizedProps.value;zt(ld,p._currentValue),p._currentValue=b;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(zt(en,en.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?Xb(o,l,d):(zt(en,en.current&1),o=Qs(o,l,d),o!==null?o.sibling:null);zt(en,en.current&1);break;case 19:if(p=(d&l.childLanes)!==0,(o.flags&128)!==0){if(p)return t1(o,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),zt(en,en.current),p)break;return null;case 22:case 23:return l.lanes=0,Gb(o,l,d)}return Qs(o,l,d)}var n1,um,r1,s1;n1=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},um=function(){},r1=function(o,l,d,p){var b=o.memoizedProps;if(b!==p){o=l.stateNode,Eo(Rs.current);var T=null;switch(d){case"input":b=qe(o,b),p=qe(o,p),T=[];break;case"select":b=H({},b,{value:void 0}),p=H({},p,{value:void 0}),T=[];break;case"textarea":b=mn(o,b),p=mn(o,p),T=[];break;default:typeof b.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=Xu)}Ye(d,p);var F;d=null;for(pe in b)if(!p.hasOwnProperty(pe)&&b.hasOwnProperty(pe)&&b[pe]!=null)if(pe==="style"){var ee=b[pe];for(F in ee)ee.hasOwnProperty(F)&&(d||(d={}),d[F]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(s.hasOwnProperty(pe)?T||(T=[]):(T=T||[]).push(pe,null));for(pe in p){var ie=p[pe];if(ee=b?.[pe],p.hasOwnProperty(pe)&&ie!==ee&&(ie!=null||ee!=null))if(pe==="style")if(ee){for(F in ee)!ee.hasOwnProperty(F)||ie&&ie.hasOwnProperty(F)||(d||(d={}),d[F]="");for(F in ie)ie.hasOwnProperty(F)&&ee[F]!==ie[F]&&(d||(d={}),d[F]=ie[F])}else d||(T||(T=[]),T.push(pe,d)),d=ie;else pe==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ee=ee?ee.__html:void 0,ie!=null&&ee!==ie&&(T=T||[]).push(pe,ie)):pe==="children"?typeof ie!="string"&&typeof ie!="number"||(T=T||[]).push(pe,""+ie):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(s.hasOwnProperty(pe)?(ie!=null&&pe==="onScroll"&&Ht("scroll",o),T||ee===ie||(T=[])):(T=T||[]).push(pe,ie))}d&&(T=T||[]).push("style",d);var pe=T;(l.updateQueue=pe)&&(l.flags|=4)}},s1=function(o,l,d,p){d!==p&&(l.flags|=4)};function pc(o,l){if(!Jt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Jn(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,p=0;if(l)for(var b=o.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&14680064,p|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=p,o.childLanes=d,l}function AP(o,l,d){var p=l.pendingProps;switch(Mp(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(l),null;case 1:return wr(l.type)&&td(),Jn(l),null;case 3:return p=l.stateNode,Ia(),Gt(yr),Gt(Yn),qp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(od(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,cs!==null&&(xm(cs),cs=null))),um(o,l),Jn(l),null;case 5:Wp(l);var b=Eo(cc.current);if(d=l.type,o!==null&&l.stateNode!=null)r1(o,l,d,p,b),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(n(166));return Jn(l),null}if(o=Eo(Rs.current),od(l)){p=l.stateNode,d=l.type;var T=l.memoizedProps;switch(p[Cs]=l,p[sc]=T,o=(l.mode&1)!==0,d){case"dialog":Ht("cancel",p),Ht("close",p);break;case"iframe":case"object":case"embed":Ht("load",p);break;case"video":case"audio":for(b=0;b<tc.length;b++)Ht(tc[b],p);break;case"source":Ht("error",p);break;case"img":case"image":case"link":Ht("error",p),Ht("load",p);break;case"details":Ht("toggle",p);break;case"input":Ot(p,T),Ht("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!T.multiple},Ht("invalid",p);break;case"textarea":nt(p,T),Ht("invalid",p)}Ye(d,T),b=null;for(var F in T)if(T.hasOwnProperty(F)){var ee=T[F];F==="children"?typeof ee=="string"?p.textContent!==ee&&(T.suppressHydrationWarning!==!0&&Zu(p.textContent,ee,o),b=["children",ee]):typeof ee=="number"&&p.textContent!==""+ee&&(T.suppressHydrationWarning!==!0&&Zu(p.textContent,ee,o),b=["children",""+ee]):s.hasOwnProperty(F)&&ee!=null&&F==="onScroll"&&Ht("scroll",p)}switch(d){case"input":lt(p),Rt(p,T,!0);break;case"textarea":lt(p),kt(p);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(p.onclick=Xu)}p=b,l.updateQueue=p,p!==null&&(l.flags|=4)}else{F=b.nodeType===9?b:b.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Lt(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=F.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=F.createElement(d,{is:p.is}):(o=F.createElement(d),d==="select"&&(F=o,p.multiple?F.multiple=!0:p.size&&(F.size=p.size))):o=F.createElementNS(o,d),o[Cs]=l,o[sc]=p,n1(o,l,!1,!1),l.stateNode=o;e:{switch(F=ft(d,p),d){case"dialog":Ht("cancel",o),Ht("close",o),b=p;break;case"iframe":case"object":case"embed":Ht("load",o),b=p;break;case"video":case"audio":for(b=0;b<tc.length;b++)Ht(tc[b],o);b=p;break;case"source":Ht("error",o),b=p;break;case"img":case"image":case"link":Ht("error",o),Ht("load",o),b=p;break;case"details":Ht("toggle",o),b=p;break;case"input":Ot(o,p),b=qe(o,p),Ht("invalid",o);break;case"option":b=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},b=H({},p,{value:void 0}),Ht("invalid",o);break;case"textarea":nt(o,p),b=mn(o,p),Ht("invalid",o);break;default:b=p}Ye(d,b),ee=b;for(T in ee)if(ee.hasOwnProperty(T)){var ie=ee[T];T==="style"?rt(o,ie):T==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&C(o,ie)):T==="children"?typeof ie=="string"?(d!=="textarea"||ie!=="")&&Y(o,ie):typeof ie=="number"&&Y(o,""+ie):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(s.hasOwnProperty(T)?ie!=null&&T==="onScroll"&&Ht("scroll",o):ie!=null&&I(o,T,ie,F))}switch(d){case"input":lt(o),Rt(o,p,!1);break;case"textarea":lt(o),kt(o);break;case"option":p.value!=null&&o.setAttribute("value",""+ge(p.value));break;case"select":o.multiple=!!p.multiple,T=p.value,T!=null?et(o,!!p.multiple,T,!1):p.defaultValue!=null&&et(o,!!p.multiple,p.defaultValue,!0);break;default:typeof b.onClick=="function"&&(o.onclick=Xu)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Jn(l),null;case 6:if(o&&l.stateNode!=null)s1(o,l,o.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(d=Eo(cc.current),Eo(Rs.current),od(l)){if(p=l.stateNode,d=l.memoizedProps,p[Cs]=l,(T=p.nodeValue!==d)&&(o=Mr,o!==null))switch(o.tag){case 3:Zu(p.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Zu(p.nodeValue,d,(o.mode&1)!==0)}T&&(l.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[Cs]=l,l.stateNode=p}return Jn(l),null;case 13:if(Gt(en),p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Jt&&Nr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)ab(),Ta(),l.flags|=98560,T=!1;else if(T=od(l),p!==null&&p.dehydrated!==null){if(o===null){if(!T)throw Error(n(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Cs]=l}else Ta(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Jn(l),T=!1}else cs!==null&&(xm(cs),cs=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(en.current&1)!==0?Tn===0&&(Tn=3):Em())),l.updateQueue!==null&&(l.flags|=4),Jn(l),null);case 4:return Ia(),um(o,l),o===null&&nc(l.stateNode.containerInfo),Jn(l),null;case 10:return Dp(l.type._context),Jn(l),null;case 17:return wr(l.type)&&td(),Jn(l),null;case 19:if(Gt(en),T=l.memoizedState,T===null)return Jn(l),null;if(p=(l.flags&128)!==0,F=T.rendering,F===null)if(p)pc(T,!1);else{if(Tn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(F=fd(o),F!==null){for(l.flags|=128,pc(T,!1),p=F.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=d,d=l.child;d!==null;)T=d,o=p,T.flags&=14680066,F=T.alternate,F===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=F.childLanes,T.lanes=F.lanes,T.child=F.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=F.memoizedProps,T.memoizedState=F.memoizedState,T.updateQueue=F.updateQueue,T.type=F.type,o=F.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return zt(en,en.current&1|2),l.child}o=o.sibling}T.tail!==null&&yt()>La&&(l.flags|=128,p=!0,pc(T,!1),l.lanes=4194304)}else{if(!p)if(o=fd(F),o!==null){if(l.flags|=128,p=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),pc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!F.alternate&&!Jt)return Jn(l),null}else 2*yt()-T.renderingStartTime>La&&d!==1073741824&&(l.flags|=128,p=!0,pc(T,!1),l.lanes=4194304);T.isBackwards?(F.sibling=l.child,l.child=F):(d=T.last,d!==null?d.sibling=F:l.child=F,T.last=F)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=yt(),l.sibling=null,d=en.current,zt(en,p?d&1|2:d&1),l):(Jn(l),null);case 22:case 23:return _m(),p=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(Or&1073741824)!==0&&(Jn(l),l.subtreeFlags&6&&(l.flags|=8192)):Jn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function TP(o,l){switch(Mp(l),l.tag){case 1:return wr(l.type)&&td(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ia(),Gt(yr),Gt(Yn),qp(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Wp(l),null;case 13:if(Gt(en),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ta()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Gt(en),null;case 4:return Ia(),null;case 10:return Dp(l.type._context),null;case 22:case 23:return _m(),null;case 24:return null;default:return null}}var xd=!1,Zn=!1,CP=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Na(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){cn(o,l,p)}else d.current=null}function dm(o,l,d){try{d()}catch(p){cn(o,l,p)}}var i1=!1;function RP(o,l){if(_p=zu,o=jv(),mp(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,T=p.focusNode;p=p.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var F=0,ee=-1,ie=-1,pe=0,xe=0,Ee=o,be=null;t:for(;;){for(var Me;Ee!==d||b!==0&&Ee.nodeType!==3||(ee=F+b),Ee!==T||p!==0&&Ee.nodeType!==3||(ie=F+p),Ee.nodeType===3&&(F+=Ee.nodeValue.length),(Me=Ee.firstChild)!==null;)be=Ee,Ee=Me;for(;;){if(Ee===o)break t;if(be===d&&++pe===b&&(ee=F),be===T&&++xe===p&&(ie=F),(Me=Ee.nextSibling)!==null)break;Ee=be,be=Ee.parentNode}Ee=Me}d=ee===-1||ie===-1?null:{start:ee,end:ie}}else d=null}d=d||{start:0,end:0}}else d=null;for(Ep={focusedElem:o,selectionRange:d},zu=!1,Oe=l;Oe!==null;)if(l=Oe,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Oe=o;else for(;Oe!==null;){l=Oe;try{var Le=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Be=Le.memoizedProps,gn=Le.memoizedState,ue=l.stateNode,ae=ue.getSnapshotBeforeUpdate(l.elementType===l.type?Be:us(l.type,Be),gn);ue.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var fe=l.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ke){cn(l,l.return,ke)}if(o=l.sibling,o!==null){o.return=l.return,Oe=o;break}Oe=l.return}return Le=i1,i1=!1,Le}function mc(o,l,d){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&o)===o){var T=b.destroy;b.destroy=void 0,T!==void 0&&dm(l,d,T)}b=b.next}while(b!==p)}}function Sd(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var p=d.create;d.destroy=p()}d=d.next}while(d!==l)}}function fm(o){var l=o.ref;if(l!==null){var d=o.stateNode;o.tag,o=d,typeof l=="function"?l(o):l.current=o}}function o1(o){var l=o.alternate;l!==null&&(o.alternate=null,o1(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Cs],delete l[sc],delete l[Cp],delete l[dP],delete l[fP])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function a1(o){return o.tag===5||o.tag===3||o.tag===4}function l1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||a1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function hm(o,l,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Xu));else if(p!==4&&(o=o.child,o!==null))for(hm(o,l,d),o=o.sibling;o!==null;)hm(o,l,d),o=o.sibling}function pm(o,l,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(pm(o,l,d),o=o.sibling;o!==null;)pm(o,l,d),o=o.sibling}var Dn=null,ds=!1;function Ni(o,l,d){for(d=d.child;d!==null;)c1(o,l,d),d=d.sibling}function c1(o,l,d){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Kr,d)}catch{}switch(d.tag){case 5:Zn||Na(d,l);case 6:var p=Dn,b=ds;Dn=null,Ni(o,l,d),Dn=p,ds=b,Dn!==null&&(ds?(o=Dn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):Dn.removeChild(d.stateNode));break;case 18:Dn!==null&&(ds?(o=Dn,d=d.stateNode,o.nodeType===8?Tp(o.parentNode,d):o.nodeType===1&&Tp(o,d),Hl(o)):Tp(Dn,d.stateNode));break;case 4:p=Dn,b=ds,Dn=d.stateNode.containerInfo,ds=!0,Ni(o,l,d),Dn=p,ds=b;break;case 0:case 11:case 14:case 15:if(!Zn&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){b=p=p.next;do{var T=b,F=T.destroy;T=T.tag,F!==void 0&&((T&2)!==0||(T&4)!==0)&&dm(d,l,F),b=b.next}while(b!==p)}Ni(o,l,d);break;case 1:if(!Zn&&(Na(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(ee){cn(d,l,ee)}Ni(o,l,d);break;case 21:Ni(o,l,d);break;case 22:d.mode&1?(Zn=(p=Zn)||d.memoizedState!==null,Ni(o,l,d),Zn=p):Ni(o,l,d);break;default:Ni(o,l,d)}}function u1(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new CP),l.forEach(function(p){var b=DP.bind(null,o,p);d.has(p)||(d.add(p),p.then(b,b))})}}function fs(o,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p];try{var T=o,F=l,ee=F;e:for(;ee!==null;){switch(ee.tag){case 5:Dn=ee.stateNode,ds=!1;break e;case 3:Dn=ee.stateNode.containerInfo,ds=!0;break e;case 4:Dn=ee.stateNode.containerInfo,ds=!0;break e}ee=ee.return}if(Dn===null)throw Error(n(160));c1(T,F,b),Dn=null,ds=!1;var ie=b.alternate;ie!==null&&(ie.return=null),b.return=null}catch(pe){cn(b,l,pe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)d1(l,o),l=l.sibling}function d1(o,l){var d=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(fs(l,o),Is(o),p&4){try{mc(3,o,o.return),Sd(3,o)}catch(Be){cn(o,o.return,Be)}try{mc(5,o,o.return)}catch(Be){cn(o,o.return,Be)}}break;case 1:fs(l,o),Is(o),p&512&&d!==null&&Na(d,d.return);break;case 5:if(fs(l,o),Is(o),p&512&&d!==null&&Na(d,d.return),o.flags&32){var b=o.stateNode;try{Y(b,"")}catch(Be){cn(o,o.return,Be)}}if(p&4&&(b=o.stateNode,b!=null)){var T=o.memoizedProps,F=d!==null?d.memoizedProps:T,ee=o.type,ie=o.updateQueue;if(o.updateQueue=null,ie!==null)try{ee==="input"&&T.type==="radio"&&T.name!=null&&kn(b,T),ft(ee,F);var pe=ft(ee,T);for(F=0;F<ie.length;F+=2){var xe=ie[F],Ee=ie[F+1];xe==="style"?rt(b,Ee):xe==="dangerouslySetInnerHTML"?C(b,Ee):xe==="children"?Y(b,Ee):I(b,xe,Ee,pe)}switch(ee){case"input":Et(b,T);break;case"textarea":bt(b,T);break;case"select":var be=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!T.multiple;var Me=T.value;Me!=null?et(b,!!T.multiple,Me,!1):be!==!!T.multiple&&(T.defaultValue!=null?et(b,!!T.multiple,T.defaultValue,!0):et(b,!!T.multiple,T.multiple?[]:"",!1))}b[sc]=T}catch(Be){cn(o,o.return,Be)}}break;case 6:if(fs(l,o),Is(o),p&4){if(o.stateNode===null)throw Error(n(162));b=o.stateNode,T=o.memoizedProps;try{b.nodeValue=T}catch(Be){cn(o,o.return,Be)}}break;case 3:if(fs(l,o),Is(o),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Hl(l.containerInfo)}catch(Be){cn(o,o.return,Be)}break;case 4:fs(l,o),Is(o);break;case 13:fs(l,o),Is(o),b=o.child,b.flags&8192&&(T=b.memoizedState!==null,b.stateNode.isHidden=T,!T||b.alternate!==null&&b.alternate.memoizedState!==null||(ym=yt())),p&4&&u1(o);break;case 22:if(xe=d!==null&&d.memoizedState!==null,o.mode&1?(Zn=(pe=Zn)||xe,fs(l,o),Zn=pe):fs(l,o),Is(o),p&8192){if(pe=o.memoizedState!==null,(o.stateNode.isHidden=pe)&&!xe&&(o.mode&1)!==0)for(Oe=o,xe=o.child;xe!==null;){for(Ee=Oe=xe;Oe!==null;){switch(be=Oe,Me=be.child,be.tag){case 0:case 11:case 14:case 15:mc(4,be,be.return);break;case 1:Na(be,be.return);var Le=be.stateNode;if(typeof Le.componentWillUnmount=="function"){p=be,d=be.return;try{l=p,Le.props=l.memoizedProps,Le.state=l.memoizedState,Le.componentWillUnmount()}catch(Be){cn(p,d,Be)}}break;case 5:Na(be,be.return);break;case 22:if(be.memoizedState!==null){p1(Ee);continue}}Me!==null?(Me.return=be,Oe=Me):p1(Ee)}xe=xe.sibling}e:for(xe=null,Ee=o;;){if(Ee.tag===5){if(xe===null){xe=Ee;try{b=Ee.stateNode,pe?(T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(ee=Ee.stateNode,ie=Ee.memoizedProps.style,F=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,ee.style.display=me("display",F))}catch(Be){cn(o,o.return,Be)}}}else if(Ee.tag===6){if(xe===null)try{Ee.stateNode.nodeValue=pe?"":Ee.memoizedProps}catch(Be){cn(o,o.return,Be)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===o)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===o)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===o)break e;xe===Ee&&(xe=null),Ee=Ee.return}xe===Ee&&(xe=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:fs(l,o),Is(o),p&4&&u1(o);break;case 21:break;default:fs(l,o),Is(o)}}function Is(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(a1(d)){var p=d;break e}d=d.return}throw Error(n(160))}switch(p.tag){case 5:var b=p.stateNode;p.flags&32&&(Y(b,""),p.flags&=-33);var T=l1(o);pm(o,T,b);break;case 3:case 4:var F=p.stateNode.containerInfo,ee=l1(o);hm(o,ee,F);break;default:throw Error(n(161))}}catch(ie){cn(o,o.return,ie)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function PP(o,l,d){Oe=o,f1(o)}function f1(o,l,d){for(var p=(o.mode&1)!==0;Oe!==null;){var b=Oe,T=b.child;if(b.tag===22&&p){var F=b.memoizedState!==null||xd;if(!F){var ee=b.alternate,ie=ee!==null&&ee.memoizedState!==null||Zn;ee=xd;var pe=Zn;if(xd=F,(Zn=ie)&&!pe)for(Oe=b;Oe!==null;)F=Oe,ie=F.child,F.tag===22&&F.memoizedState!==null?m1(b):ie!==null?(ie.return=F,Oe=ie):m1(b);for(;T!==null;)Oe=T,f1(T),T=T.sibling;Oe=b,xd=ee,Zn=pe}h1(o)}else(b.subtreeFlags&8772)!==0&&T!==null?(T.return=b,Oe=T):h1(o)}}function h1(o){for(;Oe!==null;){var l=Oe;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Zn||Sd(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!Zn)if(d===null)p.componentDidMount();else{var b=l.elementType===l.type?d.memoizedProps:us(l.type,d.memoizedProps);p.componentDidUpdate(b,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&pb(l,T,p);break;case 3:var F=l.updateQueue;if(F!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}pb(l,F,d)}break;case 5:var ee=l.stateNode;if(d===null&&l.flags&4){d=ee;var ie=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&d.focus();break;case"img":ie.src&&(d.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var pe=l.alternate;if(pe!==null){var xe=pe.memoizedState;if(xe!==null){var Ee=xe.dehydrated;Ee!==null&&Hl(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zn||l.flags&512&&fm(l)}catch(be){cn(l,l.return,be)}}if(l===o){Oe=null;break}if(d=l.sibling,d!==null){d.return=l.return,Oe=d;break}Oe=l.return}}function p1(o){for(;Oe!==null;){var l=Oe;if(l===o){Oe=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Oe=d;break}Oe=l.return}}function m1(o){for(;Oe!==null;){var l=Oe;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Sd(4,l)}catch(ie){cn(l,d,ie)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var b=l.return;try{p.componentDidMount()}catch(ie){cn(l,b,ie)}}var T=l.return;try{fm(l)}catch(ie){cn(l,T,ie)}break;case 5:var F=l.return;try{fm(l)}catch(ie){cn(l,F,ie)}}}catch(ie){cn(l,l.return,ie)}if(l===o){Oe=null;break}var ee=l.sibling;if(ee!==null){ee.return=l.return,Oe=ee;break}Oe=l.return}}var IP=Math.ceil,_d=W.ReactCurrentDispatcher,mm=W.ReactCurrentOwner,Jr=W.ReactCurrentBatchConfig,mt=0,Mn=null,vn=null,Un=0,Or=0,Oa=Ci(0),Tn=0,gc=null,Ao=0,Ed=0,gm=0,yc=null,br=null,ym=0,La=1/0,Js=null,kd=!1,wm=null,Oi=null,Ad=!1,Li=null,Td=0,wc=0,vm=null,Cd=-1,Rd=0;function fr(){return(mt&6)!==0?yt():Cd!==-1?Cd:Cd=yt()}function Bi(o){return(o.mode&1)===0?1:(mt&2)!==0&&Un!==0?Un&-Un:pP.transition!==null?(Rd===0&&(Rd=lv()),Rd):(o=Tt,o!==0||(o=window.event,o=o===void 0?16:yv(o.type)),o)}function hs(o,l,d,p){if(50<wc)throw wc=0,vm=null,Error(n(185));$l(o,d,p),((mt&2)===0||o!==Mn)&&(o===Mn&&((mt&2)===0&&(Ed|=d),Tn===4&&ji(o,Un)),xr(o,p),d===1&&mt===0&&(l.mode&1)===0&&(La=yt()+500,rd&&Pi()))}function xr(o,l){var d=o.callbackNode;pR(o,l);var p=Du(o,o===Mn?Un:0);if(p===0)d!==null&&gr(d),o.callbackNode=null,o.callbackPriority=0;else if(l=p&-p,o.callbackPriority!==l){if(d!=null&&gr(d),l===1)o.tag===0?hP(y1.bind(null,o)):nb(y1.bind(null,o)),cP(function(){(mt&6)===0&&Pi()}),d=null;else{switch(cv(p)){case 1:d=as;break;case 4:d=cr;break;case 16:d=ln;break;case 536870912:d=wo;break;default:d=ln}d=k1(d,g1.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function g1(o,l){if(Cd=-1,Rd=0,(mt&6)!==0)throw Error(n(327));var d=o.callbackNode;if(Ba()&&o.callbackNode!==d)return null;var p=Du(o,o===Mn?Un:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||l)l=Pd(o,p);else{l=p;var b=mt;mt|=2;var T=v1();(Mn!==o||Un!==l)&&(Js=null,La=yt()+500,Co(o,l));do try{OP();break}catch(ee){w1(o,ee)}while(!0);jp(),_d.current=T,mt=b,vn!==null?l=0:(Mn=null,Un=0,l=Tn)}if(l!==0){if(l===2&&(b=Xh(o),b!==0&&(p=b,l=bm(o,b))),l===1)throw d=gc,Co(o,0),ji(o,p),xr(o,yt()),d;if(l===6)ji(o,p);else{if(b=o.current.alternate,(p&30)===0&&!MP(b)&&(l=Pd(o,p),l===2&&(T=Xh(o),T!==0&&(p=T,l=bm(o,T))),l===1))throw d=gc,Co(o,0),ji(o,p),xr(o,yt()),d;switch(o.finishedWork=b,o.finishedLanes=p,l){case 0:case 1:throw Error(n(345));case 2:Ro(o,br,Js);break;case 3:if(ji(o,p),(p&130023424)===p&&(l=ym+500-yt(),10<l)){if(Du(o,0)!==0)break;if(b=o.suspendedLanes,(b&p)!==p){fr(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=Ap(Ro.bind(null,o,br,Js),l);break}Ro(o,br,Js);break;case 4:if(ji(o,p),(p&4194240)===p)break;for(l=o.eventTimes,b=-1;0<p;){var F=31-ur(p);T=1<<F,F=l[F],F>b&&(b=F),p&=~T}if(p=b,p=yt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*IP(p/1960))-p,10<p){o.timeoutHandle=Ap(Ro.bind(null,o,br,Js),p);break}Ro(o,br,Js);break;case 5:Ro(o,br,Js);break;default:throw Error(n(329))}}}return xr(o,yt()),o.callbackNode===d?g1.bind(null,o):null}function bm(o,l){var d=yc;return o.current.memoizedState.isDehydrated&&(Co(o,l).flags|=256),o=Pd(o,l),o!==2&&(l=br,br=d,l!==null&&xm(l)),o}function xm(o){br===null?br=o:br.push.apply(br,o)}function MP(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var b=d[p],T=b.getSnapshot;b=b.value;try{if(!ls(T(),b))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ji(o,l){for(l&=~gm,l&=~Ed,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-ur(l),p=1<<d;o[d]=-1,l&=~p}}function y1(o){if((mt&6)!==0)throw Error(n(327));Ba();var l=Du(o,0);if((l&1)===0)return xr(o,yt()),null;var d=Pd(o,l);if(o.tag!==0&&d===2){var p=Xh(o);p!==0&&(l=p,d=bm(o,p))}if(d===1)throw d=gc,Co(o,0),ji(o,l),xr(o,yt()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Ro(o,br,Js),xr(o,yt()),null}function Sm(o,l){var d=mt;mt|=1;try{return o(l)}finally{mt=d,mt===0&&(La=yt()+500,rd&&Pi())}}function To(o){Li!==null&&Li.tag===0&&(mt&6)===0&&Ba();var l=mt;mt|=1;var d=Jr.transition,p=Tt;try{if(Jr.transition=null,Tt=1,o)return o()}finally{Tt=p,Jr.transition=d,mt=l,(mt&6)===0&&Pi()}}function _m(){Or=Oa.current,Gt(Oa)}function Co(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,lP(d)),vn!==null)for(d=vn.return;d!==null;){var p=d;switch(Mp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&td();break;case 3:Ia(),Gt(yr),Gt(Yn),qp();break;case 5:Wp(p);break;case 4:Ia();break;case 13:Gt(en);break;case 19:Gt(en);break;case 10:Dp(p.type._context);break;case 22:case 23:_m()}d=d.return}if(Mn=o,vn=o=Di(o.current,null),Un=Or=l,Tn=0,gc=null,gm=Ed=Ao=0,br=yc=null,_o!==null){for(l=0;l<_o.length;l++)if(d=_o[l],p=d.interleaved,p!==null){d.interleaved=null;var b=p.next,T=d.pending;if(T!==null){var F=T.next;T.next=b,p.next=F}d.pending=p}_o=null}return o}function w1(o,l){do{var d=vn;try{if(jp(),hd.current=yd,pd){for(var p=tn.memoizedState;p!==null;){var b=p.queue;b!==null&&(b.pending=null),p=p.next}pd=!1}if(ko=0,In=An=tn=null,uc=!1,dc=0,mm.current=null,d===null||d.return===null){Tn=1,gc=l,vn=null;break}e:{var T=o,F=d.return,ee=d,ie=l;if(l=Un,ee.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var pe=ie,xe=ee,Ee=xe.tag;if((xe.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var be=xe.alternate;be?(xe.updateQueue=be.updateQueue,xe.memoizedState=be.memoizedState,xe.lanes=be.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Me=Wb(F);if(Me!==null){Me.flags&=-257,Vb(Me,F,ee,T,l),Me.mode&1&&$b(T,pe,l),l=Me,ie=pe;var Le=l.updateQueue;if(Le===null){var Be=new Set;Be.add(ie),l.updateQueue=Be}else Le.add(ie);break e}else{if((l&1)===0){$b(T,pe,l),Em();break e}ie=Error(n(426))}}else if(Jt&&ee.mode&1){var gn=Wb(F);if(gn!==null){(gn.flags&65536)===0&&(gn.flags|=256),Vb(gn,F,ee,T,l),Lp(Ma(ie,ee));break e}}T=ie=Ma(ie,ee),Tn!==4&&(Tn=2),yc===null?yc=[T]:yc.push(T),T=F;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var ue=Fb(T,ie,l);hb(T,ue);break e;case 1:ee=ie;var ae=T.type,fe=T.stateNode;if((T.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(Oi===null||!Oi.has(fe)))){T.flags|=65536,l&=-l,T.lanes|=l;var ke=zb(T,ee,l);hb(T,ke);break e}}T=T.return}while(T!==null)}x1(d)}catch(je){l=je,vn===d&&d!==null&&(vn=d=d.return);continue}break}while(!0)}function v1(){var o=_d.current;return _d.current=yd,o===null?yd:o}function Em(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),Mn===null||(Ao&268435455)===0&&(Ed&268435455)===0||ji(Mn,Un)}function Pd(o,l){var d=mt;mt|=2;var p=v1();(Mn!==o||Un!==l)&&(Js=null,Co(o,l));do try{NP();break}catch(b){w1(o,b)}while(!0);if(jp(),mt=d,_d.current=p,vn!==null)throw Error(n(261));return Mn=null,Un=0,Tn}function NP(){for(;vn!==null;)b1(vn)}function OP(){for(;vn!==null&&!is();)b1(vn)}function b1(o){var l=E1(o.alternate,o,Or);o.memoizedProps=o.pendingProps,l===null?x1(o):vn=l,mm.current=null}function x1(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=AP(d,l,Or),d!==null){vn=d;return}}else{if(d=TP(d,l),d!==null){d.flags&=32767,vn=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Tn=6,vn=null;return}}if(l=l.sibling,l!==null){vn=l;return}vn=l=o}while(l!==null);Tn===0&&(Tn=5)}function Ro(o,l,d){var p=Tt,b=Jr.transition;try{Jr.transition=null,Tt=1,LP(o,l,d,p)}finally{Jr.transition=b,Tt=p}return null}function LP(o,l,d,p){do Ba();while(Li!==null);if((mt&6)!==0)throw Error(n(327));d=o.finishedWork;var b=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var T=d.lanes|d.childLanes;if(mR(o,T),o===Mn&&(vn=Mn=null,Un=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Ad||(Ad=!0,k1(ln,function(){return Ba(),null})),T=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||T){T=Jr.transition,Jr.transition=null;var F=Tt;Tt=1;var ee=mt;mt|=4,mm.current=null,RP(o,d),d1(d,o),tP(Ep),zu=!!_p,Ep=_p=null,o.current=d,PP(d),os(),mt=ee,Tt=F,Jr.transition=T}else o.current=d;if(Ad&&(Ad=!1,Li=o,Td=b),T=o.pendingLanes,T===0&&(Oi=null),Ul(d.stateNode),xr(o,yt()),l!==null)for(p=o.onRecoverableError,d=0;d<l.length;d++)b=l[d],p(b.value,{componentStack:b.stack,digest:b.digest});if(kd)throw kd=!1,o=wm,wm=null,o;return(Td&1)!==0&&o.tag!==0&&Ba(),T=o.pendingLanes,(T&1)!==0?o===vm?wc++:(wc=0,vm=o):wc=0,Pi(),null}function Ba(){if(Li!==null){var o=cv(Td),l=Jr.transition,d=Tt;try{if(Jr.transition=null,Tt=16>o?16:o,Li===null)var p=!1;else{if(o=Li,Li=null,Td=0,(mt&6)!==0)throw Error(n(331));var b=mt;for(mt|=4,Oe=o.current;Oe!==null;){var T=Oe,F=T.child;if((Oe.flags&16)!==0){var ee=T.deletions;if(ee!==null){for(var ie=0;ie<ee.length;ie++){var pe=ee[ie];for(Oe=pe;Oe!==null;){var xe=Oe;switch(xe.tag){case 0:case 11:case 15:mc(8,xe,T)}var Ee=xe.child;if(Ee!==null)Ee.return=xe,Oe=Ee;else for(;Oe!==null;){xe=Oe;var be=xe.sibling,Me=xe.return;if(o1(xe),xe===pe){Oe=null;break}if(be!==null){be.return=Me,Oe=be;break}Oe=Me}}}var Le=T.alternate;if(Le!==null){var Be=Le.child;if(Be!==null){Le.child=null;do{var gn=Be.sibling;Be.sibling=null,Be=gn}while(Be!==null)}}Oe=T}}if((T.subtreeFlags&2064)!==0&&F!==null)F.return=T,Oe=F;else e:for(;Oe!==null;){if(T=Oe,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:mc(9,T,T.return)}var ue=T.sibling;if(ue!==null){ue.return=T.return,Oe=ue;break e}Oe=T.return}}var ae=o.current;for(Oe=ae;Oe!==null;){F=Oe;var fe=F.child;if((F.subtreeFlags&2064)!==0&&fe!==null)fe.return=F,Oe=fe;else e:for(F=ae;Oe!==null;){if(ee=Oe,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Sd(9,ee)}}catch(je){cn(ee,ee.return,je)}if(ee===F){Oe=null;break e}var ke=ee.sibling;if(ke!==null){ke.return=ee.return,Oe=ke;break e}Oe=ee.return}}if(mt=b,Pi(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Kr,o)}catch{}p=!0}return p}finally{Tt=d,Jr.transition=l}}return!1}function S1(o,l,d){l=Ma(d,l),l=Fb(o,l,1),o=Mi(o,l,1),l=fr(),o!==null&&($l(o,1,l),xr(o,l))}function cn(o,l,d){if(o.tag===3)S1(o,o,d);else for(;l!==null;){if(l.tag===3){S1(l,o,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Oi===null||!Oi.has(p))){o=Ma(d,o),o=zb(l,o,1),l=Mi(l,o,1),o=fr(),l!==null&&($l(l,1,o),xr(l,o));break}}l=l.return}}function BP(o,l,d){var p=o.pingCache;p!==null&&p.delete(l),l=fr(),o.pingedLanes|=o.suspendedLanes&d,Mn===o&&(Un&d)===d&&(Tn===4||Tn===3&&(Un&130023424)===Un&&500>yt()-ym?Co(o,0):gm|=d),xr(o,l)}function _1(o,l){l===0&&((o.mode&1)===0?l=1:(l=ju,ju<<=1,(ju&130023424)===0&&(ju=4194304)));var d=fr();o=Gs(o,l),o!==null&&($l(o,l,d),xr(o,d))}function jP(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),_1(o,d)}function DP(o,l){var d=0;switch(o.tag){case 13:var p=o.stateNode,b=o.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(l),_1(o,d)}var E1;E1=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||yr.current)vr=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return vr=!1,kP(o,l,d);vr=(o.flags&131072)!==0}else vr=!1,Jt&&(l.flags&1048576)!==0&&rb(l,id,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;bd(o,l),o=l.pendingProps;var b=Ea(l,Yn.current);Pa(l,d),b=Gp(null,l,p,o,b,d);var T=Yp();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,wr(p)?(T=!0,nd(l)):T=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,zp(l),b.updater=wd,l.stateNode=b,b._reactInternals=l,tm(l,p,o,d),l=im(null,l,p,!0,T,d)):(l.tag=0,Jt&&T&&Ip(l),dr(null,l,b,d),l=l.child),l;case 16:p=l.elementType;e:{switch(bd(o,l),o=l.pendingProps,b=p._init,p=b(p._payload),l.type=p,b=l.tag=FP(p),o=us(p,o),b){case 0:l=sm(null,l,p,o,d);break e;case 1:l=Qb(null,l,p,o,d);break e;case 11:l=qb(null,l,p,o,d);break e;case 14:l=Kb(null,l,p,us(p.type,o),d);break e}throw Error(n(306,p,""))}return l;case 0:return p=l.type,b=l.pendingProps,b=l.elementType===p?b:us(p,b),sm(o,l,p,b,d);case 1:return p=l.type,b=l.pendingProps,b=l.elementType===p?b:us(p,b),Qb(o,l,p,b,d);case 3:e:{if(Jb(l),o===null)throw Error(n(387));p=l.pendingProps,T=l.memoizedState,b=T.element,fb(o,l),dd(l,p,null,d);var F=l.memoizedState;if(p=F.element,T.isDehydrated)if(T={element:p,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){b=Ma(Error(n(423)),l),l=Zb(o,l,p,d,b);break e}else if(p!==b){b=Ma(Error(n(424)),l),l=Zb(o,l,p,d,b);break e}else for(Nr=Ti(l.stateNode.containerInfo.firstChild),Mr=l,Jt=!0,cs=null,d=ub(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ta(),p===b){l=Qs(o,l,d);break e}dr(o,l,p,d)}l=l.child}return l;case 5:return mb(l),o===null&&Op(l),p=l.type,b=l.pendingProps,T=o!==null?o.memoizedProps:null,F=b.children,kp(p,b)?F=null:T!==null&&kp(p,T)&&(l.flags|=32),Yb(o,l),dr(o,l,F,d),l.child;case 6:return o===null&&Op(l),null;case 13:return Xb(o,l,d);case 4:return $p(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=Ca(l,null,p,d):dr(o,l,p,d),l.child;case 11:return p=l.type,b=l.pendingProps,b=l.elementType===p?b:us(p,b),qb(o,l,p,b,d);case 7:return dr(o,l,l.pendingProps,d),l.child;case 8:return dr(o,l,l.pendingProps.children,d),l.child;case 12:return dr(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(p=l.type._context,b=l.pendingProps,T=l.memoizedProps,F=b.value,zt(ld,p._currentValue),p._currentValue=F,T!==null)if(ls(T.value,F)){if(T.children===b.children&&!yr.current){l=Qs(o,l,d);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var ee=T.dependencies;if(ee!==null){F=T.child;for(var ie=ee.firstContext;ie!==null;){if(ie.context===p){if(T.tag===1){ie=Ys(-1,d&-d),ie.tag=2;var pe=T.updateQueue;if(pe!==null){pe=pe.shared;var xe=pe.pending;xe===null?ie.next=ie:(ie.next=xe.next,xe.next=ie),pe.pending=ie}}T.lanes|=d,ie=T.alternate,ie!==null&&(ie.lanes|=d),Up(T.return,d,l),ee.lanes|=d;break}ie=ie.next}}else if(T.tag===10)F=T.type===l.type?null:T.child;else if(T.tag===18){if(F=T.return,F===null)throw Error(n(341));F.lanes|=d,ee=F.alternate,ee!==null&&(ee.lanes|=d),Up(F,d,l),F=T.sibling}else F=T.child;if(F!==null)F.return=T;else for(F=T;F!==null;){if(F===l){F=null;break}if(T=F.sibling,T!==null){T.return=F.return,F=T;break}F=F.return}T=F}dr(o,l,b.children,d),l=l.child}return l;case 9:return b=l.type,p=l.pendingProps.children,Pa(l,d),b=Yr(b),p=p(b),l.flags|=1,dr(o,l,p,d),l.child;case 14:return p=l.type,b=us(p,l.pendingProps),b=us(p.type,b),Kb(o,l,p,b,d);case 15:return Hb(o,l,l.type,l.pendingProps,d);case 17:return p=l.type,b=l.pendingProps,b=l.elementType===p?b:us(p,b),bd(o,l),l.tag=1,wr(p)?(o=!0,nd(l)):o=!1,Pa(l,d),Db(l,p,b),tm(l,p,b,d),im(null,l,p,!0,o,d);case 19:return t1(o,l,d);case 22:return Gb(o,l,d)}throw Error(n(156,l.tag))};function k1(o,l){return jn(o,l)}function UP(o,l,d,p){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(o,l,d,p){return new UP(o,l,d,p)}function km(o){return o=o.prototype,!(!o||!o.isReactComponent)}function FP(o){if(typeof o=="function")return km(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Z)return 11;if(o===E)return 14}return 2}function Di(o,l){var d=o.alternate;return d===null?(d=Zr(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Id(o,l,d,p,b,T){var F=2;if(p=o,typeof o=="function")km(o)&&(F=1);else if(typeof o=="string")F=5;else e:switch(o){case te:return Po(d.children,b,T,l);case ne:F=8,b|=8;break;case z:return o=Zr(12,d,l,b|2),o.elementType=z,o.lanes=T,o;case N:return o=Zr(13,d,l,b),o.elementType=N,o.lanes=T,o;case m:return o=Zr(19,d,l,b),o.elementType=m,o.lanes=T,o;case j:return Md(d,b,T,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case G:F=10;break e;case X:F=9;break e;case Z:F=11;break e;case E:F=14;break e;case O:F=16,p=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=Zr(F,d,l,b),l.elementType=o,l.type=p,l.lanes=T,l}function Po(o,l,d,p){return o=Zr(7,o,p,l),o.lanes=d,o}function Md(o,l,d,p){return o=Zr(22,o,p,l),o.elementType=j,o.lanes=d,o.stateNode={isHidden:!1},o}function Am(o,l,d){return o=Zr(6,o,null,l),o.lanes=d,o}function Tm(o,l,d){return l=Zr(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function zP(o,l,d,p,b){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ep(0),this.expirationTimes=ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ep(0),this.identifierPrefix=p,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Cm(o,l,d,p,b,T,F,ee,ie){return o=new zP(o,l,d,ee,ie),l===1?(l=1,T===!0&&(l|=8)):l=0,T=Zr(3,null,null,l),o.current=T,T.stateNode=o,T.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},zp(T),o}function $P(o,l,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:p==null?null:""+p,children:o,containerInfo:l,implementation:d}}function A1(o){if(!o)return Ri;o=o._reactInternals;e:{if(Ce(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(wr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(wr(d))return eb(o,d,l)}return l}function T1(o,l,d,p,b,T,F,ee,ie){return o=Cm(d,p,!0,o,b,T,F,ee,ie),o.context=A1(null),d=o.current,p=fr(),b=Bi(d),T=Ys(p,b),T.callback=l??null,Mi(d,T,b),o.current.lanes=b,$l(o,b,p),xr(o,p),o}function Nd(o,l,d,p){var b=l.current,T=fr(),F=Bi(b);return d=A1(d),l.context===null?l.context=d:l.pendingContext=d,l=Ys(T,F),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=Mi(b,l,F),o!==null&&(hs(o,b,F,T),ud(o,b,F)),F}function Od(o){return o=o.current,o.child?(o.child.tag===5,o.child.stateNode):null}function C1(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Rm(o,l){C1(o,l),(o=o.alternate)&&C1(o,l)}function WP(){return null}var R1=typeof reportError=="function"?reportError:function(o){console.error(o)};function Pm(o){this._internalRoot=o}Ld.prototype.render=Pm.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));Nd(o,l,null,null)},Ld.prototype.unmount=Pm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;To(function(){Nd(null,o,null,null)}),l[Vs]=null}};function Ld(o){this._internalRoot=o}Ld.prototype.unstable_scheduleHydration=function(o){if(o){var l=fv();o={blockedOn:null,target:o,priority:l};for(var d=0;d<Ei.length&&l!==0&&l<Ei[d].priority;d++);Ei.splice(d,0,o),d===0&&mv(o)}};function Im(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Bd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function P1(){}function VP(o,l,d,p,b){if(b){if(typeof p=="function"){var T=p;p=function(){var pe=Od(F);T.call(pe)}}var F=T1(l,p,o,0,null,!1,!1,"",P1);return o._reactRootContainer=F,o[Vs]=F.current,nc(o.nodeType===8?o.parentNode:o),To(),F}for(;b=o.lastChild;)o.removeChild(b);if(typeof p=="function"){var ee=p;p=function(){var pe=Od(ie);ee.call(pe)}}var ie=Cm(o,0,!1,null,null,!1,!1,"",P1);return o._reactRootContainer=ie,o[Vs]=ie.current,nc(o.nodeType===8?o.parentNode:o),To(function(){Nd(l,ie,d,p)}),ie}function jd(o,l,d,p,b){var T=d._reactRootContainer;if(T){var F=T;if(typeof b=="function"){var ee=b;b=function(){var ie=Od(F);ee.call(ie)}}Nd(l,F,o,b)}else F=VP(d,l,o,b,p);return Od(F)}uv=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=zl(l.pendingLanes);d!==0&&(tp(l,d|1),xr(l,yt()),(mt&6)===0&&(La=yt()+500,Pi()))}break;case 13:To(function(){var p=Gs(o,1);if(p!==null){var b=fr();hs(p,o,1,b)}}),Rm(o,1)}},np=function(o){if(o.tag===13){var l=Gs(o,134217728);if(l!==null){var d=fr();hs(l,o,134217728,d)}Rm(o,134217728)}},dv=function(o){if(o.tag===13){var l=Bi(o),d=Gs(o,l);if(d!==null){var p=fr();hs(d,o,l,p)}Rm(o,l)}},fv=function(){return Tt},hv=function(o,l){var d=Tt;try{return Tt=o,l()}finally{Tt=d}},vi=function(o,l,d){switch(l){case"input":if(Et(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==o&&p.form===o.form){var b=ed(p);if(!b)throw Error(n(90));pt(p),Et(p,b)}}}break;case"textarea":bt(o,d);break;case"select":l=d.value,l!=null&&et(o,!!d.multiple,l,!1)}},Ts=Sm,jt=To;var qP={usingClientEntryPoint:!1,Events:[ic,Sa,ed,Bt,At,Sm]},vc={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KP={bundleType:vc.bundleType,version:vc.version,rendererPackageName:vc.rendererPackageName,rendererConfig:vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Kt(o),o===null?null:o.stateNode},findFiberByHostInstance:vc.findFiberByHostInstance||WP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{Kr=Dd.inject(KP),Gn=Dd}catch{}}return Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qP,Sr.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Im(l))throw Error(n(200));return $P(o,l,null,d)},Sr.createRoot=function(o,l){if(!Im(o))throw Error(n(299));var d=!1,p="",b=R1;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=Cm(o,1,!1,null,null,d,!1,p,b),o[Vs]=l.current,nc(o.nodeType===8?o.parentNode:o),new Pm(l)},Sr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Kt(l),o=o===null?null:o.stateNode,o},Sr.flushSync=function(o){return To(o)},Sr.hydrate=function(o,l,d){if(!Bd(l))throw Error(n(200));return jd(null,o,l,!0,d)},Sr.hydrateRoot=function(o,l,d){if(!Im(o))throw Error(n(405));var p=d!=null&&d.hydratedSources||null,b=!1,T="",F=R1;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(F=d.onRecoverableError)),l=T1(l,null,o,1,d??null,b,!1,T,F),o[Vs]=l.current,nc(o),p)for(o=0;o<p.length;o++)d=p[o],b=d._getVersion,b=b(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,b]:l.mutableSourceEagerHydrationData.push(d,b);return new Ld(l)},Sr.render=function(o,l,d){if(!Bd(l))throw Error(n(200));return jd(null,o,l,!1,d)},Sr.unmountComponentAtNode=function(o){if(!Bd(o))throw Error(n(40));return o._reactRootContainer?(To(function(){jd(null,null,o,!1,function(){o._reactRootContainer=null,o[Vs]=null})}),!0):!1},Sr.unstable_batchedUpdates=Sm,Sr.unstable_renderSubtreeIntoContainer=function(o,l,d,p){if(!Bd(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return jd(o,l,d,!1,p)},Sr.version="18.3.1-next-f1338f8080-20240426",Sr}var z1;function JE(){if(z1)return Lm.exports;z1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lm.exports=nI(),Lm.exports}var $1;function rI(){if($1)return Fd;$1=1;var t=JE();return Fd.createRoot=t.createRoot,Fd.hydrateRoot=t.hydrateRoot,Fd}var sI=rI();const iI="modulepreload",oI=function(t){return"/"+t},W1={},V1=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var a=f;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");s=f(n.map(h=>{if(h=oI(h),h in W1)return;W1[h]=!0;const g=h.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":iI,g||(v.as="script"),v.crossOrigin="",v.href=h,u&&v.setAttribute("nonce",u),document.head.appendChild(v),g)return new Promise((S,x)=>{v.addEventListener("load",S),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};function aI(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,a=[],c="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)n=s[0],n==="*"?(a.push(n),c+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~r?r:~i?i:s.length)),c+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(c+=(~r?"?":"")+"\\"+s.substring(i))):c+="/"+s;return{keys:a,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}var D=bh();const _e=mo(D),lI=GP({__proto__:null,default:_e},[D]);var Dm={exports:{}},Um={};var q1;function cI(){if(q1)return Um;q1=1;var t=bh();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function c(g,y){var v=y(),S=r({inst:{value:v,getSnapshot:y}}),x=S[0].inst,k=S[1];return i(function(){x.value=v,x.getSnapshot=y,u(x)&&k({inst:x})},[g,v,y]),s(function(){return u(x)&&k({inst:x}),g(function(){u(x)&&k({inst:x})})},[g]),a(v),v}function u(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!n(g,v)}catch{return!0}}function f(g,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Um.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Um}var K1;function uI(){return K1||(K1=1,Dm.exports=cI()),Dm.exports}var dI=uI();const fI=lI.useInsertionEffect,hI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pI=hI?D.useLayoutEffect:D.useEffect,mI=fI||pI,ZE=t=>{const e=D.useRef([t,(...n)=>e[0](...n)]).current;return mI(()=>{e[0]=t}),e[1]},gI="popstate",Dy="pushState",Uy="replaceState",yI="hashchange",H1=[gI,Dy,Uy,yI],wI=t=>{for(const e of H1)addEventListener(e,t);return()=>{for(const e of H1)removeEventListener(e,t)}},XE=(t,e)=>dI.useSyncExternalStore(wI,t,e),vI=()=>location.search,bI=({ssrSearch:t=""}={})=>XE(vI,()=>t),G1=()=>location.pathname,xI=({ssrPath:t}={})=>XE(G1,t?()=>t:G1),SI=(t,{replace:e=!1,state:n=null}={})=>history[e?Uy:Dy](n,"",t),_I=(t={})=>[xI(t),SI],Y1=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Y1]>"u"){for(const t of[Dy,Uy]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Y1,{value:!0})}const EI=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",ek=(t="")=>t==="/"?"":t,kI=(t,e)=>t[0]==="~"?t.slice(1):ek(e)+t,AI=(t="",e)=>EI(Q1(ek(t)),Q1(e)),Q1=t=>{try{return decodeURI(t)}catch{return t}},tk={hook:_I,searchHook:bI,parser:aI,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},nk=D.createContext(tk),xu=()=>D.useContext(nk),rk={},sk=D.createContext(rk),TI=()=>D.useContext(sk),xh=t=>{const[e,n]=t.hook(t);return[AI(t.base,e),ZE((r,s)=>n(kI(r,t.base),s))]},CI=()=>xh(xu()),ik=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),a=s.exec(n)||[],[c,...u]=a;return c!==void 0?[!0,(()=>{const f=i!==!1?Object.fromEntries(i.map((g,y)=>[g,u[y]])):a.groups;let h={...u};return f&&Object.assign(h,f),h})(),...r?[c]:[]]:[!1,null]},RI=({children:t,...e})=>{const n=xu(),r=e.hook?tk:n;let s=r;const[i,a]=e.ssrPath?.split("?")??[];a&&(e.ssrSearch=a,e.ssrPath=i),e.hrefs=e.hrefs??e.hook?.hrefs;let c=D.useRef({}),u=c.current,f=u;for(let h in r){const g=h==="base"?r[h]+(e[h]||""):e[h]||r[h];u===f&&g!==f[h]&&(c.current=f={...f}),f[h]=g,g!==r[h]&&(s=f)}return D.createElement(nk.Provider,{value:s,children:t})},J1=({children:t,component:e},n)=>e?D.createElement(e,{params:n}):typeof t=="function"?t(n):t,PI=t=>{let e=D.useRef(rk),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Sc=({path:t,nest:e,match:n,...r})=>{const s=xu(),[i]=xh(s),[a,c,u]=n??ik(s.parser,t,i,e),f=PI({...TI(),...c});if(!a)return null;const h=u?D.createElement(RI,{base:u},J1(r,f)):J1(r,f);return D.createElement(sk.Provider,{value:f,children:h})},Z1=D.forwardRef((t,e)=>{const n=xu(),[r,s]=xh(n),{to:i="",href:a=i,onClick:c,asChild:u,children:f,className:h,replace:g,state:y,...v}=t,S=ZE(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(c?.(k),k.defaultPrevented||(k.preventDefault(),s(a,t)))}),x=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return u&&D.isValidElement(f)?D.cloneElement(f,{onClick:S,href:x}):D.createElement("a",{...v,onClick:S,href:x,className:h?.call?h(r===a):h,children:f,ref:e})}),ok=t=>Array.isArray(t)?t.flatMap(e=>ok(e&&e.type===D.Fragment?e.props.children:e)):[t],II=({children:t,location:e})=>{const n=xu(),[r]=xh(n);for(const s of ok(t)){let i=0;if(D.isValidElement(s)&&(i=ik(n.parser,s.props.path,e||r,s.props.nest))[0])return D.cloneElement(s,{match:i})}return null};var Sh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_h=typeof window>"u"||"Deno"in globalThis;function ws(){}function MI(t,e){return typeof t=="function"?t(e):t}function NI(t){return typeof t=="number"&&t>=0&&t!==1/0}function OI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function X1(t,e){return typeof t=="function"?t(e):t}function LI(t,e){return typeof t=="function"?t(e):t}function ex(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:c}=t;if(a){if(r){if(e.queryHash!==Fy(a,e.options))return!1}else if(!tu(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function tx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(eu(e.options.mutationKey)!==eu(i))return!1}else if(!tu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Fy(t,e){return(e?.queryKeyHashFn||eu)(t)}function eu(t){return JSON.stringify(t,(e,n)=>Sg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function tu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!tu(t[n],e[n])):!1}function ak(t,e){if(t===e)return t;const n=nx(t)&&nx(e);if(n||Sg(t)&&Sg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,c=n?[]:{};let u=0;for(let f=0;f<a;f++){const h=n?f:i[f];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(c[h]=void 0,u++):(c[h]=ak(t[h],e[h]),c[h]===t[h]&&t[h]!==void 0&&u++)}return s===a&&u===s?t:c}return e}function nx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sg(t){if(!rx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!rx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function rx(t){return Object.prototype.toString.call(t)==="[object Object]"}function BI(t){return new Promise(e=>{setTimeout(e,t)})}function jI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ak(t,e):e}function DI(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function UI(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var zy=Symbol();function lk(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===zy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var FI=class extends Sh{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!_h&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ck=new FI,zI=class extends Sh{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!_h&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Uf=new zI;function $I(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function WI(t){return Math.min(1e3*2**t,3e4)}function uk(t){return(t??"online")==="online"?Uf.isOnline():!0}var dk=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Fm(t){return t instanceof dk}function fk(t){let e=!1,n=0,r=!1,s;const i=$I(),a=x=>{r||(y(new dk(x)),t.abort?.())},c=()=>{e=!0},u=()=>{e=!1},f=()=>ck.isFocused()&&(t.networkMode==="always"||Uf.isOnline())&&t.canRun(),h=()=>uk(t.networkMode)&&t.canRun(),g=x=>{r||(r=!0,t.onSuccess?.(x),s?.(),i.resolve(x))},y=x=>{r||(r=!0,t.onError?.(x),s?.(),i.reject(x))},v=()=>new Promise(x=>{s=k=>{(r||f())&&x(k)},t.onPause?.()}).then(()=>{s=void 0,r||t.onContinue?.()}),S=()=>{if(r)return;let x;const k=n===0?t.initialPromise:void 0;try{x=k??t.fn()}catch(M){x=Promise.reject(M)}Promise.resolve(x).then(g).catch(M=>{if(r)return;const L=t.retry??(_h?0:3),I=t.retryDelay??WI,W=typeof I=="function"?I(n,M):I,q=L===!0||typeof L=="number"&&n<L||typeof L=="function"&&L(n,M);if(e||!q){y(M);return}n++,t.onFail?.(n,M),BI(W).then(()=>f()?void 0:v()).then(()=>{e?y(M):S()})})};return{promise:i,cancel:a,continue:()=>(s?.(),i),cancelRetry:c,continueRetry:u,canStart:h,start:()=>(h()?S():v().then(S),i)}}function VI(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=c=>setTimeout(c,0);const i=c=>{e?t.push(c):s(()=>{n(c)})},a=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||a()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var hr=VI(),hk=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),NI(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_h?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},qI=class extends hk{#e;#t;#n;#r;#o;#i;constructor(t){super(),this.#i=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=HI(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=jI(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(ws).catch(ws):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>LI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!OI(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},s=()=>{const c=lk(this.options,e),u={queryKey:this.queryKey,meta:this.meta};return r(u),this.#i=!1,this.options.persister?this.options.persister(c,u,this):c(u)},i={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#s({type:"fetch",meta:i.fetchOptions?.meta});const a=c=>{Fm(c)&&c.silent||this.#s({type:"error",error:c}),Fm(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#r=fk({initialPromise:e?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(u){a(u);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:a,onFail:(c,u)=>{this.#s({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...KI(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Fm(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),hr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function KI(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var GI=class extends Sh{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??Fy(r,e);let i=this.get(s);return i||(i=new qI({cache:this,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){hr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>ex(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>ex(t,n)):e}notify(t){hr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){hr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){hr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},YI=class extends hk{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||QI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=fk({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#r({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#r({type:"pending",context:s,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),hr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function QI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var JI=class extends Sh{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new YI({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=zd(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=zd(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(zd(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(zd(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){hr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>tx(e,n))}findAll(t={}){return this.getAll().filter(e=>tx(t,e))}notify(t){hr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return hr.batch(()=>Promise.all(t.map(e=>e.continue().catch(ws))))}};function zd(t){return t.options.scope?.id??String(t.mutationId)}function sx(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const f=async()=>{let h=!1;const g=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},y=lk(e.options,e.fetchOptions),v=async(S,x,k)=>{if(h)return Promise.reject();if(x==null&&S.pages.length)return Promise.resolve(S);const M={queryKey:e.queryKey,pageParam:x,direction:k?"backward":"forward",meta:e.options.meta};g(M);const L=await y(M),{maxPages:I}=e.options,W=k?UI:DI;return{pages:W(S.pages,L,I),pageParams:W(S.pageParams,x,I)}};if(s&&i.length){const S=s==="backward",x=S?ZI:ix,k={pages:i,pageParams:a},M=x(r,k);c=await v(k,M,S)}else{const S=t??i.length;do{const x=u===0?a[0]??r.initialPageParam:ix(r,c);if(u>0&&x==null)break;c=await v(c,x),u++}while(u<S)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function ix(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ZI(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var XI=class{#e;#t;#n;#r;#o;#i;#s;#a;constructor(t={}){this.#e=t.queryCache||new GI,this.#t=t.mutationCache||new JI,this.#n=t.defaultOptions||{},this.#r=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=ck.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Uf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#e.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(X1(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,a=MI(e,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return hr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;hr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return hr.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=hr.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ws).catch(ws)}invalidateQueries(t={},e={}){return hr.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=hr.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ws)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ws)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(X1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ws).catch(ws)}fetchInfiniteQuery(t){return t.behavior=sx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ws).catch(ws)}ensureInfiniteQueryData(t){return t.behavior=sx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Uf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(eu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()];let n={};return e.forEach(r=>{tu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){this.#o.set(eu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()];let n={};return e.forEach(r=>{tu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Fy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===zy&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},eM=D.createContext(void 0),tM=({client:t,children:e})=>(D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),R.jsx(eM.Provider,{value:t,children:e}));async function nM(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const rM=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await nM(n),await n.json()},sM=new XI({defaultOptions:{queries:{queryFn:rM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),iM=1,oM=1e6;let zm=0;function aM(){return zm=(zm+1)%Number.MAX_SAFE_INTEGER,zm.toString()}const $m=new Map,ox=t=>{if($m.has(t))return;const e=setTimeout(()=>{$m.delete(t),qc({type:"REMOVE_TOAST",toastId:t})},oM);$m.set(t,e)},lM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,iM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?ox(n):t.toasts.forEach(r=>{ox(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},mf=[];let gf={toasts:[]};function qc(t){gf=lM(gf,t),mf.forEach(e=>{e(gf)})}function cM({...t}){const e=aM(),n=s=>qc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>qc({type:"DISMISS_TOAST",toastId:e});return qc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function pk(){const[t,e]=D.useState(gf);return D.useEffect(()=>(mf.push(e),()=>{const n=mf.indexOf(e);n>-1&&mf.splice(n,1)}),[t]),{...t,toast:cM,dismiss:n=>qc({type:"DISMISS_TOAST",toastId:n})}}var Su=JE();const uM=mo(Su);function Pn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function ax(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mk(...t){return e=>{let n=!1;const r=t.map(s=>{const i=ax(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ax(t[s],null)}}}}function _s(...t){return D.useCallback(mk(...t),t)}function Eh(t,e=[]){let n=[];function r(i,a){const c=D.createContext(a),u=n.length;n=[...n,a];const f=g=>{const{scope:y,children:v,...S}=g,x=y?.[t]?.[u]||c,k=D.useMemo(()=>S,Object.values(S));return R.jsx(x.Provider,{value:k,children:v})};f.displayName=i+"Provider";function h(g,y){const v=y?.[t]?.[u]||c,S=D.useContext(v);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[f,h]}const s=()=>{const i=n.map(a=>D.createContext(a));return function(c){const u=c?.[t]||i;return D.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[r,dM(s,...e)]}function dM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:u,scopeName:f})=>{const g=u(i)[`__scope${f}`];return{...c,...g}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Ff(t){const e=hM(t),n=D.forwardRef((r,s)=>{const{children:i,...a}=r,c=D.Children.toArray(i),u=c.find(mM);if(u){const f=u.props.children,h=c.map(g=>g===u?D.Children.count(f)>1?D.Children.only(null):D.isValidElement(f)?f.props.children:null:g);return R.jsx(e,{...a,ref:s,children:D.isValidElement(f)?D.cloneElement(f,void 0,h):null})}return R.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var fM=Ff("Slot");function hM(t){const e=D.forwardRef((n,r)=>{const{children:s,...i}=n;if(D.isValidElement(s)){const a=yM(s),c=gM(i,s.props);return s.type!==D.Fragment&&(c.ref=r?mk(r,a):a),D.cloneElement(s,c)}return D.Children.count(s)>1?D.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gk=Symbol("radix.slottable");function pM(t){const e=({children:n})=>R.jsx(R.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=gk,e}function mM(t){return D.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gk}function gM(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{i(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function yM(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function wM(t){const e=t+"CollectionProvider",[n,r]=Eh(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:k,children:M}=x,L=_e.useRef(null),I=_e.useRef(new Map).current;return R.jsx(s,{scope:k,itemMap:I,collectionRef:L,children:M})};a.displayName=e;const c=t+"CollectionSlot",u=Ff(c),f=_e.forwardRef((x,k)=>{const{scope:M,children:L}=x,I=i(c,M),W=_s(k,I.collectionRef);return R.jsx(u,{ref:W,children:L})});f.displayName=c;const h=t+"CollectionItemSlot",g="data-radix-collection-item",y=Ff(h),v=_e.forwardRef((x,k)=>{const{scope:M,children:L,...I}=x,W=_e.useRef(null),q=_s(k,W),J=i(h,M);return _e.useEffect(()=>(J.itemMap.set(W,{ref:W,...I}),()=>{J.itemMap.delete(W)})),R.jsx(y,{[g]:"",ref:q,children:L})});v.displayName=h;function S(x){const k=i(t+"CollectionConsumer",x);return _e.useCallback(()=>{const L=k.collectionRef.current;if(!L)return[];const I=Array.from(L.querySelectorAll(`[${g}]`));return Array.from(k.itemMap.values()).sort((J,te)=>I.indexOf(J.ref.current)-I.indexOf(te.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:a,Slot:f,ItemSlot:v},S,r]}var vM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Rr=vM.reduce((t,e)=>{const n=Ff(`Primitive.${e}`),r=D.forwardRef((s,i)=>{const{asChild:a,...c}=s,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),R.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function yk(t,e){t&&Su.flushSync(()=>t.dispatchEvent(e))}function Us(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),D.useMemo(()=>(...n)=>e.current?.(...n),[])}function bM(t,e=globalThis?.document){const n=Us(t);D.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var xM="DismissableLayer",_g="dismissableLayer.update",SM="dismissableLayer.pointerDownOutside",_M="dismissableLayer.focusOutside",lx,wk=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$y=D.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...u}=t,f=D.useContext(wk),[h,g]=D.useState(null),y=h?.ownerDocument??globalThis?.document,[,v]=D.useState({}),S=_s(e,te=>g(te)),x=Array.from(f.layers),[k]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),M=x.indexOf(k),L=h?x.indexOf(h):-1,I=f.layersWithOutsidePointerEventsDisabled.size>0,W=L>=M,q=kM(te=>{const ne=te.target,z=[...f.branches].some(G=>G.contains(ne));!W||z||(s?.(te),a?.(te),te.defaultPrevented||c?.())},y),J=AM(te=>{const ne=te.target;[...f.branches].some(G=>G.contains(ne))||(i?.(te),a?.(te),te.defaultPrevented||c?.())},y);return bM(te=>{L===f.layers.size-1&&(r?.(te),!te.defaultPrevented&&c&&(te.preventDefault(),c()))},y),D.useEffect(()=>{if(h)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(lx=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),cx(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=lx)}},[h,y,n,f]),D.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),cx())},[h,f]),D.useEffect(()=>{const te=()=>v({});return document.addEventListener(_g,te),()=>document.removeEventListener(_g,te)},[]),R.jsx(Rr.div,{...u,ref:S,style:{pointerEvents:I?W?"auto":"none":void 0,...t.style},onFocusCapture:Pn(t.onFocusCapture,J.onFocusCapture),onBlurCapture:Pn(t.onBlurCapture,J.onBlurCapture),onPointerDownCapture:Pn(t.onPointerDownCapture,q.onPointerDownCapture)})});$y.displayName=xM;var EM="DismissableLayerBranch",vk=D.forwardRef((t,e)=>{const n=D.useContext(wk),r=D.useRef(null),s=_s(e,r);return D.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),R.jsx(Rr.div,{...t,ref:s})});vk.displayName=EM;function kM(t,e=globalThis?.document){const n=Us(t),r=D.useRef(!1),s=D.useRef(()=>{});return D.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let u=function(){bk(SM,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function AM(t,e=globalThis?.document){const n=Us(t),r=D.useRef(!1);return D.useEffect(()=>{const s=i=>{i.target&&!r.current&&bk(_M,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cx(){const t=new CustomEvent(_g);document.dispatchEvent(t)}function bk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?yk(s,i):s.dispatchEvent(i)}var TM=$y,CM=vk,na=globalThis?.document?D.useLayoutEffect:()=>{},RM="Portal",xk=D.forwardRef((t,e)=>{const{container:n,...r}=t,[s,i]=D.useState(!1);na(()=>i(!0),[]);const a=n||s&&globalThis?.document?.body;return a?uM.createPortal(R.jsx(Rr.div,{...r,ref:e}),a):null});xk.displayName=RM;function PM(t,e){return D.useReducer((n,r)=>e[n][r]??n,t)}var Wy=t=>{const{present:e,children:n}=t,r=IM(e),s=typeof n=="function"?n({present:r.isPresent}):D.Children.only(n),i=_s(r.ref,MM(s));return typeof n=="function"||r.isPresent?D.cloneElement(s,{ref:i}):null};Wy.displayName="Presence";function IM(t){const[e,n]=D.useState(),r=D.useRef({}),s=D.useRef(t),i=D.useRef("none"),a=t?"mounted":"unmounted",[c,u]=PM(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const f=$d(r.current);i.current=c==="mounted"?f:"none"},[c]),na(()=>{const f=r.current,h=s.current;if(h!==t){const y=i.current,v=$d(f);t?u("MOUNT"):v==="none"||f?.display==="none"?u("UNMOUNT"):u(h&&y!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),na(()=>{if(e){let f;const h=e.ownerDocument.defaultView??window,g=v=>{const x=$d(r.current).includes(v.animationName);if(v.target===e&&x&&(u("ANIMATION_END"),!s.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",f=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},y=v=>{v.target===e&&(i.current=$d(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{h.clearTimeout(f),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:D.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function $d(t){return t?.animationName||"none"}function MM(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function NM({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=OM({defaultProp:e,onChange:n}),i=t!==void 0,a=i?t:r,c=Us(n),u=D.useCallback(f=>{if(i){const g=typeof f=="function"?f(t):f;g!==t&&c(g)}else s(f)},[i,t,s,c]);return[a,u]}function OM({defaultProp:t,onChange:e}){const n=D.useState(t),[r]=n,s=D.useRef(r),i=Us(e);return D.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var LM="VisuallyHidden",kh=D.forwardRef((t,e)=>R.jsx(Rr.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));kh.displayName=LM;var BM=kh,Vy="ToastProvider",[qy,jM,DM]=wM("Toast"),[Sk]=Eh("Toast",[DM]),[UM,Ah]=Sk(Vy),_k=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[c,u]=D.useState(null),[f,h]=D.useState(0),g=D.useRef(!1),y=D.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vy}\`. Expected non-empty \`string\`.`),R.jsx(qy.Provider,{scope:e,children:R.jsx(UM,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:f,viewport:c,onViewportChange:u,onToastAdd:D.useCallback(()=>h(v=>v+1),[]),onToastRemove:D.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:y,children:a})})};_k.displayName=Vy;var Ek="ToastViewport",FM=["F8"],Eg="toast.viewportPause",kg="toast.viewportResume",kk=D.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=FM,label:s="Notifications ({hotkey})",...i}=t,a=Ah(Ek,n),c=jM(n),u=D.useRef(null),f=D.useRef(null),h=D.useRef(null),g=D.useRef(null),y=_s(e,g,a.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=a.toastCount>0;D.useEffect(()=>{const k=M=>{r.length!==0&&r.every(I=>M[I]||M.code===I)&&g.current?.focus()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[r]),D.useEffect(()=>{const k=u.current,M=g.current;if(S&&k&&M){const L=()=>{if(!a.isClosePausedRef.current){const J=new CustomEvent(Eg);M.dispatchEvent(J),a.isClosePausedRef.current=!0}},I=()=>{if(a.isClosePausedRef.current){const J=new CustomEvent(kg);M.dispatchEvent(J),a.isClosePausedRef.current=!1}},W=J=>{!k.contains(J.relatedTarget)&&I()},q=()=>{k.contains(document.activeElement)||I()};return k.addEventListener("focusin",L),k.addEventListener("focusout",W),k.addEventListener("pointermove",L),k.addEventListener("pointerleave",q),window.addEventListener("blur",L),window.addEventListener("focus",I),()=>{k.removeEventListener("focusin",L),k.removeEventListener("focusout",W),k.removeEventListener("pointermove",L),k.removeEventListener("pointerleave",q),window.removeEventListener("blur",L),window.removeEventListener("focus",I)}}},[S,a.isClosePausedRef]);const x=D.useCallback(({tabbingDirection:k})=>{const L=c().map(I=>{const W=I.ref.current,q=[W,...XM(W)];return k==="forwards"?q:q.reverse()});return(k==="forwards"?L.reverse():L).flat()},[c]);return D.useEffect(()=>{const k=g.current;if(k){const M=L=>{const I=L.altKey||L.ctrlKey||L.metaKey;if(L.key==="Tab"&&!I){const q=document.activeElement,J=L.shiftKey;if(L.target===k&&J){f.current?.focus();return}const z=x({tabbingDirection:J?"backwards":"forwards"}),G=z.findIndex(X=>X===q);Wm(z.slice(G+1))?L.preventDefault():J?f.current?.focus():h.current?.focus()}};return k.addEventListener("keydown",M),()=>k.removeEventListener("keydown",M)}},[c,x]),R.jsxs(CM,{ref:u,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&R.jsx(Ag,{ref:f,onFocusFromOutsideViewport:()=>{const k=x({tabbingDirection:"forwards"});Wm(k)}}),R.jsx(qy.Slot,{scope:n,children:R.jsx(Rr.ol,{tabIndex:-1,...i,ref:y})}),S&&R.jsx(Ag,{ref:h,onFocusFromOutsideViewport:()=>{const k=x({tabbingDirection:"backwards"});Wm(k)}})]})});kk.displayName=Ek;var Ak="ToastFocusProxy",Ag=D.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Ah(Ak,n);return R.jsx(kh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{const c=a.relatedTarget;!i.viewport?.contains(c)&&r()}})});Ag.displayName=Ak;var Th="Toast",zM="toast.swipeStart",$M="toast.swipeMove",WM="toast.swipeCancel",VM="toast.swipeEnd",Tk=D.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[c=!0,u]=NM({prop:r,defaultProp:s,onChange:i});return R.jsx(Wy,{present:n||c,children:R.jsx(HM,{open:c,...a,ref:e,onClose:()=>u(!1),onPause:Us(t.onPause),onResume:Us(t.onResume),onSwipeStart:Pn(t.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pn(t.onSwipeMove,f=>{const{x:h,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Pn(t.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pn(t.onSwipeEnd,f=>{const{x:h,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),u(!1)})})})});Tk.displayName=Th;var[qM,KM]=Sk(Th,{onClose(){}}),HM=D.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:c,onPause:u,onResume:f,onSwipeStart:h,onSwipeMove:g,onSwipeCancel:y,onSwipeEnd:v,...S}=t,x=Ah(Th,n),[k,M]=D.useState(null),L=_s(e,m=>M(m)),I=D.useRef(null),W=D.useRef(null),q=s||x.duration,J=D.useRef(0),te=D.useRef(q),ne=D.useRef(0),{onToastAdd:z,onToastRemove:G}=x,X=Us(()=>{k?.contains(document.activeElement)&&x.viewport?.focus(),a()}),Z=D.useCallback(m=>{!m||m===1/0||(window.clearTimeout(ne.current),J.current=new Date().getTime(),ne.current=window.setTimeout(X,m))},[X]);D.useEffect(()=>{const m=x.viewport;if(m){const E=()=>{Z(te.current),f?.()},O=()=>{const j=new Date().getTime()-J.current;te.current=te.current-j,window.clearTimeout(ne.current),u?.()};return m.addEventListener(Eg,O),m.addEventListener(kg,E),()=>{m.removeEventListener(Eg,O),m.removeEventListener(kg,E)}}},[x.viewport,q,u,f,Z]),D.useEffect(()=>{i&&!x.isClosePausedRef.current&&Z(q)},[i,q,x.isClosePausedRef,Z]),D.useEffect(()=>(z(),()=>G()),[z,G]);const N=D.useMemo(()=>k?Ok(k):null,[k]);return x.viewport?R.jsxs(R.Fragment,{children:[N&&R.jsx(GM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),R.jsx(qM,{scope:n,onClose:X,children:Su.createPortal(R.jsx(qy.ItemSlot,{scope:n,children:R.jsx(TM,{asChild:!0,onEscapeKeyDown:Pn(c,()=>{x.isFocusedToastEscapeKeyDownRef.current||X(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:R.jsx(Rr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...S,ref:L,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Pn(t.onKeyDown,m=>{m.key==="Escape"&&(c?.(m.nativeEvent),m.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,X()))}),onPointerDown:Pn(t.onPointerDown,m=>{m.button===0&&(I.current={x:m.clientX,y:m.clientY})}),onPointerMove:Pn(t.onPointerMove,m=>{if(!I.current)return;const E=m.clientX-I.current.x,O=m.clientY-I.current.y,j=!!W.current,B=["left","right"].includes(x.swipeDirection),V=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,H=B?V(0,E):0,P=B?0:V(0,O),w=m.pointerType==="touch"?10:2,_={x:H,y:P},U={originalEvent:m,delta:_};j?(W.current=_,Wd($M,g,U,{discrete:!1})):ux(_,x.swipeDirection,w)?(W.current=_,Wd(zM,h,U,{discrete:!1}),m.target.setPointerCapture(m.pointerId)):(Math.abs(E)>w||Math.abs(O)>w)&&(I.current=null)}),onPointerUp:Pn(t.onPointerUp,m=>{const E=W.current,O=m.target;if(O.hasPointerCapture(m.pointerId)&&O.releasePointerCapture(m.pointerId),W.current=null,I.current=null,E){const j=m.currentTarget,B={originalEvent:m,delta:E};ux(E,x.swipeDirection,x.swipeThreshold)?Wd(VM,v,B,{discrete:!0}):Wd(WM,y,B,{discrete:!0}),j.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),GM=t=>{const{__scopeToast:e,children:n,...r}=t,s=Ah(Th,e),[i,a]=D.useState(!1),[c,u]=D.useState(!1);return JM(()=>a(!0)),D.useEffect(()=>{const f=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(f)},[]),c?null:R.jsx(xk,{asChild:!0,children:R.jsx(kh,{...r,children:i&&R.jsxs(R.Fragment,{children:[s.label," ",n]})})})},YM="ToastTitle",Ck=D.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return R.jsx(Rr.div,{...r,ref:e})});Ck.displayName=YM;var QM="ToastDescription",Rk=D.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return R.jsx(Rr.div,{...r,ref:e})});Rk.displayName=QM;var Pk="ToastAction",Ik=D.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?R.jsx(Nk,{altText:n,asChild:!0,children:R.jsx(Ky,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Pk}\`. Expected non-empty \`string\`.`),null)});Ik.displayName=Pk;var Mk="ToastClose",Ky=D.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=KM(Mk,n);return R.jsx(Nk,{asChild:!0,children:R.jsx(Rr.button,{type:"button",...r,ref:e,onClick:Pn(t.onClick,s.onClose)})})});Ky.displayName=Mk;var Nk=D.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return R.jsx(Rr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Ok(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),ZM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Ok(r))}}),e}function Wd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?yk(s,i):s.dispatchEvent(i)}var ux=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function JM(t=()=>{}){const e=Us(t);na(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function ZM(t){return t.nodeType===t.ELEMENT_NODE}function XM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Wm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var eN=_k,Lk=kk,Bk=Tk,jk=Ck,Dk=Rk,Uk=Ik,Fk=Ky;function zk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=zk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $k(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=zk(t))&&(r&&(r+=" "),r+=e);return r}const dx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,fx=$k,Hy=(t,e)=>n=>{var r;if(e?.variants==null)return fx(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(f=>{const h=n?.[f],g=i?.[f];if(h===null)return null;const y=dx(h)||dx(g);return s[f][y]}),c=n&&Object.entries(n).reduce((f,h)=>{let[g,y]=h;return y===void 0||(f[g]=y),f},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,h)=>{let{class:g,className:y,...v}=h;return Object.entries(v).every(S=>{let[x,k]=S;return Array.isArray(k)?k.includes({...i,...c}[x]):{...i,...c}[x]===k})?[...f,g,y]:f},[]);return fx(t,a,u,n?.class,n?.className)};const tN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wk=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var nN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rN=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...c},u)=>D.createElement("svg",{ref:u,...nN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Wk("lucide",s),...c},[...a.map(([f,h])=>D.createElement(f,h)),...Array.isArray(i)?i:[i]]));const _t=(t,e)=>{const n=D.forwardRef(({className:r,...s},i)=>D.createElement(rN,{ref:i,iconNode:e,className:Wk(`lucide-${tN(t)}`,r),...s}));return n.displayName=`${t}`,n};const hx=_t("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const px=_t("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const sN=_t("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const Vm=_t("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Vd=_t("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const mx=_t("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);const iN=_t("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Fi=_t("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const gx=_t("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);const qm=_t("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const oN=_t("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const aN=_t("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const lN=_t("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);const cN=_t("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const yx=_t("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const uN=_t("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const dN=_t("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const _c=_t("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const fN=_t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const hN=_t("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);const pN=_t("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);const mN=_t("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const gN=_t("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const yN=_t("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const wN=_t("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const vN=_t("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const bN=_t("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const wx=_t("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);const xN=_t("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const SN=_t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Ec=_t("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Gy="-",_N=t=>{const e=kN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const c=a.split(Gy);return c[0]===""&&c.length!==1&&c.shift(),Vk(c,e)||EN(a)},getConflictingClassGroupIds:(a,c)=>{const u=n[a]||[];return c&&r[a]?[...u,...r[a]]:u}}},Vk=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Vk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Gy);return e.validators.find(({validator:a})=>a(i))?.classGroupId},vx=/^\[(.+)\]$/,EN=t=>{if(vx.test(t)){const e=vx.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},kN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return TN(Object.entries(t.classGroups),n).forEach(([i,a])=>{Tg(a,r,i,e)}),r},Tg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:bx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(AN(s)){Tg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Tg(a,bx(e,i),n,r)})})},bx=(t,e)=>{let n=t;return e.split(Gy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},AN=t=>t.isThemeGetter,TN=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,c])=>[e+a,c])):i);return[n,s]}):t,CN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},qk="!",RN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=c=>{const u=[];let f=0,h=0,g;for(let k=0;k<c.length;k++){let M=c[k];if(f===0){if(M===s&&(r||c.slice(k,k+i)===e)){u.push(c.slice(h,k)),h=k+i;continue}if(M==="/"){g=k;continue}}M==="["?f++:M==="]"&&f--}const y=u.length===0?c:c.substring(h),v=y.startsWith(qk),S=v?y.substring(1):y,x=g&&g>h?g-h:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:S,maybePostfixModifierPosition:x}};return n?c=>n({className:c,parseClassName:a}):a},PN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},IN=t=>({cache:CN(t.cacheSize),parseClassName:RN(t),..._N(t)}),MN=/\s+/,NN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(MN);let c="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{modifiers:h,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:v}=n(f);let S=!!v,x=r(S?y.substring(0,v):y);if(!x){if(!S){c=f+(c.length>0?" "+c:c);continue}if(x=r(y),!x){c=f+(c.length>0?" "+c:c);continue}S=!1}const k=PN(h).join(":"),M=g?k+qk:k,L=M+x;if(i.includes(L))continue;i.push(L);const I=s(x,S);for(let W=0;W<I.length;++W){const q=I[W];i.push(M+q)}c=f+(c.length>0?" "+c:c)}return c};function ON(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Kk(e))&&(r&&(r+=" "),r+=n);return r}const Kk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Kk(t[r]))&&(n&&(n+=" "),n+=e);return n};function LN(t,...e){let n,r,s,i=a;function a(u){const f=e.reduce((h,g)=>g(h),t());return n=IN(f),r=n.cache.get,s=n.cache.set,i=c,c(u)}function c(u){const f=r(u);if(f)return f;const h=NN(u,n);return s(u,h),h}return function(){return i(ON.apply(null,arguments))}}const Yt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Hk=/^\[(?:([a-z-]+):)?(.+)\]$/i,BN=/^\d+\/\d+$/,jN=new Set(["px","full","screen"]),DN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$N=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zs=t=>fl(t)||jN.has(t)||BN.test(t),zi=t=>Pl(t,"length",QN),fl=t=>!!t&&!Number.isNaN(Number(t)),Km=t=>Pl(t,"number",fl),kc=t=>!!t&&Number.isInteger(Number(t)),WN=t=>t.endsWith("%")&&fl(t.slice(0,-1)),ot=t=>Hk.test(t),$i=t=>DN.test(t),VN=new Set(["length","size","percentage"]),qN=t=>Pl(t,VN,Gk),KN=t=>Pl(t,"position",Gk),HN=new Set(["image","url"]),GN=t=>Pl(t,HN,ZN),YN=t=>Pl(t,"",JN),Ac=()=>!0,Pl=(t,e,n)=>{const r=Hk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},QN=t=>UN.test(t)&&!FN.test(t),Gk=()=>!1,JN=t=>zN.test(t),ZN=t=>$N.test(t),XN=()=>{const t=Yt("colors"),e=Yt("spacing"),n=Yt("blur"),r=Yt("brightness"),s=Yt("borderColor"),i=Yt("borderRadius"),a=Yt("borderSpacing"),c=Yt("borderWidth"),u=Yt("contrast"),f=Yt("grayscale"),h=Yt("hueRotate"),g=Yt("invert"),y=Yt("gap"),v=Yt("gradientColorStops"),S=Yt("gradientColorStopPositions"),x=Yt("inset"),k=Yt("margin"),M=Yt("opacity"),L=Yt("padding"),I=Yt("saturate"),W=Yt("scale"),q=Yt("sepia"),J=Yt("skew"),te=Yt("space"),ne=Yt("translate"),z=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",ot,e],Z=()=>[ot,e],N=()=>["",Zs,zi],m=()=>["auto",fl,ot],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",ot],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[fl,ot];return{cacheSize:500,separator:":",theme:{colors:[Ac],spacing:[Zs,zi],blur:["none","",$i,ot],brightness:P(),borderColor:[t],borderRadius:["none","","full",$i,ot],borderSpacing:Z(),borderWidth:N(),contrast:P(),grayscale:V(),hueRotate:P(),invert:V(),gap:Z(),gradientColorStops:[t],gradientColorStopPositions:[WN,zi],inset:X(),margin:X(),opacity:P(),padding:Z(),saturate:P(),scale:P(),sepia:V(),skew:P(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",ot]}],container:["container"],columns:[{columns:[$i]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),ot]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kc,ot]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ot]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",kc,ot]}],"grid-cols":[{"grid-cols":[Ac]}],"col-start-end":[{col:["auto",{span:["full",kc,ot]},ot]}],"col-start":[{"col-start":m()}],"col-end":[{"col-end":m()}],"grid-rows":[{"grid-rows":[Ac]}],"row-start-end":[{row:["auto",{span:[kc,ot]},ot]}],"row-start":[{"row-start":m()}],"row-end":[{"row-end":m()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ot]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[L]}],px:[{px:[L]}],py:[{py:[L]}],ps:[{ps:[L]}],pe:[{pe:[L]}],pt:[{pt:[L]}],pr:[{pr:[L]}],pb:[{pb:[L]}],pl:[{pl:[L]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[te]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[te]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ot,e]}],"min-w":[{"min-w":[ot,e,"min","max","fit"]}],"max-w":[{"max-w":[ot,e,"none","full","min","max","fit","prose",{screen:[$i]},$i]}],h:[{h:[ot,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ot,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ot,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ot,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$i,zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Km]}],"font-family":[{font:[Ac]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ot]}],"line-clamp":[{"line-clamp":["none",fl,Km]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zs,ot]}],"list-image":[{"list-image":["none",ot]}],"list-style-type":[{list:["none","disc","decimal",ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zs,zi]}],"underline-offset":[{"underline-offset":["auto",Zs,ot]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),KN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},GN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Zs,ot]}],"outline-w":[{outline:[Zs,zi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[Zs,zi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$i,YN]}],"shadow-color":[{shadow:[Ac]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",$i,ot]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[g]}],saturate:[{saturate:[I]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ot]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",ot]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[W]}],"scale-x":[{"scale-x":[W]}],"scale-y":[{"scale-y":[W]}],rotate:[{rotate:[kc,ot]}],"translate-x":[{"translate-x":[ne]}],"translate-y":[{"translate-y":[ne]}],"skew-x":[{"skew-x":[J]}],"skew-y":[{"skew-y":[J]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ot]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ot]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ot]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zs,zi,Km]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},e4=LN(XN);function mr(...t){return e4($k(t))}const t4=eN,Yk=D.forwardRef(({className:t,...e},n)=>R.jsx(Lk,{ref:n,className:mr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Yk.displayName=Lk.displayName;const n4=Hy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Qk=D.forwardRef(({className:t,variant:e,...n},r)=>R.jsx(Bk,{ref:r,className:mr(n4({variant:e}),t),...n}));Qk.displayName=Bk.displayName;const r4=D.forwardRef(({className:t,...e},n)=>R.jsx(Uk,{ref:n,className:mr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));r4.displayName=Uk.displayName;const Jk=D.forwardRef(({className:t,...e},n)=>R.jsx(Fk,{ref:n,className:mr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:R.jsx(SN,{className:"h-4 w-4"})}));Jk.displayName=Fk.displayName;const Zk=D.forwardRef(({className:t,...e},n)=>R.jsx(jk,{ref:n,className:mr("text-sm font-semibold",t),...e}));Zk.displayName=jk.displayName;const Xk=D.forwardRef(({className:t,...e},n)=>R.jsx(Dk,{ref:n,className:mr("text-sm opacity-90",t),...e}));Xk.displayName=Dk.displayName;function s4(){const{toasts:t}=pk();return R.jsxs(t4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return R.jsxs(Qk,{...i,children:[R.jsxs("div",{className:"grid gap-1",children:[n&&R.jsx(Zk,{children:n}),r&&R.jsx(Xk,{children:r})]}),s,R.jsx(Jk,{})]},e)}),R.jsx(Yk,{})]})}const i4=["top","right","bottom","left"],co=Math.min,zr=Math.max,zf=Math.round,qd=Math.floor,Ls=t=>({x:t,y:t}),o4={left:"right",right:"left",bottom:"top",top:"bottom"},a4={start:"end",end:"start"};function Cg(t,e,n){return zr(t,co(e,n))}function fi(t,e){return typeof t=="function"?t(e):t}function hi(t){return t.split("-")[0]}function Il(t){return t.split("-")[1]}function Yy(t){return t==="x"?"y":"x"}function Qy(t){return t==="y"?"height":"width"}function uo(t){return["top","bottom"].includes(hi(t))?"y":"x"}function Jy(t){return Yy(uo(t))}function l4(t,e,n){n===void 0&&(n=!1);const r=Il(t),s=Jy(t),i=Qy(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=$f(a)),[a,$f(a)]}function c4(t){const e=$f(t);return[Rg(t),e,Rg(e)]}function Rg(t){return t.replace(/start|end/g,e=>a4[e])}function u4(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function d4(t,e,n,r){const s=Il(t);let i=u4(hi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Rg)))),i}function $f(t){return t.replace(/left|right|bottom|top/g,e=>o4[e])}function f4(t){return{top:0,right:0,bottom:0,left:0,...t}}function e2(t){return typeof t!="number"?f4(t):{top:t,right:t,bottom:t,left:t}}function Wf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function xx(t,e,n){let{reference:r,floating:s}=t;const i=uo(e),a=Jy(e),c=Qy(a),u=hi(e),f=i==="y",h=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,y=r[c]/2-s[c]/2;let v;switch(u){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:g};break;case"left":v={x:r.x-s.width,y:g};break;default:v={x:r.x,y:r.y}}switch(Il(e)){case"start":v[a]-=y*(n&&f?-1:1);break;case"end":v[a]+=y*(n&&f?-1:1);break}return v}const h4=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:g}=xx(f,r,u),y=r,v={},S=0;for(let x=0;x<c.length;x++){const{name:k,fn:M}=c[x],{x:L,y:I,data:W,reset:q}=await M({x:h,y:g,initialPlacement:r,placement:y,strategy:s,middlewareData:v,rects:f,platform:a,elements:{reference:t,floating:e}});h=L??h,g=I??g,v={...v,[k]:{...v[k],...W}},q&&S<=50&&(S++,typeof q=="object"&&(q.placement&&(y=q.placement),q.rects&&(f=q.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):q.rects),{x:h,y:g}=xx(f,y,u)),x=-1)}return{x:h,y:g,placement:y,strategy:s,middlewareData:v}};async function nu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:c,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:y=!1,padding:v=0}=fi(e,t),S=e2(v),k=c[y?g==="floating"?"reference":"floating":g],M=Wf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(k)))==null||n?k:k.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:h,strategy:u})),L=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,I=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),W=await(i.isElement==null?void 0:i.isElement(I))?await(i.getScale==null?void 0:i.getScale(I))||{x:1,y:1}:{x:1,y:1},q=Wf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:L,offsetParent:I,strategy:u}):L);return{top:(M.top-q.top+S.top)/W.y,bottom:(q.bottom-M.bottom+S.bottom)/W.y,left:(M.left-q.left+S.left)/W.x,right:(q.right-M.right+S.right)/W.x}}const p4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:c,middlewareData:u}=e,{element:f,padding:h=0}=fi(t,e)||{};if(f==null)return{};const g=e2(h),y={x:n,y:r},v=Jy(s),S=Qy(v),x=await a.getDimensions(f),k=v==="y",M=k?"top":"left",L=k?"bottom":"right",I=k?"clientHeight":"clientWidth",W=i.reference[S]+i.reference[v]-y[v]-i.floating[S],q=y[v]-i.reference[v],J=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let te=J?J[I]:0;(!te||!await(a.isElement==null?void 0:a.isElement(J)))&&(te=c.floating[I]||i.floating[S]);const ne=W/2-q/2,z=te/2-x[S]/2-1,G=co(g[M],z),X=co(g[L],z),Z=G,N=te-x[S]-X,m=te/2-x[S]/2+ne,E=Cg(Z,m,N),O=!u.arrow&&Il(s)!=null&&m!==E&&i.reference[S]/2-(m<Z?G:X)-x[S]/2<0,j=O?m<Z?m-Z:m-N:0;return{[v]:y[v]+j,data:{[v]:E,centerOffset:m-E-j,...O&&{alignmentOffset:j}},reset:O}}}),m4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:u,elements:f}=e,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,...k}=fi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const M=hi(s),L=uo(c),I=hi(c)===c,W=await(u.isRTL==null?void 0:u.isRTL(f.floating)),q=y||(I||!x?[$f(c)]:c4(c)),J=S!=="none";!y&&J&&q.push(...d4(c,x,S,W));const te=[c,...q],ne=await nu(e,k),z=[];let G=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&z.push(ne[M]),g){const m=l4(s,a,W);z.push(ne[m[0]],ne[m[1]])}if(G=[...G,{placement:s,overflows:z}],!z.every(m=>m<=0)){var X,Z;const m=(((X=i.flip)==null?void 0:X.index)||0)+1,E=te[m];if(E)return{data:{index:m,overflows:G},reset:{placement:E}};let O=(Z=G.filter(j=>j.overflows[0]<=0).sort((j,B)=>j.overflows[1]-B.overflows[1])[0])==null?void 0:Z.placement;if(!O)switch(v){case"bestFit":{var N;const j=(N=G.filter(B=>{if(J){const V=uo(B.placement);return V===L||V==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(V=>V>0).reduce((V,H)=>V+H,0)]).sort((B,V)=>B[1]-V[1])[0])==null?void 0:N[0];j&&(O=j);break}case"initialPlacement":O=c;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function Sx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _x(t){return i4.some(e=>t[e]>=0)}const g4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=fi(t,e);switch(r){case"referenceHidden":{const i=await nu(e,{...s,elementContext:"reference"}),a=Sx(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:_x(a)}}}case"escaped":{const i=await nu(e,{...s,altBoundary:!0}),a=Sx(i,n.floating);return{data:{escapedOffsets:a,escaped:_x(a)}}}default:return{}}}}};async function y4(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=hi(n),c=Il(n),u=uo(n)==="y",f=["left","top"].includes(a)?-1:1,h=i&&u?-1:1,g=fi(e,t);let{mainAxis:y,crossAxis:v,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof S=="number"&&(v=c==="end"?S*-1:S),u?{x:v*h,y:y*f}:{x:y*f,y:v*h}}const w4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:c}=e,u=await y4(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:a}}}}},v4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:k=>{let{x:M,y:L}=k;return{x:M,y:L}}},...u}=fi(t,e),f={x:n,y:r},h=await nu(e,u),g=uo(hi(s)),y=Yy(g);let v=f[y],S=f[g];if(i){const k=y==="y"?"top":"left",M=y==="y"?"bottom":"right",L=v+h[k],I=v-h[M];v=Cg(L,v,I)}if(a){const k=g==="y"?"top":"left",M=g==="y"?"bottom":"right",L=S+h[k],I=S-h[M];S=Cg(L,S,I)}const x=c.fn({...e,[y]:v,[g]:S});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[y]:i,[g]:a}}}}}},b4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:c=0,mainAxis:u=!0,crossAxis:f=!0}=fi(t,e),h={x:n,y:r},g=uo(s),y=Yy(g);let v=h[y],S=h[g];const x=fi(c,e),k=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const I=y==="y"?"height":"width",W=i.reference[y]-i.floating[I]+k.mainAxis,q=i.reference[y]+i.reference[I]-k.mainAxis;v<W?v=W:v>q&&(v=q)}if(f){var M,L;const I=y==="y"?"width":"height",W=["top","left"].includes(hi(s)),q=i.reference[g]-i.floating[I]+(W&&((M=a.offset)==null?void 0:M[g])||0)+(W?0:k.crossAxis),J=i.reference[g]+i.reference[I]+(W?0:((L=a.offset)==null?void 0:L[g])||0)-(W?k.crossAxis:0);S<q?S=q:S>J&&(S=J)}return{[y]:v,[g]:S}}}},x4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:c}=e,{apply:u=()=>{},...f}=fi(t,e),h=await nu(e,f),g=hi(s),y=Il(s),v=uo(s)==="y",{width:S,height:x}=i.floating;let k,M;g==="top"||g==="bottom"?(k=g,M=y===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(M=g,k=y==="end"?"top":"bottom");const L=x-h.top-h.bottom,I=S-h.left-h.right,W=co(x-h[k],L),q=co(S-h[M],I),J=!e.middlewareData.shift;let te=W,ne=q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(ne=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(te=L),J&&!y){const G=zr(h.left,0),X=zr(h.right,0),Z=zr(h.top,0),N=zr(h.bottom,0);v?ne=S-2*(G!==0||X!==0?G+X:zr(h.left,h.right)):te=x-2*(Z!==0||N!==0?Z+N:zr(h.top,h.bottom))}await u({...e,availableWidth:ne,availableHeight:te});const z=await a.getDimensions(c.floating);return S!==z.width||x!==z.height?{reset:{rects:!0}}:{}}}};function Ch(){return typeof window<"u"}function Ml(t){return t2(t)?(t.nodeName||"").toLowerCase():"#document"}function Wr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $s(t){var e;return(e=(t2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function t2(t){return Ch()?t instanceof Node||t instanceof Wr(t).Node:!1}function Es(t){return Ch()?t instanceof Element||t instanceof Wr(t).Element:!1}function Fs(t){return Ch()?t instanceof HTMLElement||t instanceof Wr(t).HTMLElement:!1}function Ex(t){return!Ch()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wr(t).ShadowRoot}function _u(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ks(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function S4(t){return["table","td","th"].includes(Ml(t))}function Rh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Zy(t){const e=Xy(),n=Es(t)?ks(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _4(t){let e=fo(t);for(;Fs(e)&&!vl(e);){if(Zy(e))return e;if(Rh(e))return null;e=fo(e)}return null}function Xy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vl(t){return["html","body","#document"].includes(Ml(t))}function ks(t){return Wr(t).getComputedStyle(t)}function Ph(t){return Es(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fo(t){if(Ml(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ex(t)&&t.host||$s(t);return Ex(e)?e.host:e}function n2(t){const e=fo(t);return vl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fs(e)&&_u(e)?e:n2(e)}function ru(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=n2(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Wr(s);if(i){const c=Pg(a);return e.concat(a,a.visualViewport||[],_u(s)?s:[],c&&n?ru(c):[])}return e.concat(s,ru(s,[],n))}function Pg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function r2(t){const e=ks(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Fs(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,c=zf(n)!==i||zf(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function ew(t){return Es(t)?t:t.contextElement}function hl(t){const e=ew(t);if(!Fs(e))return Ls(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=r2(e);let a=(i?zf(n.width):n.width)/r,c=(i?zf(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const E4=Ls(0);function s2(t){const e=Wr(t);return!Xy()||!e.visualViewport?E4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function k4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wr(t)?!1:e}function ra(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ew(t);let a=Ls(1);e&&(r?Es(r)&&(a=hl(r)):a=hl(t));const c=k4(i,n,r)?s2(i):Ls(0);let u=(s.left+c.x)/a.x,f=(s.top+c.y)/a.y,h=s.width/a.x,g=s.height/a.y;if(i){const y=Wr(i),v=r&&Es(r)?Wr(r):r;let S=y,x=Pg(S);for(;x&&r&&v!==S;){const k=hl(x),M=x.getBoundingClientRect(),L=ks(x),I=M.left+(x.clientLeft+parseFloat(L.paddingLeft))*k.x,W=M.top+(x.clientTop+parseFloat(L.paddingTop))*k.y;u*=k.x,f*=k.y,h*=k.x,g*=k.y,u+=I,f+=W,S=Wr(x),x=Pg(S)}}return Wf({width:h,height:g,x:u,y:f})}function tw(t,e){const n=Ph(t).scrollLeft;return e?e.left+n:ra($s(t)).left+n}function i2(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:tw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function A4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=$s(r),c=e?Rh(e.floating):!1;if(r===a||c&&i)return n;let u={scrollLeft:0,scrollTop:0},f=Ls(1);const h=Ls(0),g=Fs(r);if((g||!g&&!i)&&((Ml(r)!=="body"||_u(a))&&(u=Ph(r)),Fs(r))){const v=ra(r);f=hl(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const y=a&&!g&&!i?i2(a,u,!0):Ls(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+h.x+y.x,y:n.y*f.y-u.scrollTop*f.y+h.y+y.y}}function T4(t){return Array.from(t.getClientRects())}function C4(t){const e=$s(t),n=Ph(t),r=t.ownerDocument.body,s=zr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=zr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+tw(t);const c=-n.scrollTop;return ks(r).direction==="rtl"&&(a+=zr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:c}}function R4(t,e){const n=Wr(t),r=$s(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,u=0;if(s){i=s.width,a=s.height;const f=Xy();(!f||f&&e==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:i,height:a,x:c,y:u}}function P4(t,e){const n=ra(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Fs(t)?hl(t):Ls(1),a=t.clientWidth*i.x,c=t.clientHeight*i.y,u=s*i.x,f=r*i.y;return{width:a,height:c,x:u,y:f}}function kx(t,e,n){let r;if(e==="viewport")r=R4(t,n);else if(e==="document")r=C4($s(t));else if(Es(e))r=P4(e,n);else{const s=s2(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Wf(r)}function o2(t,e){const n=fo(t);return n===e||!Es(n)||vl(n)?!1:ks(n).position==="fixed"||o2(n,e)}function I4(t,e){const n=e.get(t);if(n)return n;let r=ru(t,[],!1).filter(c=>Es(c)&&Ml(c)!=="body"),s=null;const i=ks(t).position==="fixed";let a=i?fo(t):t;for(;Es(a)&&!vl(a);){const c=ks(a),u=Zy(a);!u&&c.position==="fixed"&&(s=null),(i?!u&&!s:!u&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||_u(a)&&!u&&o2(t,a))?r=r.filter(h=>h!==a):s=c,a=fo(a)}return e.set(t,r),r}function M4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Rh(e)?[]:I4(e,this._c):[].concat(n),r],c=a[0],u=a.reduce((f,h)=>{const g=kx(e,h,s);return f.top=zr(g.top,f.top),f.right=co(g.right,f.right),f.bottom=co(g.bottom,f.bottom),f.left=zr(g.left,f.left),f},kx(e,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function N4(t){const{width:e,height:n}=r2(t);return{width:e,height:n}}function O4(t,e,n){const r=Fs(e),s=$s(e),i=n==="fixed",a=ra(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const u=Ls(0);if(r||!r&&!i)if((Ml(e)!=="body"||_u(s))&&(c=Ph(e)),r){const y=ra(e,!0,i,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else s&&(u.x=tw(s));const f=s&&!r&&!i?i2(s,c):Ls(0),h=a.left+c.scrollLeft-u.x-f.x,g=a.top+c.scrollTop-u.y-f.y;return{x:h,y:g,width:a.width,height:a.height}}function Hm(t){return ks(t).position==="static"}function Ax(t,e){if(!Fs(t)||ks(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $s(t)===n&&(n=n.ownerDocument.body),n}function a2(t,e){const n=Wr(t);if(Rh(t))return n;if(!Fs(t)){let s=fo(t);for(;s&&!vl(s);){if(Es(s)&&!Hm(s))return s;s=fo(s)}return n}let r=Ax(t,e);for(;r&&S4(r)&&Hm(r);)r=Ax(r,e);return r&&vl(r)&&Hm(r)&&!Zy(r)?n:r||_4(t)||n}const L4=async function(t){const e=this.getOffsetParent||a2,n=this.getDimensions,r=await n(t.floating);return{reference:O4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function B4(t){return ks(t).direction==="rtl"}const j4={convertOffsetParentRelativeRectToViewportRelativeRect:A4,getDocumentElement:$s,getClippingRect:M4,getOffsetParent:a2,getElementRects:L4,getClientRects:T4,getDimensions:N4,getScale:hl,isElement:Es,isRTL:B4};function l2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function D4(t,e){let n=null,r;const s=$s(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const f=t.getBoundingClientRect(),{left:h,top:g,width:y,height:v}=f;if(c||e(),!y||!v)return;const S=qd(g),x=qd(s.clientWidth-(h+y)),k=qd(s.clientHeight-(g+v)),M=qd(h),I={rootMargin:-S+"px "+-x+"px "+-k+"px "+-M+"px",threshold:zr(0,co(1,u))||1};let W=!0;function q(J){const te=J[0].intersectionRatio;if(te!==u){if(!W)return a();te?a(!1,te):r=setTimeout(()=>{a(!1,1e-7)},1e3)}te===1&&!l2(f,t.getBoundingClientRect())&&a(),W=!1}try{n=new IntersectionObserver(q,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(q,I)}n.observe(t)}return a(!0),i}function U4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=ew(t),h=s||i?[...f?ru(f):[],...ru(e)]:[];h.forEach(M=>{s&&M.addEventListener("scroll",n,{passive:!0}),i&&M.addEventListener("resize",n)});const g=f&&c?D4(f,n):null;let y=-1,v=null;a&&(v=new ResizeObserver(M=>{let[L]=M;L&&L.target===f&&v&&(v.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var I;(I=v)==null||I.observe(e)})),n()}),f&&!u&&v.observe(f),v.observe(e));let S,x=u?ra(t):null;u&&k();function k(){const M=ra(t);x&&!l2(x,M)&&n(),x=M,S=requestAnimationFrame(k)}return n(),()=>{var M;h.forEach(L=>{s&&L.removeEventListener("scroll",n),i&&L.removeEventListener("resize",n)}),g?.(),(M=v)==null||M.disconnect(),v=null,u&&cancelAnimationFrame(S)}}const F4=w4,z4=v4,$4=m4,W4=x4,V4=g4,Tx=p4,q4=b4,K4=(t,e,n)=>{const r=new Map,s={platform:j4,...n},i={...s.platform,_c:r};return h4(t,e,{...s,platform:i})};var yf=typeof document<"u"?D.useLayoutEffect:D.useEffect;function Vf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Vf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Vf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function c2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Cx(t,e){const n=c2(t);return Math.round(e*n)/n}function Gm(t){const e=D.useRef(t);return yf(()=>{e.current=t}),e}function H4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:u,open:f}=t,[h,g]=D.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,v]=D.useState(r);Vf(y,r)||v(r);const[S,x]=D.useState(null),[k,M]=D.useState(null),L=D.useCallback(B=>{B!==J.current&&(J.current=B,x(B))},[]),I=D.useCallback(B=>{B!==te.current&&(te.current=B,M(B))},[]),W=i||S,q=a||k,J=D.useRef(null),te=D.useRef(null),ne=D.useRef(h),z=u!=null,G=Gm(u),X=Gm(s),Z=Gm(f),N=D.useCallback(()=>{if(!J.current||!te.current)return;const B={placement:e,strategy:n,middleware:y};X.current&&(B.platform=X.current),K4(J.current,te.current,B).then(V=>{const H={...V,isPositioned:Z.current!==!1};m.current&&!Vf(ne.current,H)&&(ne.current=H,Su.flushSync(()=>{g(H)}))})},[y,e,n,X,Z]);yf(()=>{f===!1&&ne.current.isPositioned&&(ne.current.isPositioned=!1,g(B=>({...B,isPositioned:!1})))},[f]);const m=D.useRef(!1);yf(()=>(m.current=!0,()=>{m.current=!1}),[]),yf(()=>{if(W&&(J.current=W),q&&(te.current=q),W&&q){if(G.current)return G.current(W,q,N);N()}},[W,q,N,G,z]);const E=D.useMemo(()=>({reference:J,floating:te,setReference:L,setFloating:I}),[L,I]),O=D.useMemo(()=>({reference:W,floating:q}),[W,q]),j=D.useMemo(()=>{const B={position:n,left:0,top:0};if(!O.floating)return B;const V=Cx(O.floating,h.x),H=Cx(O.floating,h.y);return c?{...B,transform:"translate("+V+"px, "+H+"px)",...c2(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:H}},[n,c,O.floating,h.x,h.y]);return D.useMemo(()=>({...h,update:N,refs:E,elements:O,floatingStyles:j}),[h,N,E,O,j])}const G4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Tx({element:r.current,padding:s}).fn(n):{}:r?Tx({element:r,padding:s}).fn(n):{}}}},Y4=(t,e)=>({...F4(t),options:[t,e]}),Q4=(t,e)=>({...z4(t),options:[t,e]}),J4=(t,e)=>({...q4(t),options:[t,e]}),Z4=(t,e)=>({...$4(t),options:[t,e]}),X4=(t,e)=>({...W4(t),options:[t,e]}),eO=(t,e)=>({...V4(t),options:[t,e]}),tO=(t,e)=>({...G4(t),options:[t,e]});var nO="Arrow",u2=D.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return R.jsx(Rr.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:R.jsx("polygon",{points:"0,0 30,0 15,10"})})});u2.displayName=nO;var rO=u2;function sO(t){const[e,n]=D.useState(void 0);return na(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const u=i.borderBoxSize,f=Array.isArray(u)?u[0]:u;a=f.inlineSize,c=f.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var d2="Popper",[f2,h2]=Eh(d2),[XW,p2]=f2(d2),m2="PopperAnchor",g2=D.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=p2(m2,n),a=D.useRef(null),c=_s(e,a);return D.useEffect(()=>{i.onAnchorChange(r?.current||a.current)}),r?null:R.jsx(Rr.div,{...s,ref:c})});g2.displayName=m2;var nw="PopperContent",[iO,oO]=f2(nw),y2=D.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:S,...x}=t,k=p2(nw,n),[M,L]=D.useState(null),I=_s(e,le=>L(le)),[W,q]=D.useState(null),J=sO(W),te=J?.width??0,ne=J?.height??0,z=r+(i!=="center"?"-"+i:""),G=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},X=Array.isArray(f)?f:[f],Z=X.length>0,N={padding:G,boundary:X.filter(lO),altBoundary:Z},{refs:m,floatingStyles:E,placement:O,isPositioned:j,middlewareData:B}=H4({strategy:"fixed",placement:z,whileElementsMounted:(...le)=>U4(...le,{animationFrame:v==="always"}),elements:{reference:k.anchor},middleware:[Y4({mainAxis:s+ne,alignmentAxis:a}),u&&Q4({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?J4():void 0,...N}),u&&Z4({...N}),X4({...N,apply:({elements:le,rects:ge,availableWidth:we,availableHeight:Ve})=>{const{width:lt,height:pt}=ge.reference,Ft=le.floating.style;Ft.setProperty("--radix-popper-available-width",`${we}px`),Ft.setProperty("--radix-popper-available-height",`${Ve}px`),Ft.setProperty("--radix-popper-anchor-width",`${lt}px`),Ft.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),W&&tO({element:W,padding:c}),cO({arrowWidth:te,arrowHeight:ne}),y&&eO({strategy:"referenceHidden",...N})]}),[V,H]=b2(O),P=Us(S);na(()=>{j&&P?.()},[j,P]);const w=B.arrow?.x,_=B.arrow?.y,U=B.arrow?.centerOffset!==0,[K,se]=D.useState();return na(()=>{M&&se(window.getComputedStyle(M).zIndex)},[M]),R.jsx("div",{ref:m.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:j?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:R.jsx(iO,{scope:n,placedSide:V,onArrowChange:q,arrowX:w,arrowY:_,shouldHideArrow:U,children:R.jsx(Rr.div,{"data-side":V,"data-align":H,...x,ref:I,style:{...x.style,animation:j?void 0:"none"}})})})});y2.displayName=nw;var w2="PopperArrow",aO={top:"bottom",right:"left",bottom:"top",left:"right"},v2=D.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=oO(w2,r),a=aO[i.placedSide];return R.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:R.jsx(rO,{...s,ref:n,style:{...s.style,display:"block"}})})});v2.displayName=w2;function lO(t){return t!==null}var cO=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,a=s.arrow?.centerOffset!==0,c=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[f,h]=b2(n),g={start:"0%",center:"50%",end:"100%"}[h],y=(s.arrow?.x??0)+c/2,v=(s.arrow?.y??0)+u/2;let S="",x="";return f==="bottom"?(S=a?g:`${y}px`,x=`${-u}px`):f==="top"?(S=a?g:`${y}px`,x=`${r.floating.height+u}px`):f==="right"?(S=`${-u}px`,x=a?g:`${v}px`):f==="left"&&(S=`${r.floating.width+u}px`,x=a?g:`${v}px`),{data:{x:S,y:x}}}});function b2(t){const[e,n="center"]=t.split("-");return[e,n]}var uO=g2,dO=y2,fO=v2,[Ih]=Eh("Tooltip",[h2]),rw=h2(),x2="TooltipProvider",hO=700,Rx="tooltip.open",[pO,S2]=Ih(x2),_2=t=>{const{__scopeTooltip:e,delayDuration:n=hO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=D.useRef(!0),c=D.useRef(!1),u=D.useRef(0);return D.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),R.jsx(pO,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:D.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:D.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:D.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:i})};_2.displayName=x2;var E2="Tooltip",[eV,Mh]=Ih(E2),Ig="TooltipTrigger",mO=D.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Mh(Ig,n),i=S2(Ig,n),a=rw(n),c=D.useRef(null),u=_s(e,c,s.onTriggerChange),f=D.useRef(!1),h=D.useRef(!1),g=D.useCallback(()=>f.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),R.jsx(uO,{asChild:!0,...a,children:R.jsx(Rr.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Pn(t.onPointerMove,y=>{y.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Pn(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Pn(t.onPointerDown,()=>{s.open&&s.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Pn(t.onFocus,()=>{f.current||s.onOpen()}),onBlur:Pn(t.onBlur,s.onClose),onClick:Pn(t.onClick,s.onClose)})})});mO.displayName=Ig;var gO="TooltipPortal",[tV,yO]=Ih(gO,{forceMount:void 0}),bl="TooltipContent",k2=D.forwardRef((t,e)=>{const n=yO(bl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=Mh(bl,t.__scopeTooltip);return R.jsx(Wy,{present:r||a.open,children:a.disableHoverableContent?R.jsx(A2,{side:s,...i,ref:e}):R.jsx(wO,{side:s,...i,ref:e})})}),wO=D.forwardRef((t,e)=>{const n=Mh(bl,t.__scopeTooltip),r=S2(bl,t.__scopeTooltip),s=D.useRef(null),i=_s(e,s),[a,c]=D.useState(null),{trigger:u,onClose:f}=n,h=s.current,{onPointerInTransitChange:g}=r,y=D.useCallback(()=>{c(null),g(!1)},[g]),v=D.useCallback((S,x)=>{const k=S.currentTarget,M={x:S.clientX,y:S.clientY},L=_O(M,k.getBoundingClientRect()),I=EO(M,L),W=kO(x.getBoundingClientRect()),q=TO([...I,...W]);c(q),g(!0)},[g]);return D.useEffect(()=>()=>y(),[y]),D.useEffect(()=>{if(u&&h){const S=k=>v(k,h),x=k=>v(k,u);return u.addEventListener("pointerleave",S),h.addEventListener("pointerleave",x),()=>{u.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",x)}}},[u,h,v,y]),D.useEffect(()=>{if(a){const S=x=>{const k=x.target,M={x:x.clientX,y:x.clientY},L=u?.contains(k)||h?.contains(k),I=!AO(M,a);L?y():I&&(y(),f())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[u,h,a,f,y]),R.jsx(A2,{...t,ref:i})}),[vO,bO]=Ih(E2,{isInside:!1}),xO=pM("TooltipContent"),A2=D.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...c}=t,u=Mh(bl,n),f=rw(n),{onClose:h}=u;return D.useEffect(()=>(document.addEventListener(Rx,h),()=>document.removeEventListener(Rx,h)),[h]),D.useEffect(()=>{if(u.trigger){const g=y=>{y.target?.contains(u.trigger)&&h()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[u.trigger,h]),R.jsx($y,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:g=>g.preventDefault(),onDismiss:h,children:R.jsxs(dO,{"data-state":u.stateAttribute,...f,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[R.jsx(xO,{children:r}),R.jsx(vO,{scope:n,isInside:!0,children:R.jsx(BM,{id:u.contentId,role:"tooltip",children:s||r})})]})})});k2.displayName=bl;var T2="TooltipArrow",SO=D.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=rw(n);return bO(T2,n).isInside?null:R.jsx(fO,{...s,...r,ref:e})});SO.displayName=T2;function _O(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function EO(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function kO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function AO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const c=e[i].x,u=e[i].y,f=e[a].x,h=e[a].y;u>r!=h>r&&n<(f-c)*(r-u)/(h-u)+c&&(s=!s)}return s}function TO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),CO(e)}function CO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var RO=_2,C2=k2;const PO=RO,IO=D.forwardRef(({className:t,sideOffset:e=4,...n},r)=>R.jsx(C2,{ref:r,sideOffset:e,className:mr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));IO.displayName=C2.displayName;const sw=D.createContext({});function iw(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Nh=D.createContext(null),ow=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class MO extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function NO({children:t,isPresent:e}){const n=D.useId(),r=D.useRef(null),s=D.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=D.useContext(ow);return D.useInsertionEffect(()=>{const{width:a,height:c,top:u,left:f}=s.current;if(e||!r.current||!a||!c)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return i&&(h.nonce=i),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            top: ${u}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),R.jsx(MO,{isPresent:e,childRef:r,sizeRef:s,children:D.cloneElement(t,{ref:r})})}const OO=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const c=iw(LO),u=D.useId(),f=D.useCallback(g=>{c.set(g,!0);for(const y of c.values())if(!y)return;r&&r()},[c,r]),h=D.useMemo(()=>({id:u,initial:e,isPresent:n,custom:s,onExitComplete:f,register:g=>(c.set(g,!1),()=>c.delete(g))}),i?[Math.random(),f]:[n,f]);return D.useMemo(()=>{c.forEach((g,y)=>c.set(y,!1))},[n]),D.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),a==="popLayout"&&(t=R.jsx(NO,{isPresent:n,children:t})),R.jsx(Nh.Provider,{value:h,children:t})};function LO(){return new Map}function R2(t=!0){const e=D.useContext(Nh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=D.useId();D.useEffect(()=>{t&&s(i)},[t]);const a=D.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Kd=t=>t.key||"";function Px(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const aw=typeof window<"u",P2=aw?D.useLayoutEffect:D.useEffect,Hd=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[c,u]=R2(a),f=D.useMemo(()=>Px(t),[t]),h=a&&!c?[]:f.map(Kd),g=D.useRef(!0),y=D.useRef(f),v=iw(()=>new Map),[S,x]=D.useState(f),[k,M]=D.useState(f);P2(()=>{g.current=!1,y.current=f;for(let W=0;W<k.length;W++){const q=Kd(k[W]);h.includes(q)?v.delete(q):v.get(q)!==!0&&v.set(q,!1)}},[k,h.length,h.join("-")]);const L=[];if(f!==S){let W=[...f];for(let q=0;q<k.length;q++){const J=k[q],te=Kd(J);h.includes(te)||(W.splice(q,0,J),L.push(J))}i==="wait"&&L.length&&(W=L),M(Px(W)),x(f);return}const{forceRender:I}=D.useContext(sw);return R.jsx(R.Fragment,{children:k.map(W=>{const q=Kd(W),J=a&&!c?!1:f===k||h.includes(q),te=()=>{if(v.has(q))v.set(q,!0);else return;let ne=!0;v.forEach(z=>{z||(ne=!1)}),ne&&(I?.(),M(y.current),a&&u?.(),r&&r())};return R.jsx(OO,{isPresent:J,initial:!g.current||n?void 0:!1,custom:J?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:J?void 0:te,children:W},q)})})},Vr=t=>t;let I2=Vr;function lw(t){let e;return()=>(e===void 0&&(e=t()),e)}const xl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ui=t=>t*1e3,di=t=>t/1e3,BO={useManualTiming:!1};function jO(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(f){i.has(f)&&(u.schedule(f),t()),f(a)}const u={schedule:(f,h=!1,g=!1)=>{const v=g&&r?e:n;return h&&i.add(f),v.has(f)||v.add(f),f},cancel:f=>{n.delete(f),i.delete(f)},process:f=>{if(a=f,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,s&&(s=!1,u.process(f))}};return u}const Gd=["read","resolveKeyframes","update","preRender","render","postRender"],DO=40;function M2(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Gd.reduce((M,L)=>(M[L]=jO(i),M),{}),{read:c,resolveKeyframes:u,update:f,preRender:h,render:g,postRender:y}=a,v=()=>{const M=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(M-s.timestamp,DO),1),s.timestamp=M,s.isProcessing=!0,c.process(s),u.process(s),f.process(s),h.process(s),g.process(s),y.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},S=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:Gd.reduce((M,L)=>{const I=a[L];return M[L]=(W,q=!1,J=!1)=>(n||S(),I.schedule(W,q,J)),M},{}),cancel:M=>{for(let L=0;L<Gd.length;L++)a[Gd[L]].cancel(M)},state:s,steps:a}}const{schedule:Qt,cancel:ho,state:Wn,steps:Ym}=M2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vr,!0),N2=D.createContext({strict:!1}),Ix={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sl={};for(const t in Ix)Sl[t]={isEnabled:e=>Ix[t].some(n=>!!e[n])};function UO(t){for(const e in t)Sl[e]={...Sl[e],...t[e]}}const FO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||FO.has(t)}let O2=t=>!qf(t);function zO(t){t&&(O2=e=>e.startsWith("on")?!qf(e):t(e))}try{zO(require("@emotion/is-prop-valid").default)}catch{}function $O(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(O2(s)||n===!0&&qf(s)||!e&&!qf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function WO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Oh=D.createContext({});function su(t){return typeof t=="string"||Array.isArray(t)}function Lh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const cw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uw=["initial",...cw];function Bh(t){return Lh(t.animate)||uw.some(e=>su(t[e]))}function L2(t){return!!(Bh(t)||t.variants)}function VO(t,e){if(Bh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||su(n)?n:void 0,animate:su(r)?r:void 0}}return t.inherit!==!1?e:{}}function qO(t){const{initial:e,animate:n}=VO(t,D.useContext(Oh));return D.useMemo(()=>({initial:e,animate:n}),[Mx(e),Mx(n)])}function Mx(t){return Array.isArray(t)?t.join(" "):t}const KO=Symbol.for("motionComponentSymbol");function rl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function HO(t,e,n){return D.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):rl(n)&&(n.current=r))},[e])}const dw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GO="framerAppearId",B2="data-"+dw(GO),{schedule:fw}=M2(queueMicrotask,!1),j2=D.createContext({});function YO(t,e,n,r,s){var i,a;const{visualElement:c}=D.useContext(Oh),u=D.useContext(N2),f=D.useContext(Nh),h=D.useContext(ow).reducedMotion,g=D.useRef(null);r=r||u.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:c,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const y=g.current,v=D.useContext(j2);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&QO(g.current,n,s,v);const S=D.useRef(!1);D.useInsertionEffect(()=>{y&&S.current&&y.update(n,f)});const x=n[B2],k=D.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,x)));return P2(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),fw.render(y.render),k.current&&y.animationState&&y.animationState.animateChanges())}),D.useEffect(()=>{y&&(!k.current&&y.animationState&&y.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)===null||M===void 0||M.call(window,x)}),k.current=!1))}),y}function QO(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:D2(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||c&&rl(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:f})}function D2(t){if(t)return t.options.allowProjection!==!1?t.projection:D2(t.parent)}function JO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,a;t&&UO(t);function c(f,h){let g;const y={...D.useContext(ow),...f,layoutId:ZO(f)},{isStatic:v}=y,S=qO(f),x=r(f,v);if(!v&&aw){XO();const k=e3(y);g=k.MeasureLayout,S.visualElement=YO(s,x,y,e,k.ProjectionNode)}return R.jsxs(Oh.Provider,{value:S,children:[g&&S.visualElement?R.jsx(g,{visualElement:S.visualElement,...y}):null,n(s,f,HO(x,S.visualElement,h),x,v,S.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const u=D.forwardRef(c);return u[KO]=s,u}function ZO({layoutId:t}){const e=D.useContext(sw).id;return e&&t!==void 0?e+"-"+t:t}function XO(t,e){D.useContext(N2).strict}function e3(t){const{drag:e,layout:n}=Sl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const t3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hw(t){return typeof t!="string"||t.includes("-")?!1:!!(t3.indexOf(t)>-1||/[A-Z]/u.test(t))}function Nx(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function pw(t,e,n,r){if(typeof e=="function"){const[s,i]=Nx(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Nx(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Mg=t=>Array.isArray(t),n3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),r3=t=>Mg(t)?t[t.length-1]||0:t,or=t=>!!(t&&t.getVelocity);function wf(t){const e=or(t)?t.get():t;return n3(e)?e.toValue():e}function s3({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const a={latestValues:i3(r,s,i,t),renderState:e()};return n&&(a.onMount=c=>n({props:r,current:c,...a}),a.onUpdate=c=>n(c)),a}const U2=t=>(e,n)=>{const r=D.useContext(Oh),s=D.useContext(Nh),i=()=>s3(t,e,r,s);return n?i():iw(i)};function i3(t,e,n,r){const s={},i=r(t,{});for(const y in i)s[y]=wf(i[y]);let{initial:a,animate:c}=t;const u=Bh(t),f=L2(t);e&&f&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const g=h?c:a;if(g&&typeof g!="boolean"&&!Lh(g)){const y=Array.isArray(g)?g:[g];for(let v=0;v<y.length;v++){const S=pw(t,y[v]);if(S){const{transitionEnd:x,transition:k,...M}=S;for(const L in M){let I=M[L];if(Array.isArray(I)){const W=h?I.length-1:0;I=I[W]}I!==null&&(s[L]=I)}for(const L in x)s[L]=x[L]}}}return s}const Nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ia=new Set(Nl),F2=t=>e=>typeof e=="string"&&e.startsWith(t),z2=F2("--"),o3=F2("var(--"),mw=t=>o3(t)?a3.test(t.split("/*")[0].trim()):!1,a3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,pi=(t,e,n)=>n>e?e:n<t?t:n,Ol={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},iu={...Ol,transform:t=>pi(0,1,t)},Yd={...Ol,default:1},Eu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ji=Eu("deg"),Bs=Eu("%"),Je=Eu("px"),l3=Eu("vh"),c3=Eu("vw"),Ox={...Bs,parse:t=>Bs.parse(t)/100,transform:t=>Bs.transform(t*100)},u3={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je},d3={rotate:Ji,rotateX:Ji,rotateY:Ji,rotateZ:Ji,scale:Yd,scaleX:Yd,scaleY:Yd,scaleZ:Yd,skew:Ji,skewX:Ji,skewY:Ji,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:iu,originX:Ox,originY:Ox,originZ:Je},Lx={...Ol,transform:Math.round},gw={...u3,...d3,zIndex:Lx,size:Je,fillOpacity:iu,strokeOpacity:iu,numOctaves:Lx},f3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h3=Nl.length;function p3(t,e,n){let r="",s=!0;for(let i=0;i<h3;i++){const a=Nl[i],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const f=$2(c,gw[a]);if(!u){s=!1;const h=f3[a]||a;r+=`${h}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function yw(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,c=!1;for(const u in e){const f=e[u];if(ia.has(u)){a=!0;continue}else if(z2(u)){s[u]=f;continue}else{const h=$2(f,gw[u]);u.startsWith("origin")?(c=!0,i[u]=h):r[u]=h}}if(e.transform||(a||n?r.transform=p3(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:f="50%",originZ:h=0}=i;r.transformOrigin=`${u} ${f} ${h}`}}const m3={offset:"stroke-dashoffset",array:"stroke-dasharray"},g3={offset:"strokeDashoffset",array:"strokeDasharray"};function y3(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?m3:g3;t[i.offset]=Je.transform(-r);const a=Je.transform(e),c=Je.transform(n);t[i.array]=`${a} ${c}`}function Bx(t,e,n){return typeof t=="string"?t:Je.transform(e+n*t)}function w3(t,e,n){const r=Bx(e,t.x,t.width),s=Bx(n,t.y,t.height);return`${r} ${s}`}function ww(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:c=1,pathOffset:u=0,...f},h,g){if(yw(t,f,g),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v,dimensions:S}=t;y.transform&&(S&&(v.transform=y.transform),delete y.transform),S&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=w3(S,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),a!==void 0&&y3(y,a,c,u,!1)}const vw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),W2=()=>({...vw(),attrs:{}}),bw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function V2(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const q2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function K2(t,e,n,r){V2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(q2.has(s)?s:dw(s),e.attrs[s])}const Kf={};function v3(t){Object.assign(Kf,t)}function H2(t,{layout:e,layoutId:n}){return ia.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kf[t]||t==="opacity")}function xw(t,e,n){var r;const{style:s}=t,i={};for(const a in s)(or(s[a])||e.style&&or(e.style[a])||H2(a,t)||((r=n?.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function G2(t,e,n){const r=xw(t,e,n);for(const s in t)if(or(t[s])||or(e[s])){const i=Nl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function b3(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const jx=["x","y","width","height","cx","cy","r"],x3={useVisualState:U2({scrapeMotionValuesFromProps:G2,createRenderState:W2,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const c in s)if(ia.has(c)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let c=0;c<jx.length;c++){const u=jx[c];t[u]!==e[u]&&(a=!0)}a&&Qt.read(()=>{b3(n,r),Qt.render(()=>{ww(r,s,bw(n.tagName),t.transformTemplate),K2(n,r)})})}})},S3={useVisualState:U2({scrapeMotionValuesFromProps:xw,createRenderState:vw})};function Y2(t,e,n){for(const r in e)!or(e[r])&&!H2(r,n)&&(t[r]=e[r])}function _3({transformTemplate:t},e){return D.useMemo(()=>{const n=vw();return yw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function E3(t,e){const n=t.style||{},r={};return Y2(r,n,t),Object.assign(r,_3(t,e)),r}function k3(t,e){const n={},r=E3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function A3(t,e,n,r){const s=D.useMemo(()=>{const i=W2();return ww(i,e,bw(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Y2(i,t.style,t),s.style={...i,...s.style}}return s}function T3(t=!1){return(n,r,s,{latestValues:i},a)=>{const u=(hw(n)?A3:k3)(r,i,a,n),f=$O(r,typeof n=="string",t),h=n!==D.Fragment?{...f,...u,ref:s}:{},{children:g}=r,y=D.useMemo(()=>or(g)?g.get():g,[g]);return D.createElement(n,{...h,children:y})}}function C3(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...hw(r)?x3:S3,preloadedFeatures:t,useRender:T3(s),createVisualElement:e,Component:r};return JO(a)}}function Q2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function jh(t,e,n){const r=t.getProps();return pw(r,e,n!==void 0?n:r.custom,t)}const R3=lw(()=>window.ScrollTimeline!==void 0);class P3{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(R3()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class I3 extends P3{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Sw(t,e){return t?t[e]||t.default||t:void 0}const Ng=2e4;function J2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ng;)e+=n,r=t.next(e);return e>=Ng?1/0:e}function _w(t){return typeof t=="function"}function Dx(t,e){t.timeline=e,t.onfinish=null}const Ew=t=>Array.isArray(t)&&typeof t[0]=="number",M3={linearEasing:void 0};function N3(t,e){const n=lw(t);return()=>{var r;return(r=M3[e])!==null&&r!==void 0?r:n()}}const Hf=N3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Z2=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(xl(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function X2(t){return!!(typeof t=="function"&&Hf()||!t||typeof t=="string"&&(t in Og||Hf())||Ew(t)||Array.isArray(t)&&t.every(X2))}const Nc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Og={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nc([0,.65,.55,1]),circOut:Nc([.55,0,1,.45]),backIn:Nc([.31,.01,.66,-.59]),backOut:Nc([.33,1.53,.69,.99])};function eA(t,e){if(t)return typeof t=="function"&&Hf()?Z2(t,e):Ew(t)?Nc(t):Array.isArray(t)?t.map(n=>eA(n,e)||Og.easeOut):Og[t]}const gs={x:!1,y:!1};function tA(){return gs.x||gs.y}function O3(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function nA(t,e){const n=O3(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Ux(t){return e=>{e.pointerType==="touch"||tA()||t(e)}}function L3(t,e,n={}){const[r,s,i]=nA(t,n),a=Ux(c=>{const{target:u}=c,f=e(c);if(typeof f!="function"||!u)return;const h=Ux(g=>{f(g),u.removeEventListener("pointerleave",h)});u.addEventListener("pointerleave",h,s)});return r.forEach(c=>{c.addEventListener("pointerenter",a,s)}),i}const rA=(t,e)=>e?t===e?!0:rA(t,e.parentElement):!1,kw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,B3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j3(t){return B3.has(t.tagName)||t.tabIndex!==-1}const Oc=new WeakSet;function Fx(t){return e=>{e.key==="Enter"&&t(e)}}function Qm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const D3=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Fx(()=>{if(Oc.has(n))return;Qm(n,"down");const s=Fx(()=>{Qm(n,"up")}),i=()=>Qm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function zx(t){return kw(t)&&!tA()}function U3(t,e,n={}){const[r,s,i]=nA(t,n),a=c=>{const u=c.currentTarget;if(!zx(c)||Oc.has(u))return;Oc.add(u);const f=e(c),h=(v,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),!(!zx(v)||!Oc.has(u))&&(Oc.delete(u),typeof f=="function"&&f(v,{success:S}))},g=v=>{h(v,n.useGlobalTarget||rA(u,v.target))},y=v=>{h(v,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return r.forEach(c=>{!j3(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),c.addEventListener("focus",f=>D3(f,s),s)}),i}function F3(t){return t==="x"||t==="y"?gs[t]?null:(gs[t]=!0,()=>{gs[t]=!1}):gs.x||gs.y?null:(gs.x=gs.y=!0,()=>{gs.x=gs.y=!1})}const sA=new Set(["width","height","top","left","right","bottom",...Nl]);let vf;function z3(){vf=void 0}const js={now:()=>(vf===void 0&&js.set(Wn.isProcessing||BO.useManualTiming?Wn.timestamp:performance.now()),vf),set:t=>{vf=t,queueMicrotask(z3)}};function Aw(t,e){t.indexOf(e)===-1&&t.push(e)}function Tw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Cw{constructor(){this.subscriptions=[]}add(e){return Aw(this.subscriptions,e),()=>Tw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function iA(t,e){return e?t*(1e3/e):0}const $x=30,$3=t=>!isNaN(parseFloat(t));class W3{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=js.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=js.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=js.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$x)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$x);return iA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ou(t,e){return new W3(t,e)}function V3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ou(n))}function q3(t,e){const n=jh(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const c=r3(i[a]);V3(t,a,c)}}function K3(t){return!!(or(t)&&t.add)}function Lg(t,e){const n=t.getValue("willChange");if(K3(n))return n.add(e)}function oA(t){return t.props[B2]}const aA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,H3=1e-7,G3=12;function Y3(t,e,n,r,s){let i,a,c=0;do a=e+(n-e)/2,i=aA(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>H3&&++c<G3);return a}function ku(t,e,n,r){if(t===e&&n===r)return Vr;const s=i=>Y3(i,0,1,t,n);return i=>i===0||i===1?i:aA(s(i),e,r)}const lA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cA=t=>e=>1-t(1-e),uA=ku(.33,1.53,.69,.99),Rw=cA(uA),dA=lA(Rw),fA=t=>(t*=2)<1?.5*Rw(t):.5*(2-Math.pow(2,-10*(t-1))),Pw=t=>1-Math.sin(Math.acos(t)),hA=cA(Pw),pA=lA(Pw),mA=t=>/^0[^.\s]+$/u.test(t);function Q3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mA(t):!0}const Kc=t=>Math.round(t*1e5)/1e5,Iw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function J3(t){return t==null}const Z3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mw=(t,e)=>n=>!!(typeof n=="string"&&Z3.test(n)&&n.startsWith(t)||e&&!J3(n)&&Object.prototype.hasOwnProperty.call(n,e)),gA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,c]=r.match(Iw);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},X3=t=>pi(0,255,t),Jm={...Ol,transform:t=>Math.round(X3(t))},Wo={test:Mw("rgb","red"),parse:gA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Jm.transform(t)+", "+Jm.transform(e)+", "+Jm.transform(n)+", "+Kc(iu.transform(r))+")"};function e5(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Bg={test:Mw("#"),parse:e5,transform:Wo.transform},sl={test:Mw("hsl","hue"),parse:gA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bs.transform(Kc(e))+", "+Bs.transform(Kc(n))+", "+Kc(iu.transform(r))+")"},ir={test:t=>Wo.test(t)||Bg.test(t)||sl.test(t),parse:t=>Wo.test(t)?Wo.parse(t):sl.test(t)?sl.parse(t):Bg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wo.transform(t):sl.transform(t)},t5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function n5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Iw))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(t5))===null||n===void 0?void 0:n.length)||0)>0}const yA="number",wA="color",r5="var",s5="var(",Wx="${}",i5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function au(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const c=e.replace(i5,u=>(ir.test(u)?(r.color.push(i),s.push(wA),n.push(ir.parse(u))):u.startsWith(s5)?(r.var.push(i),s.push(r5),n.push(u)):(r.number.push(i),s.push(yA),n.push(parseFloat(u))),++i,Wx)).split(Wx);return{values:n,split:c,indexes:r,types:s}}function vA(t){return au(t).values}function bA(t){const{split:e,types:n}=au(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const c=n[a];c===yA?i+=Kc(s[a]):c===wA?i+=ir.transform(s[a]):i+=s[a]}return i}}const o5=t=>typeof t=="number"?0:t;function a5(t){const e=vA(t);return bA(t)(e.map(o5))}const po={test:n5,parse:vA,createTransformer:bA,getAnimatableNone:a5},l5=new Set(["brightness","contrast","saturate","opacity"]);function c5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Iw)||[];if(!r)return t;const s=n.replace(r,"");let i=l5.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const u5=/\b([a-z-]*)\(.*?\)/gu,jg={...po,getAnimatableNone:t=>{const e=t.match(u5);return e?e.map(c5).join(" "):t}},d5={...gw,color:ir,backgroundColor:ir,outlineColor:ir,fill:ir,stroke:ir,borderColor:ir,borderTopColor:ir,borderRightColor:ir,borderBottomColor:ir,borderLeftColor:ir,filter:jg,WebkitFilter:jg},Nw=t=>d5[t];function xA(t,e){let n=Nw(t);return n!==jg&&(n=po),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const f5=new Set(["auto","none","0"]);function h5(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!f5.has(i)&&au(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=xA(n,s)}const Vx=t=>t===Ol||t===Je,qx=(t,e)=>parseFloat(t.split(", ")[e]),Kx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return qx(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?qx(i[1],t):0}},p5=new Set(["x","y","z"]),m5=Nl.filter(t=>!p5.has(t));function g5(t){const e=[];return m5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const _l={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Kx(4,13),y:Kx(5,14)};_l.translateX=_l.x;_l.translateY=_l.y;const Xo=new Set;let Dg=!1,Ug=!1;function SA(){if(Ug){const t=Array.from(Xo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=g5(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var c;(c=r.getValue(i))===null||c===void 0||c.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ug=!1,Dg=!1,Xo.forEach(t=>t.complete()),Xo.clear()}function _A(){Xo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ug=!0)})}function y5(){_A(),SA()}class Ow{constructor(e,n,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xo.add(this),Dg||(Dg=!0,Qt.read(_A),Qt.resolveKeyframes(SA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=s?.get(),c=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),s&&a===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const EA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),w5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function v5(t){const e=w5.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function kA(t,e,n=1){const[r,s]=v5(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return EA(a)?parseFloat(a):a}return mw(s)?kA(s,e,n+1):s}const AA=t=>e=>e.test(t),b5={test:t=>t==="auto",parse:t=>t},TA=[Ol,Je,Bs,Ji,c3,l3,b5],Hx=t=>TA.find(AA(t));class CA extends Ow{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),mw(f))){const h=kA(f,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!sA.has(r)||e.length!==2)return;const[s,i]=e,a=Hx(s),c=Hx(i);if(a!==c)if(Vx(a)&&Vx(c))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)Q3(e[s])&&r.push(s);r.length&&h5(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_l[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,c=s[a];s[a]=_l[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,f])=>{n.getValue(u).set(f)}),this.resolveNoneKeyframes()}}const Gx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(po.test(t)||t==="0")&&!t.startsWith("url("));function x5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function S5(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=Gx(s,e),c=Gx(i,e);return!a||!c?!1:x5(t)||(n==="spring"||_w(n))&&r}const _5=t=>t!==null;function Dh(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(_5),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const E5=40;class RA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=js.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>E5?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&y5(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=js.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:c,onUpdate:u,isGenerator:f}=this.options;if(!f&&!S5(e,r,s,i))if(a)this.options.duration=0;else{u&&u(Dh(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const on=(t,e,n)=>t+(e-t)*n;function Zm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function k5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;s=Zm(u,c,t+1/3),i=Zm(u,c,t),a=Zm(u,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Gf(t,e){return n=>n>0?e:t}const Xm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},A5=[Bg,Wo,sl],T5=t=>A5.find(e=>e.test(t));function Yx(t){const e=T5(t);if(!e)return!1;let n=e.parse(t);return e===sl&&(n=k5(n)),n}const Qx=(t,e)=>{const n=Yx(t),r=Yx(e);if(!n||!r)return Gf(t,e);const s={...n};return i=>(s.red=Xm(n.red,r.red,i),s.green=Xm(n.green,r.green,i),s.blue=Xm(n.blue,r.blue,i),s.alpha=on(n.alpha,r.alpha,i),Wo.transform(s))},C5=(t,e)=>n=>e(t(n)),Au=(...t)=>t.reduce(C5),Fg=new Set(["none","hidden"]);function R5(t,e){return Fg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function P5(t,e){return n=>on(t,e,n)}function Lw(t){return typeof t=="number"?P5:typeof t=="string"?mw(t)?Gf:ir.test(t)?Qx:N5:Array.isArray(t)?PA:typeof t=="object"?ir.test(t)?Qx:I5:Gf}function PA(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>Lw(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function I5(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Lw(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function M5(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],c=t.indexes[a][s[a]],u=(n=t.values[c])!==null&&n!==void 0?n:0;r[i]=u,s[a]++}return r}const N5=(t,e)=>{const n=po.createTransformer(e),r=au(t),s=au(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Fg.has(t)&&!s.values.length||Fg.has(e)&&!r.values.length?R5(t,e):Au(PA(M5(r,s),s.values),n):Gf(t,e)};function IA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?on(t,e,n):Lw(t)(t,e)}const O5=5;function MA(t,e,n){const r=Math.max(e-O5,0);return iA(n-t(r),e-r)}const hn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},e0=.001;function L5({duration:t=hn.duration,bounce:e=hn.bounce,velocity:n=hn.velocity,mass:r=hn.mass}){let s,i,a=1-e;a=pi(hn.minDamping,hn.maxDamping,a),t=pi(hn.minDuration,hn.maxDuration,di(t)),a<1?(s=f=>{const h=f*a,g=h*t,y=h-n,v=zg(f,a),S=Math.exp(-g);return e0-y/v*S},i=f=>{const g=f*a*t,y=g*n+n,v=Math.pow(a,2)*Math.pow(f,2)*t,S=Math.exp(-g),x=zg(Math.pow(f,2),a);return(-s(f)+e0>0?-1:1)*((y-v)*S)/x}):(s=f=>{const h=Math.exp(-f*t),g=(f-n)*t+1;return-e0+h*g},i=f=>{const h=Math.exp(-f*t),g=(n-f)*(t*t);return h*g});const c=5/t,u=j5(s,i,c);if(t=ui(t),isNaN(u))return{stiffness:hn.stiffness,damping:hn.damping,duration:t};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const B5=12;function j5(t,e,n){let r=n;for(let s=1;s<B5;s++)r=r-t(r)/e(r);return r}function zg(t,e){return t*Math.sqrt(1-e*e)}const D5=["duration","bounce"],U5=["stiffness","damping","mass"];function Jx(t,e){return e.some(n=>t[n]!==void 0)}function F5(t){let e={velocity:hn.velocity,stiffness:hn.stiffness,damping:hn.damping,mass:hn.mass,isResolvedFromDuration:!1,...t};if(!Jx(t,U5)&&Jx(t,D5))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*pi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:hn.mass,stiffness:s,damping:i}}else{const n=L5(t);e={...e,...n,mass:hn.mass},e.isResolvedFromDuration=!0}return e}function NA(t=hn.visualDuration,e=hn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:f,mass:h,duration:g,velocity:y,isResolvedFromDuration:v}=F5({...n,velocity:-di(n.velocity||0)}),S=y||0,x=f/(2*Math.sqrt(u*h)),k=a-i,M=di(Math.sqrt(u/h)),L=Math.abs(k)<5;r||(r=L?hn.restSpeed.granular:hn.restSpeed.default),s||(s=L?hn.restDelta.granular:hn.restDelta.default);let I;if(x<1){const q=zg(M,x);I=J=>{const te=Math.exp(-x*M*J);return a-te*((S+x*M*k)/q*Math.sin(q*J)+k*Math.cos(q*J))}}else if(x===1)I=q=>a-Math.exp(-M*q)*(k+(S+M*k)*q);else{const q=M*Math.sqrt(x*x-1);I=J=>{const te=Math.exp(-x*M*J),ne=Math.min(q*J,300);return a-te*((S+x*M*k)*Math.sinh(ne)+q*k*Math.cosh(ne))/q}}const W={calculatedDuration:v&&g||null,next:q=>{const J=I(q);if(v)c.done=q>=g;else{let te=0;x<1&&(te=q===0?ui(S):MA(I,q,J));const ne=Math.abs(te)<=r,z=Math.abs(a-J)<=s;c.done=ne&&z}return c.value=c.done?a:J,c},toString:()=>{const q=Math.min(J2(W),Ng),J=Z2(te=>W.next(q*te).value,q,30);return q+"ms "+J}};return W}function Zx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:u,restDelta:f=.5,restSpeed:h}){const g=t[0],y={done:!1,value:g},v=ne=>c!==void 0&&ne<c||u!==void 0&&ne>u,S=ne=>c===void 0?u:u===void 0||Math.abs(c-ne)<Math.abs(u-ne)?c:u;let x=n*e;const k=g+x,M=a===void 0?k:a(k);M!==k&&(x=M-g);const L=ne=>-x*Math.exp(-ne/r),I=ne=>M+L(ne),W=ne=>{const z=L(ne),G=I(ne);y.done=Math.abs(z)<=f,y.value=y.done?M:G};let q,J;const te=ne=>{v(y.value)&&(q=ne,J=NA({keyframes:[y.value,S(y.value)],velocity:MA(I,ne,y.value),damping:s,stiffness:i,restDelta:f,restSpeed:h}))};return te(0),{calculatedDuration:null,next:ne=>{let z=!1;return!J&&q===void 0&&(z=!0,W(ne),te(ne)),q!==void 0&&ne>=q?J.next(ne-q):(!z&&W(ne),y)}}}const z5=ku(.42,0,1,1),$5=ku(0,0,.58,1),OA=ku(.42,0,.58,1),W5=t=>Array.isArray(t)&&typeof t[0]!="number",V5={linear:Vr,easeIn:z5,easeInOut:OA,easeOut:$5,circIn:Pw,circInOut:pA,circOut:hA,backIn:Rw,backInOut:dA,backOut:uA,anticipate:fA},Xx=t=>{if(Ew(t)){I2(t.length===4);const[e,n,r,s]=t;return ku(e,n,r,s)}else if(typeof t=="string")return V5[t];return t};function q5(t,e,n){const r=[],s=n||IA,i=t.length-1;for(let a=0;a<i;a++){let c=s(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Vr:e;c=Au(u,c)}r.push(c)}return r}function K5(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(I2(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=q5(e,r,s),u=c.length,f=h=>{if(a&&h<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(h<t[g+1]);g++);const y=xl(t[g],t[g+1],h);return c[g](y)};return n?h=>f(pi(t[0],t[i-1],h)):f}function H5(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=xl(0,e,r);t.push(on(n,1,s))}}function G5(t){const e=[0];return H5(e,t.length-1),e}function Y5(t,e){return t.map(n=>n*e)}function Q5(t,e){return t.map(()=>e||OA).splice(0,t.length-1)}function Yf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=W5(r)?r.map(Xx):Xx(r),i={done:!1,value:e[0]},a=Y5(n&&n.length===e.length?n:G5(e),t),c=K5(a,e,{ease:Array.isArray(s)?s:Q5(e,s)});return{calculatedDuration:t,next:u=>(i.value=c(u),i.done=u>=t,i)}}const J5=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Qt.update(e,!0),stop:()=>ho(e),now:()=>Wn.isProcessing?Wn.timestamp:js.now()}},Z5={decay:Zx,inertia:Zx,tween:Yf,keyframes:Yf,spring:NA},X5=t=>t/100;class Bw extends RA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,a=s?.KeyframeResolver||Ow,c=(u,f)=>this.onKeyframesResolved(u,f);this.resolver=new a(i,c,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,c=_w(n)?n:Z5[n]||Yf;let u,f;c!==Yf&&typeof e[0]!="number"&&(u=Au(X5,IA(e[0],e[1])),e=[0,100]);const h=c({...this.options,keyframes:e});i==="mirror"&&(f=c({...this.options,keyframes:[...e].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=J2(h));const{calculatedDuration:g}=h,y=g+s,v=y*(r+1)-s;return{generator:h,mirroredGenerator:f,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:y,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:ne}=this.options;return{done:!0,value:ne[ne.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:c,keyframes:u,calculatedDuration:f,totalDuration:h,resolvedDuration:g}=r;if(this.startTime===null)return i.next(0);const{delay:y,repeat:v,repeatType:S,repeatDelay:x,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const M=this.currentTime-y*(this.speed>=0?1:-1),L=this.speed>=0?M<0:M>h;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let I=this.currentTime,W=i;if(v){const ne=Math.min(this.currentTime,h)/g;let z=Math.floor(ne),G=ne%1;!G&&ne>=1&&(G=1),G===1&&z--,z=Math.min(z,v+1),z%2&&(S==="reverse"?(G=1-G,x&&(G-=x/g)):S==="mirror"&&(W=a)),I=pi(0,1,G)*g}const q=L?{done:!1,value:u[0]}:W.next(I);c&&(q.value=c(q.value));let{done:J}=q;!L&&f!==null&&(J=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const te=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return te&&s!==void 0&&(q.value=Dh(u,this.options,s)),k&&k(q.value),te&&this.finish(),q}get duration(){const{resolved:e}=this;return e?di(e.calculatedDuration):0}get time(){return di(this.currentTime)}set time(e){e=ui(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=di(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=J5,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const eL=new Set(["opacity","clipPath","filter","transform"]);function tL(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:c="easeInOut",times:u}={}){const f={[e]:n};u&&(f.offset=u);const h=eA(c,s);return Array.isArray(h)&&(f.easing=h),t.animate(f,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const nL=lw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Qf=10,rL=2e4;function sL(t){return _w(t.type)||t.type==="spring"||!X2(t.ease)}function iL(t,e){const n=new Bw({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<rL;)r=n.sample(i),s.push(r.value),i+=Qf;return{times:void 0,keyframes:s,duration:i-Qf,ease:"linear"}}const LA={anticipate:fA,backInOut:dA,circInOut:pA};function oL(t){return t in LA}class eS extends RA{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new CA(i,(a,c)=>this.onKeyframesResolved(a,c),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:a,motionValue:c,name:u,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof i=="string"&&Hf()&&oL(i)&&(i=LA[i]),sL(this.options)){const{onComplete:g,onUpdate:y,motionValue:v,element:S,...x}=this.options,k=iL(e,x);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,s=k.times,i=k.ease,a="keyframes"}const h=tL(c.owner.current,u,e,{...this.options,duration:r,times:s,ease:i});return h.startTime=f??this.calcStartTime(),this.pendingTimeline?(Dx(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:g}=this.options;c.set(Dh(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:s,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return di(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return di(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ui(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Vr;const{animation:r}=n;Dx(r,e)}return Vr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:a,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:h,onComplete:g,element:y,...v}=this.options,S=new Bw({...v,keyframes:r,duration:s,type:i,ease:a,times:c,isGenerator:!0}),x=ui(this.time);f.setWithVelocity(S.sample(x-Qf).value,S.sample(x).value,Qf)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=n.owner.getProps();return nL()&&r&&eL.has(r)&&!u&&!f&&!s&&i!=="mirror"&&a!==0&&c!=="inertia"}}const aL={type:"spring",stiffness:500,damping:25,restSpeed:10},lL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cL={type:"keyframes",duration:.8},uL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dL=(t,{keyframes:e})=>e.length>2?cL:ia.has(t)?t.startsWith("scale")?lL(e[1]):aL:uL;function fL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:c,from:u,elapsed:f,...h}){return!!Object.keys(h).length}const jw=(t,e,n,r={},s,i)=>a=>{const c=Sw(r,t)||{},u=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-ui(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:s};fL(c)||(h={...h,...dL(t,h)}),h.duration&&(h.duration=ui(h.duration)),h.repeatDelay&&(h.repeatDelay=ui(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(g=!0)),g&&!i&&e.get()!==void 0){const y=Dh(h.keyframes,c);if(y!==void 0)return Qt.update(()=>{h.onUpdate(y),h.onComplete()}),new I3([])}return!i&&eS.supports(h)?new eS(h):new Bw(h)};function hL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function BA(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:c,...u}=e;r&&(a=r);const f=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const g in u){const y=t.getValue(g,(i=t.latestValues[g])!==null&&i!==void 0?i:null),v=u[g];if(v===void 0||h&&hL(h,g))continue;const S={delay:n,...Sw(a||{},g)};let x=!1;if(window.MotionHandoffAnimation){const M=oA(t);if(M){const L=window.MotionHandoffAnimation(M,g,Qt);L!==null&&(S.startTime=L,x=!0)}}Lg(t,g),y.start(jw(g,y,v,t.shouldReduceMotion&&sA.has(g)?{type:!1}:S,t,x));const k=y.animation;k&&f.push(k)}return c&&Promise.all(f).then(()=>{Qt.update(()=>{c&&q3(t,c)})}),f}function $g(t,e,n={}){var r;const s=jh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(BA(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:g,staggerDirection:y}=i;return pL(t,e,h+f,g,y,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,h]=u==="beforeChildren"?[a,c]:[c,a];return f().then(()=>h())}else return Promise.all([a(),c(n.delay)])}function pL(t,e,n=0,r=0,s=1,i){const a=[],c=(t.variantChildren.size-1)*r,u=s===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(t.variantChildren).sort(mL).forEach((f,h)=>{f.notify("AnimationStart",e),a.push($g(f,e,{...i,delay:n+u(h)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function mL(t,e){return t.sortNodePosition(e)}function gL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>$g(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=$g(t,e,n);else{const s=typeof e=="function"?jh(t,e,n.custom):e;r=Promise.all(BA(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const yL=uw.length;function jA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?jA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<yL;n++){const r=uw[n],s=t.props[r];(su(s)||s===!1)&&(e[r]=s)}return e}const wL=[...cw].reverse(),vL=cw.length;function bL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>gL(t,n,r)))}function xL(t){let e=bL(t),n=tS(),r=!0;const s=u=>(f,h)=>{var g;const y=jh(t,h,u==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(y){const{transition:v,transitionEnd:S,...x}=y;f={...f,...x,...S}}return f};function i(u){e=u(t)}function a(u){const{props:f}=t,h=jA(t.parent)||{},g=[],y=new Set;let v={},S=1/0;for(let k=0;k<vL;k++){const M=wL[k],L=n[M],I=f[M]!==void 0?f[M]:h[M],W=su(I),q=M===u?L.isActive:null;q===!1&&(S=k);let J=I===h[M]&&I!==f[M]&&W;if(J&&r&&t.manuallyAnimateOnMount&&(J=!1),L.protectedKeys={...v},!L.isActive&&q===null||!I&&!L.prevProp||Lh(I)||typeof I=="boolean")continue;const te=SL(L.prevProp,I);let ne=te||M===u&&L.isActive&&!J&&W||k>S&&W,z=!1;const G=Array.isArray(I)?I:[I];let X=G.reduce(s(M),{});q===!1&&(X={});const{prevResolvedValues:Z={}}=L,N={...Z,...X},m=j=>{ne=!0,y.has(j)&&(z=!0,y.delete(j)),L.needsAnimating[j]=!0;const B=t.getValue(j);B&&(B.liveStyle=!1)};for(const j in N){const B=X[j],V=Z[j];if(v.hasOwnProperty(j))continue;let H=!1;Mg(B)&&Mg(V)?H=!Q2(B,V):H=B!==V,H?B!=null?m(j):y.add(j):B!==void 0&&y.has(j)?m(j):L.protectedKeys[j]=!0}L.prevProp=I,L.prevResolvedValues=X,L.isActive&&(v={...v,...X}),r&&t.blockInitialAnimation&&(ne=!1),ne&&(!(J&&te)||z)&&g.push(...G.map(j=>({animation:j,options:{type:M}})))}if(y.size){const k={};y.forEach(M=>{const L=t.getBaseTarget(M),I=t.getValue(M);I&&(I.liveStyle=!0),k[M]=L??null}),g.push({animation:k})}let x=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(g):Promise.resolve()}function c(u,f){var h;if(n[u].isActive===f)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(y=>{var v;return(v=y.animationState)===null||v===void 0?void 0:v.setActive(u,f)}),n[u].isActive=f;const g=a(u);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=tS(),r=!0}}}function SL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Q2(e,t):!1}function Io(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tS(){return{animate:Io(!0),whileInView:Io(),whileHover:Io(),whileTap:Io(),whileDrag:Io(),whileFocus:Io(),exit:Io()}}class go{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _L extends go{constructor(e){super(e),e.animationState||(e.animationState=xL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Lh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let EL=0;class kL extends go{constructor(){super(...arguments),this.id=EL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const AL={animation:{Feature:_L},exit:{Feature:kL}};function lu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Tu(t){return{point:{x:t.pageX,y:t.pageY}}}const TL=t=>e=>kw(e)&&t(e,Tu(e));function Hc(t,e,n,r){return lu(t,e,TL(n),r)}const nS=(t,e)=>Math.abs(t-e);function CL(t,e){const n=nS(t.x,e.x),r=nS(t.y,e.y);return Math.sqrt(n**2+r**2)}class DA{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=n0(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=CL(g.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:S}=g,{timestamp:x}=Wn;this.history.push({...S,timestamp:x});const{onStart:k,onMove:M}=this.handlers;y||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=t0(y,this.transformPagePoint),Qt.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:v,onSessionEnd:S,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=n0(g.type==="pointercancel"?this.lastMoveEventInfo:t0(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,k),S&&S(g,k)},!kw(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Tu(e),c=t0(a,this.transformPagePoint),{point:u}=c,{timestamp:f}=Wn;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,n0(c,this.history)),this.removeListeners=Au(Hc(this.contextWindow,"pointermove",this.handlePointerMove),Hc(this.contextWindow,"pointerup",this.handlePointerUp),Hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ho(this.updatePoint)}}function t0(t,e){return e?{point:e(t.point)}:t}function rS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function n0({point:t},e){return{point:t,delta:rS(t,UA(e)),offset:rS(t,RL(e)),velocity:PL(e,.1)}}function RL(t){return t[0]}function UA(t){return t[t.length-1]}function PL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=UA(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ui(e)));)n--;if(!r)return{x:0,y:0};const i=di(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const FA=1e-4,IL=1-FA,ML=1+FA,zA=.01,NL=0-zA,OL=0+zA;function qr(t){return t.max-t.min}function LL(t,e,n){return Math.abs(t-e)<=n}function sS(t,e,n,r=.5){t.origin=r,t.originPoint=on(e.min,e.max,t.origin),t.scale=qr(n)/qr(e),t.translate=on(n.min,n.max,t.origin)-t.originPoint,(t.scale>=IL&&t.scale<=ML||isNaN(t.scale))&&(t.scale=1),(t.translate>=NL&&t.translate<=OL||isNaN(t.translate))&&(t.translate=0)}function Gc(t,e,n,r){sS(t.x,e.x,n.x,r?r.originX:void 0),sS(t.y,e.y,n.y,r?r.originY:void 0)}function iS(t,e,n){t.min=n.min+e.min,t.max=t.min+qr(e)}function BL(t,e,n){iS(t.x,e.x,n.x),iS(t.y,e.y,n.y)}function oS(t,e,n){t.min=e.min-n.min,t.max=t.min+qr(e)}function Yc(t,e,n){oS(t.x,e.x,n.x),oS(t.y,e.y,n.y)}function jL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?on(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?on(n,t,r.max):Math.min(t,n)),t}function aS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function DL(t,{top:e,left:n,bottom:r,right:s}){return{x:aS(t.x,n,s),y:aS(t.y,e,r)}}function lS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function UL(t,e){return{x:lS(t.x,e.x),y:lS(t.y,e.y)}}function FL(t,e){let n=.5;const r=qr(t),s=qr(e);return s>r?n=xl(e.min,e.max-r,t.min):r>s&&(n=xl(t.min,t.max-s,e.min)),pi(0,1,n)}function zL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wg=.35;function $L(t=Wg){return t===!1?t=0:t===!0&&(t=Wg),{x:cS(t,"left","right"),y:cS(t,"top","bottom")}}function cS(t,e,n){return{min:uS(t,e),max:uS(t,n)}}function uS(t,e){return typeof t=="number"?t:t[e]||0}const dS=()=>({translate:0,scale:1,origin:0,originPoint:0}),il=()=>({x:dS(),y:dS()}),fS=()=>({min:0,max:0}),yn=()=>({x:fS(),y:fS()});function ns(t){return[t("x"),t("y")]}function $A({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function WL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function VL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function r0(t){return t===void 0||t===1}function Vg({scale:t,scaleX:e,scaleY:n}){return!r0(t)||!r0(e)||!r0(n)}function Oo(t){return Vg(t)||WA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WA(t){return hS(t.x)||hS(t.y)}function hS(t){return t&&t!=="0%"}function Jf(t,e,n){const r=t-n,s=e*r;return n+s}function pS(t,e,n,r,s){return s!==void 0&&(t=Jf(t,s,r)),Jf(t,n,r)+e}function qg(t,e=0,n=1,r,s){t.min=pS(t.min,e,n,r,s),t.max=pS(t.max,e,n,r,s)}function VA(t,{x:e,y:n}){qg(t.x,e.translate,e.scale,e.originPoint),qg(t.y,n.translate,n.scale,n.originPoint)}const mS=.999999999999,gS=1.0000000000001;function qL(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let c=0;c<s;c++){i=n[c],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&al(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,VA(t,a)),r&&Oo(i.latestValues)&&al(t,i.latestValues))}e.x<gS&&e.x>mS&&(e.x=1),e.y<gS&&e.y>mS&&(e.y=1)}function ol(t,e){t.min=t.min+e,t.max=t.max+e}function yS(t,e,n,r,s=.5){const i=on(t.min,t.max,s);qg(t,e,n,i,r)}function al(t,e){yS(t.x,e.x,e.scaleX,e.scale,e.originX),yS(t.y,e.y,e.scaleY,e.scale,e.originY)}function qA(t,e){return $A(VL(t.getBoundingClientRect(),e))}function KL(t,e,n){const r=qA(t,n),{scroll:s}=e;return s&&(ol(r.x,s.offset.x),ol(r.y,s.offset.y)),r}const KA=({current:t})=>t?t.ownerDocument.defaultView:null,HL=new WeakMap;class GL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tu(h).point)},i=(h,g)=>{const{drag:y,dragPropagation:v,onDragStart:S}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=F3(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ns(k=>{let M=this.getAxisMotionValue(k).get()||0;if(Bs.test(M)){const{projection:L}=this.visualElement;if(L&&L.layout){const I=L.layout.layoutBox[k];I&&(M=qr(I)*(parseFloat(M)/100))}}this.originPoint[k]=M}),S&&Qt.postRender(()=>S(h,g)),Lg(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(h,g)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:S,onDrag:x}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:k}=g;if(v&&this.currentDirection===null){this.currentDirection=YL(k),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),x&&x(h,g)},c=(h,g)=>this.stop(h,g),u=()=>ns(h=>{var g;return this.getAnimationState(h)==="paused"&&((g=this.getAxisMotionValue(h).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new DA(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:KA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Qt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Qd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=jL(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&rl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=DL(s.layoutBox,n):this.constraints=!1,this.elastic=$L(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ns(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=zL(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!rl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=KL(r,s.root,this.visualElement.getTransformPagePoint());let a=UL(s.layout.layoutBox,i);if(n){const c=n(WL(a));this.hasMutatedConstraints=!!c,c&&(a=$A(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},f=ns(h=>{if(!Qd(h,n,this.currentDirection))return;let g=u&&u[h]||{};a&&(g={min:0,max:0});const y=s?200:1e6,v=s?40:1e7,S={type:"inertia",velocity:r?e[h]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(h,S)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Lg(this.visualElement,e),r.start(jw(e,r,0,n,this.visualElement,!1))}stopAnimation(){ns(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ns(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ns(n=>{const{drag:r}=this.getProps();if(!Qd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n];i.set(e[n]-on(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!rl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ns(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();s[a]=FL({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ns(a=>{if(!Qd(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:f}=this.constraints[a];c.set(on(u,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;HL.set(this.visualElement,this);const e=this.visualElement.current,n=Hc(e,"pointerdown",u=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();rl(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Qt.read(r);const a=lu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(ns(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=u[h].translate,g.set(g.get()+u[h].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Wg,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function Qd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QL extends go{constructor(e){super(e),this.removeGroupControls=Vr,this.removeListeners=Vr,this.controls=new GL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const wS=t=>(e,n)=>{t&&Qt.postRender(()=>t(e,n))};class JL extends go{constructor(){super(...arguments),this.removePointerDownListener=Vr}onPointerDown(e){this.session=new DA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:wS(e),onStart:wS(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Qt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Hc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Je.test(t))t=parseFloat(t);else return t;const n=vS(t,e.target.x),r=vS(t,e.target.y);return`${n}% ${r}%`}},ZL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=po.parse(t);if(s.length>5)return r;const i=po.createTransformer(t),a=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=u;const f=on(c,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),i(s)}};class XL extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;v3(eB),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Qt.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HA(t){const[e,n]=R2(),r=D.useContext(sw);return R.jsx(XL,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(j2),isPresent:e,safeToRemove:n})}const eB={borderRadius:{...Tc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tc,borderTopRightRadius:Tc,borderBottomLeftRadius:Tc,borderBottomRightRadius:Tc,boxShadow:ZL};function tB(t,e,n){const r=or(t)?t:ou(t);return r.start(jw("",r,e,n)),r.animation}function nB(t){return t instanceof SVGElement&&t.tagName!=="svg"}const rB=(t,e)=>t.depth-e.depth;class sB{constructor(){this.children=[],this.isDirty=!1}add(e){Aw(this.children,e),this.isDirty=!0}remove(e){Tw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rB),this.isDirty=!1,this.children.forEach(e)}}function iB(t,e){const n=js.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ho(r),t(i-e))};return Qt.read(r,!0),()=>ho(r)}const GA=["TopLeft","TopRight","BottomLeft","BottomRight"],oB=GA.length,bS=t=>typeof t=="string"?parseFloat(t):t,xS=t=>typeof t=="number"||Je.test(t);function aB(t,e,n,r,s,i){s?(t.opacity=on(0,n.opacity!==void 0?n.opacity:1,lB(r)),t.opacityExit=on(e.opacity!==void 0?e.opacity:1,0,cB(r))):i&&(t.opacity=on(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<oB;a++){const c=`border${GA[a]}Radius`;let u=SS(e,c),f=SS(n,c);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||xS(u)===xS(f)?(t[c]=Math.max(on(bS(u),bS(f),r),0),(Bs.test(f)||Bs.test(u))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=on(e.rotate||0,n.rotate||0,r))}function SS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const lB=YA(0,.5,hA),cB=YA(.5,.95,Vr);function YA(t,e,n){return r=>r<t?0:r>e?1:n(xl(t,e,r))}function _S(t,e){t.min=e.min,t.max=e.max}function Xr(t,e){_S(t.x,e.x),_S(t.y,e.y)}function ES(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kS(t,e,n,r,s){return t-=e,t=Jf(t,1/n,r),s!==void 0&&(t=Jf(t,1/s,r)),t}function uB(t,e=0,n=1,r=.5,s,i=t,a=t){if(Bs.test(e)&&(e=parseFloat(e),e=on(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=on(i.min,i.max,r);t===i&&(c-=e),t.min=kS(t.min,e,n,c,s),t.max=kS(t.max,e,n,c,s)}function AS(t,e,[n,r,s],i,a){uB(t,e[n],e[r],e[s],e.scale,i,a)}const dB=["x","scaleX","originX"],fB=["y","scaleY","originY"];function TS(t,e,n,r){AS(t.x,e,dB,n?n.x:void 0,r?r.x:void 0),AS(t.y,e,fB,n?n.y:void 0,r?r.y:void 0)}function CS(t){return t.translate===0&&t.scale===1}function QA(t){return CS(t.x)&&CS(t.y)}function RS(t,e){return t.min===e.min&&t.max===e.max}function hB(t,e){return RS(t.x,e.x)&&RS(t.y,e.y)}function PS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JA(t,e){return PS(t.x,e.x)&&PS(t.y,e.y)}function IS(t){return qr(t.x)/qr(t.y)}function MS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class pB{constructor(){this.members=[]}add(e){Aw(this.members,e),e.scheduleRender()}remove(e){if(Tw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mB(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:g,rotateY:y,skewX:v,skewY:S}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),v&&(r+=`skewX(${v}deg) `),S&&(r+=`skewY(${S}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const Lo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Lc=typeof window<"u"&&window.MotionDebug!==void 0,s0=["","X","Y","Z"],gB={visibility:"hidden"},NS=1e3;let yB=0;function i0(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ZA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ZA(r)}function XA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e?.()){this.id=yB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Lc&&(Lo.totalNodes=Lo.resolvedTargetDeltas=Lo.recalculatedProjection=0),this.nodes.forEach(bB),this.nodes.forEach(kB),this.nodes.forEach(AB),this.nodes.forEach(xB),Lc&&window.MotionDebug.record(Lo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new sB)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Cw),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nB(a),this.instance=a;const{layoutId:u,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||u)&&(this.isLayoutDirty=!0),t){let g;const y=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=iB(y,250),bf.hasAnimatedSinceResize&&(bf.hasAnimatedSinceResize=!1,this.nodes.forEach(LS))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeTargetChanged:v,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||IB,{onLayoutAnimationStart:k,onLayoutAnimationComplete:M}=h.getProps(),L=!this.targetLayout||!JA(this.targetLayout,S)||v,I=!y&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||y&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,I);const W={...Sw(x,"layout"),onPlay:k,onComplete:M};(h.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else y||LS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ho(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TB),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OS);return}this.isUpdating||this.nodes.forEach(_B),this.isUpdating=!1,this.nodes.forEach(EB),this.nodes.forEach(wB),this.nodes.forEach(vB),this.clearAllSnapshots();const c=js.now();Wn.delta=pi(0,1e3/60,c-Wn.timestamp),Wn.timestamp=c,Wn.isProcessing=!0,Ym.update.process(Wn),Ym.preRender.process(Wn),Ym.render.process(Wn),Wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SB),this.sharedNodes.forEach(CB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!QA(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;a&&(c||Oo(this.latestValues)||h)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),MB(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:c}=this.options;if(!c)return yn();const u=c.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(NB))){const{scroll:h}=this.root;h&&(ol(u.x,h.offset.x),ol(u.y,h.offset.y))}return u}removeElementScroll(a){var c;const u=yn();if(Xr(u,a),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:g,options:y}=h;h!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Xr(u,a),ol(u.x,g.offset.x),ol(u.y,g.offset.y))}return u}applyTransform(a,c=!1){const u=yn();Xr(u,a);for(let f=0;f<this.path.length;f++){const h=this.path[f];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&al(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Oo(h.latestValues)&&al(u,h.latestValues)}return Oo(this.latestValues)&&al(u,this.latestValues),u}removeTransform(a){const c=yn();Xr(c,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Oo(f.latestValues))continue;Vg(f.latestValues)&&f.updateSnapshot();const h=yn(),g=f.measurePageBox();Xr(h,g),TS(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return Oo(this.latestValues)&&TS(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(a||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Wn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Yc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xr(this.target,this.layout.layoutBox),VA(this.target,this.targetDelta)):Xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Yc(this.relativeTargetOrigin,this.target,v.target),Xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Lc&&Lo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vg(this.parent.latestValues)||WA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(f=!1),f)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;Xr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;qL(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=yn());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ES(this.prevProjectionDelta.x,this.projectionDelta.x),ES(this.prevProjectionDelta.y,this.projectionDelta.y)),Gc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!MS(this.projectionDelta.x,this.prevProjectionDelta.x)||!MS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Lc&&Lo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=il(),this.projectionDelta=il(),this.projectionDeltaWithTransform=il()}setAnimationOrigin(a,c=!1){const u=this.snapshot,f=u?u.latestValues:{},h={...this.latestValues},g=il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=yn(),v=u?u.source:void 0,S=this.layout?this.layout.source:void 0,x=v!==S,k=this.getStack(),M=!k||k.members.length<=1,L=!!(x&&!M&&this.options.crossfade===!0&&!this.path.some(PB));this.animationProgress=0;let I;this.mixTargetDelta=W=>{const q=W/1e3;BS(g.x,a.x,q),BS(g.y,a.y,q),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yc(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RB(this.relativeTarget,this.relativeTargetOrigin,y,q),I&&hB(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=yn()),Xr(I,this.relativeTarget)),x&&(this.animationValues=h,aB(h,f,this.latestValues,q,L,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ho(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qt.update(()=>{bf.hasAnimatedSinceResize=!0,this.currentAnimation=tB(0,NS,{...a,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:f,latestValues:h}=a;if(!(!c||!u||!f)){if(this!==a&&this.layout&&f&&eT(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||yn();const g=qr(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+g;const y=qr(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+y}Xr(c,u),al(c,h),Gc(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new pB),this.sharedNodes.get(a).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:c}=this.options;return c?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:c}=this.options;return c?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const f={};u.z&&i0("z",a,f,this.animationValues);for(let h=0;h<s0.length;h++)i0(`rotate${s0[h]}`,a,f,this.animationValues),i0(`skew${s0[h]}`,a,f,this.animationValues);a.render();for(const h in f)a.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);a.scheduleRender()}getProjectionStyles(a){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gB;const f={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=wf(a?.pointerEvents)||"",f.transform=h?h(this.latestValues,""):"none",f;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=wf(a?.pointerEvents)||""),this.hasProjected&&!Oo(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),f.transform=mB(this.projectionDeltaWithTransform,this.treeScale,y),h&&(f.transform=h(y,f.transform));const{x:v,y:S}=this.projectionDelta;f.transformOrigin=`${v.origin*100}% ${S.origin*100}% 0`,g.animationValues?f.opacity=g===this?(u=(c=y.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const x in Kf){if(y[x]===void 0)continue;const{correct:k,applyTo:M}=Kf[x],L=f.transform==="none"?y[x]:k(y[x],g);if(M){const I=M.length;for(let W=0;W<I;W++)f[M[W]]=L}else f[x]=L}return this.options.layoutId&&(f.pointerEvents=g===this?wf(a?.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(OS),this.root.sharedNodes.clear()}}}function wB(t){t.updateLayout()}function vB(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?ns(g=>{const y=a?n.measuredBox[g]:n.layoutBox[g],v=qr(y);y.min=r[g].min,y.max=y.min+v}):eT(i,n.layoutBox,r)&&ns(g=>{const y=a?n.measuredBox[g]:n.layoutBox[g],v=qr(r[g]);y.max=y.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const c=il();Gc(c,r,n.layoutBox);const u=il();a?Gc(u,t.applyTransform(s,!0),n.measuredBox):Gc(u,r,n.layoutBox);const f=!QA(c);let h=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:v}=g;if(y&&v){const S=yn();Yc(S,n.layoutBox,y.layoutBox);const x=yn();Yc(x,r,v.layoutBox),JA(S,x)||(h=!0),g.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function bB(t){Lc&&Lo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SB(t){t.clearSnapshot()}function OS(t){t.clearMeasurements()}function _B(t){t.isLayoutDirty=!1}function EB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function LS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kB(t){t.resolveTargetDelta()}function AB(t){t.calcProjection()}function TB(t){t.resetSkewAndRotation()}function CB(t){t.removeLeadSnapshot()}function BS(t,e,n){t.translate=on(e.translate,0,n),t.scale=on(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jS(t,e,n,r){t.min=on(e.min,n.min,r),t.max=on(e.max,n.max,r)}function RB(t,e,n,r){jS(t.x,e.x,n.x,r),jS(t.y,e.y,n.y,r)}function PB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const IB={duration:.45,ease:[.4,0,.1,1]},DS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),US=DS("applewebkit/")&&!DS("chrome/")?Math.round:Vr;function FS(t){t.min=US(t.min),t.max=US(t.max)}function MB(t){FS(t.x),FS(t.y)}function eT(t,e,n){return t==="position"||t==="preserve-aspect"&&!LL(IS(e),IS(n),.2)}function NB(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const OB=XA({attachResizeListener:(t,e)=>lu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),o0={current:void 0},tT=XA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!o0.current){const t=new OB({});t.mount(window),t.setOptions({layoutScroll:!0}),o0.current=t}return o0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),LB={pan:{Feature:JL},drag:{Feature:QL,ProjectionNode:tT,MeasureLayout:HA}};function zS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Qt.postRender(()=>i(e,Tu(e)))}class BB extends go{mount(){const{current:e}=this.node;e&&(this.unmount=L3(e,n=>(zS(this.node,n,"Start"),r=>zS(this.node,r,"End"))))}unmount(){}}class jB extends go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Au(lu(this.node.current,"focus",()=>this.onFocus()),lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $S(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Qt.postRender(()=>i(e,Tu(e)))}class DB extends go{mount(){const{current:e}=this.node;e&&(this.unmount=U3(e,n=>($S(this.node,n,"Start"),(r,{success:s})=>$S(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kg=new WeakMap,a0=new WeakMap,UB=t=>{const e=Kg.get(t.target);e&&e(t)},FB=t=>{t.forEach(UB)};function zB({root:t,...e}){const n=t||document;a0.has(n)||a0.set(n,{});const r=a0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(FB,{root:t,...e})),r[s]}function $B(t,e,n){const r=zB(e);return Kg.set(t,n),r.observe(t),()=>{Kg.delete(t),r.unobserve(t)}}const WB={some:0,all:1};class VB extends go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:WB[s]},c=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),y=f?h:g;y&&y(u)};return $B(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qB(e,n))&&this.startObserver()}unmount(){}}function qB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const KB={inView:{Feature:VB},tap:{Feature:DB},focus:{Feature:jB},hover:{Feature:BB}},HB={layout:{ProjectionNode:tT,MeasureLayout:HA}},Hg={current:null},nT={current:!1};function GB(){if(nT.current=!0,!!aw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hg.current=t.matches;t.addListener(e),e()}else Hg.current=!1}const YB=[...TA,ir,po],QB=t=>YB.find(AA(t)),WS=new WeakMap;function JB(t,e,n){for(const r in e){const s=e[r],i=n[r];if(or(s))t.addValue(r,s);else if(or(i))t.addValue(r,ou(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,ou(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const VS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZB{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ow,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=js.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Qt.render(this.render,!1,!0))};const{latestValues:u,renderState:f,onUpdate:h}=a;this.onUpdate=h,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Bh(n),this.isVariantNode=L2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const S=y[v];u[v]!==void 0&&or(S)&&S.set(u[v],!1)}}mount(e){this.current=e,WS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),nT.current||GB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){WS.delete(this.current),this.projection&&this.projection.unmount(),ho(this.notifyUpdate),ho(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ia.has(e),s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Qt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sl){const n=Sl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<VS.length;r++){const s=VS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=JB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ou(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(EA(s)||mA(s))?s=parseFloat(s):!QB(s)&&po.test(n)&&(s=xA(e,n)),this.setBaseTarget(e,or(s)?s.get():s)),or(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=pw(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!or(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class rT extends ZB{constructor(){super(...arguments),this.KeyframeResolver=CA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;or(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function XB(t){return window.getComputedStyle(t)}class e6 extends rT{constructor(){super(...arguments),this.type="html",this.renderInstance=V2}readValueFromInstance(e,n){if(ia.has(n)){const r=Nw(n);return r&&r.default||0}else{const r=XB(e),s=(z2(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qA(e,n)}build(e,n,r){yw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return xw(e,n,r)}}class t6 extends rT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ia.has(n)){const r=Nw(n);return r&&r.default||0}return n=q2.has(n)?n:dw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return G2(e,n,r)}build(e,n,r){ww(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){K2(e,n,r,s)}mount(e){this.isSVGTag=bw(e.tagName),super.mount(e)}}const n6=(t,e)=>hw(t)?new t6(e):new e6(e,{allowProjection:t!==D.Fragment}),r6=C3({...AL,...KB,...LB,...HB},n6),un=WO(r6),s6=Hy("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function l0({className:t,variant:e,...n}){return R.jsx("div",{className:mr(s6({variant:e}),t),...n})}const ja=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Cu(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Gg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function oa(t,...e){if(!Cu(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sT(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Gg(t.outputLen),Gg(t.blockLen)}function Zf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function i6(t,e){oa(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function El(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function c0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ms(t,e){return t<<32-e|t>>>e}const iT=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",o6=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ea(t){if(oa(t),iT)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=o6[t[n]];return e}const Xs={_0:48,_9:57,A:65,F:70,a:97,f:102};function qS(t){if(t>=Xs._0&&t<=Xs._9)return t-Xs._0;if(t>=Xs.A&&t<=Xs.F)return t-(Xs.A-10);if(t>=Xs.a&&t<=Xs.f)return t-(Xs.a-10)}function Xf(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(iT)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=qS(t.charCodeAt(i)),c=qS(t.charCodeAt(i+1));if(a===void 0||c===void 0){const u=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}r[s]=a*16+c}return r}function a6(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Dw(t){return typeof t=="string"&&(t=a6(t)),oa(t),t}function Os(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];oa(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class oT{}function aT(t){const e=r=>t().update(Dw(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Uw(t=32){if(ja&&typeof ja.getRandomValues=="function")return ja.getRandomValues(new Uint8Array(t));if(ja&&typeof ja.randomBytes=="function")return Uint8Array.from(ja.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function l6(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),c=Number(n&i),u=r?4:0,f=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+f,c,r)}function c6(t,e,n){return t&e^~t&n}function u6(t,e,n){return t&e^t&n^e&n}class lT extends oT{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=c0(this.buffer)}update(e){Zf(this),e=Dw(e),oa(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){const u=c0(e);for(;s<=i-a;a+=s)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Zf(this),i6(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,El(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(r,0),a=0);for(let g=a;g<s;g++)n[g]=0;l6(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=c0(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,h=this.get();if(f>h.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<f;g++)c.setUint32(4*g,h[g],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=i,e.length=s,e.pos=c,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Wi=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Jd=BigInt(2**32-1),KS=BigInt(32);function d6(t,e=!1){return e?{h:Number(t&Jd),l:Number(t>>KS&Jd)}:{h:Number(t>>KS&Jd)|0,l:Number(t&Jd)|0}}function f6(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:a,l:c}=d6(t[i],e);[r[i],s[i]]=[a,c]}return[r,s]}const HS=(t,e,n)=>t>>>n,GS=(t,e,n)=>t<<32-n|e>>>n,Da=(t,e,n)=>t>>>n|e<<32-n,Ua=(t,e,n)=>t<<32-n|e>>>n,Zd=(t,e,n)=>t<<64-n|e>>>n-32,Xd=(t,e,n)=>t>>>n-32|e<<64-n;function ei(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const h6=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),p6=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,m6=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),g6=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,y6=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),w6=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,v6=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vi=new Uint32Array(64);class b6 extends lT{constructor(e=32){super(64,e,8,!1),this.A=Wi[0]|0,this.B=Wi[1]|0,this.C=Wi[2]|0,this.D=Wi[3]|0,this.E=Wi[4]|0,this.F=Wi[5]|0,this.G=Wi[6]|0,this.H=Wi[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:c,H:u}=this;return[e,n,r,s,i,a,c,u]}set(e,n,r,s,i,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let g=0;g<16;g++,n+=4)Vi[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const y=Vi[g-15],v=Vi[g-2],S=Ms(y,7)^Ms(y,18)^y>>>3,x=Ms(v,17)^Ms(v,19)^v>>>10;Vi[g]=x+Vi[g-7]+S+Vi[g-16]|0}let{A:r,B:s,C:i,D:a,E:c,F:u,G:f,H:h}=this;for(let g=0;g<64;g++){const y=Ms(c,6)^Ms(c,11)^Ms(c,25),v=h+y+c6(c,u,f)+v6[g]+Vi[g]|0,x=(Ms(r,2)^Ms(r,13)^Ms(r,22))+u6(r,s,i)|0;h=f,f=u,u=c,c=a+v|0,a=i,i=s,s=r,r=v+x|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(r,s,i,a,c,u,f,h)}roundClean(){El(Vi)}destroy(){this.set(0,0,0,0,0,0,0,0),El(this.buffer)}}const cT=f6(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),x6=cT[0],S6=cT[1],qi=new Uint32Array(80),Ki=new Uint32Array(80);class _6 extends lT{constructor(e=64){super(128,e,16,!1),this.Ah=Xn[0]|0,this.Al=Xn[1]|0,this.Bh=Xn[2]|0,this.Bl=Xn[3]|0,this.Ch=Xn[4]|0,this.Cl=Xn[5]|0,this.Dh=Xn[6]|0,this.Dl=Xn[7]|0,this.Eh=Xn[8]|0,this.El=Xn[9]|0,this.Fh=Xn[10]|0,this.Fl=Xn[11]|0,this.Gh=Xn[12]|0,this.Gl=Xn[13]|0,this.Hh=Xn[14]|0,this.Hl=Xn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:a,Dh:c,Dl:u,Eh:f,El:h,Fh:g,Fl:y,Gh:v,Gl:S,Hh:x,Hl:k}=this;return[e,n,r,s,i,a,c,u,f,h,g,y,v,S,x,k]}set(e,n,r,s,i,a,c,u,f,h,g,y,v,S,x,k){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=f|0,this.El=h|0,this.Fh=g|0,this.Fl=y|0,this.Gh=v|0,this.Gl=S|0,this.Hh=x|0,this.Hl=k|0}process(e,n){for(let I=0;I<16;I++,n+=4)qi[I]=e.getUint32(n),Ki[I]=e.getUint32(n+=4);for(let I=16;I<80;I++){const W=qi[I-15]|0,q=Ki[I-15]|0,J=Da(W,q,1)^Da(W,q,8)^HS(W,q,7),te=Ua(W,q,1)^Ua(W,q,8)^GS(W,q,7),ne=qi[I-2]|0,z=Ki[I-2]|0,G=Da(ne,z,19)^Zd(ne,z,61)^HS(ne,z,6),X=Ua(ne,z,19)^Xd(ne,z,61)^GS(ne,z,6),Z=m6(te,X,Ki[I-7],Ki[I-16]),N=g6(Z,J,G,qi[I-7],qi[I-16]);qi[I]=N|0,Ki[I]=Z|0}let{Ah:r,Al:s,Bh:i,Bl:a,Ch:c,Cl:u,Dh:f,Dl:h,Eh:g,El:y,Fh:v,Fl:S,Gh:x,Gl:k,Hh:M,Hl:L}=this;for(let I=0;I<80;I++){const W=Da(g,y,14)^Da(g,y,18)^Zd(g,y,41),q=Ua(g,y,14)^Ua(g,y,18)^Xd(g,y,41),J=g&v^~g&x,te=y&S^~y&k,ne=y6(L,q,te,S6[I],Ki[I]),z=w6(ne,M,W,J,x6[I],qi[I]),G=ne|0,X=Da(r,s,28)^Zd(r,s,34)^Zd(r,s,39),Z=Ua(r,s,28)^Xd(r,s,34)^Xd(r,s,39),N=r&i^r&c^i&c,m=s&a^s&u^a&u;M=x|0,L=k|0,x=v|0,k=S|0,v=g|0,S=y|0,{h:g,l:y}=ei(f|0,h|0,z|0,G|0),f=c|0,h=u|0,c=i|0,u=a|0,i=r|0,a=s|0;const E=h6(G,Z,m);r=p6(E,z,X,N),s=E|0}({h:r,l:s}=ei(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:a}=ei(this.Bh|0,this.Bl|0,i|0,a|0),{h:c,l:u}=ei(this.Ch|0,this.Cl|0,c|0,u|0),{h:f,l:h}=ei(this.Dh|0,this.Dl|0,f|0,h|0),{h:g,l:y}=ei(this.Eh|0,this.El|0,g|0,y|0),{h:v,l:S}=ei(this.Fh|0,this.Fl|0,v|0,S|0),{h:x,l:k}=ei(this.Gh|0,this.Gl|0,x|0,k|0),{h:M,l:L}=ei(this.Hh|0,this.Hl|0,M|0,L|0),this.set(r,s,i,a,c,u,f,h,g,y,v,S,x,k,M,L)}roundClean(){El(qi,Ki)}destroy(){El(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const uT=aT(()=>new b6),E6=aT(()=>new _6);const Fw=BigInt(0),Yg=BigInt(1);function sa(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Ss(t,e,n=""){const r=Cu(t),s=t?.length,i=e!==void 0;if(!r||i&&s!==e){const a=n&&`"${n}" `,c=i?` of length ${e}`:"",u=r?`length=${s}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+c+", got "+u)}return t}function ef(t){const e=t.toString(16);return e.length&1?"0"+e:e}function dT(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Fw:BigInt("0x"+t)}function Uh(t){return dT(ea(t))}function cu(t){return oa(t),dT(ea(Uint8Array.from(t).reverse()))}function zw(t,e){return Xf(t.toString(16).padStart(e*2,"0"))}function fT(t,e){return zw(t,e).reverse()}function pn(t,e,n){let r;if(typeof e=="string")try{r=Xf(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Cu(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function YS(t){return Uint8Array.from(t)}const u0=t=>typeof t=="bigint"&&Fw<=t;function k6(t,e,n){return u0(t)&&u0(e)&&u0(n)&&e<=t&&t<n}function Qg(t,e,n,r){if(!k6(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function hT(t){let e;for(e=0;t>Fw;t>>=Yg,e+=1);return e}const Ru=t=>(Yg<<BigInt(t))-Yg;function A6(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=v=>new Uint8Array(v),s=v=>Uint8Array.of(v);let i=r(t),a=r(t),c=0;const u=()=>{i.fill(1),a.fill(0),c=0},f=(...v)=>n(a,i,...v),h=(v=r(0))=>{a=f(s(0),v),i=f(),v.length!==0&&(a=f(s(1),v),i=f())},g=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const S=[];for(;v<e;){i=f();const x=i.slice();S.push(x),v+=i.length}return Os(...S)};return(v,S)=>{u(),h(v);let x;for(;!(x=S(g()));)h();return u(),x}}function Pu(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,a){const c=t[s];if(a&&c===void 0)return;const u=typeof c;if(u!==i||c===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${u}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function eh(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Tr=BigInt(0),Hn=BigInt(1),Vo=BigInt(2),pT=BigInt(3),mT=BigInt(4),gT=BigInt(5),T6=BigInt(7),yT=BigInt(8),C6=BigInt(9),wT=BigInt(16);function _n(t,e){const n=t%e;return n>=Tr?n:e+n}function dn(t,e,n){let r=t;for(;e-- >Tr;)r*=r,r%=n;return r}function QS(t,e){if(t===Tr)throw new Error("invert: expected non-zero number");if(e<=Tr)throw new Error("invert: expected positive modulus, got "+e);let n=_n(t,e),r=e,s=Tr,i=Hn;for(;n!==Tr;){const c=r/n,u=r%n,f=s-i*c;r=n,n=u,s=i,i=f}if(r!==Hn)throw new Error("invert: does not exist");return _n(s,e)}function $w(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function vT(t,e){const n=(t.ORDER+Hn)/mT,r=t.pow(e,n);return $w(t,r,e),r}function R6(t,e){const n=(t.ORDER-gT)/yT,r=t.mul(e,Vo),s=t.pow(r,n),i=t.mul(e,s),a=t.mul(t.mul(i,Vo),s),c=t.mul(i,t.sub(a,t.ONE));return $w(t,c,e),c}function P6(t){const e=aa(t),n=bT(t),r=n(e,e.neg(e.ONE)),s=n(e,r),i=n(e,e.neg(r)),a=(t+T6)/wT;return(c,u)=>{let f=c.pow(u,a),h=c.mul(f,r);const g=c.mul(f,s),y=c.mul(f,i),v=c.eql(c.sqr(h),u),S=c.eql(c.sqr(g),u);f=c.cmov(f,h,v),h=c.cmov(y,g,S);const x=c.eql(c.sqr(h),u),k=c.cmov(f,h,x);return $w(c,k,u),k}}function bT(t){if(t<pT)throw new Error("sqrt is not defined for small field");let e=t-Hn,n=0;for(;e%Vo===Tr;)e/=Vo,n++;let r=Vo;const s=aa(t);for(;JS(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return vT;let i=s.pow(r,e);const a=(e+Hn)/Vo;return function(u,f){if(u.is0(f))return f;if(JS(u,f)!==1)throw new Error("Cannot find square root");let h=n,g=u.mul(u.ONE,i),y=u.pow(f,e),v=u.pow(f,a);for(;!u.eql(y,u.ONE);){if(u.is0(y))return u.ZERO;let S=1,x=u.sqr(y);for(;!u.eql(x,u.ONE);)if(S++,x=u.sqr(x),S===h)throw new Error("Cannot find square root");const k=Hn<<BigInt(h-S-1),M=u.pow(g,k);h=S,g=u.sqr(M),y=u.mul(y,g),v=u.mul(v,M)}return v}}function I6(t){return t%mT===pT?vT:t%yT===gT?R6:t%wT===C6?P6(t):bT(t)}const M6=(t,e)=>(_n(t,e)&Hn)===Hn,N6=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function O6(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=N6.reduce((r,s)=>(r[s]="function",r),e);return Pu(t,n),t}function L6(t,e,n){if(n<Tr)throw new Error("invalid exponent, negatives unsupported");if(n===Tr)return t.ONE;if(n===Hn)return e;let r=t.ONE,s=e;for(;n>Tr;)n&Hn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Hn;return r}function xT(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((a,c,u)=>t.is0(c)?a:(r[u]=a,t.mul(a,c)),t.ONE),i=t.inv(s);return e.reduceRight((a,c,u)=>t.is0(c)?a:(r[u]=t.mul(a,r[u]),t.mul(a,c)),i),r}function JS(t,e){const n=(t.ORDER-Hn)/Vo,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!a)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function ST(t,e){e!==void 0&&Gg(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function aa(t,e,n=!1,r={}){if(t<=Tr)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i,a=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const y=e;y.BITS&&(s=y.BITS),y.sqrt&&(i=y.sqrt),typeof y.isLE=="boolean"&&(n=y.isLE),typeof y.modFromBytes=="boolean"&&(a=y.modFromBytes),c=y.allowedLengths}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:u,nByteLength:f}=ST(t,s);if(f>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const g=Object.freeze({ORDER:t,isLE:n,BITS:u,BYTES:f,MASK:Ru(u),ZERO:Tr,ONE:Hn,allowedLengths:c,create:y=>_n(y,t),isValid:y=>{if(typeof y!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof y);return Tr<=y&&y<t},is0:y=>y===Tr,isValidNot0:y=>!g.is0(y)&&g.isValid(y),isOdd:y=>(y&Hn)===Hn,neg:y=>_n(-y,t),eql:(y,v)=>y===v,sqr:y=>_n(y*y,t),add:(y,v)=>_n(y+v,t),sub:(y,v)=>_n(y-v,t),mul:(y,v)=>_n(y*v,t),pow:(y,v)=>L6(g,y,v),div:(y,v)=>_n(y*QS(v,t),t),sqrN:y=>y*y,addN:(y,v)=>y+v,subN:(y,v)=>y-v,mulN:(y,v)=>y*v,inv:y=>QS(y,t),sqrt:i||(y=>(h||(h=I6(t)),h(g,y))),toBytes:y=>n?fT(y,f):zw(y,f),fromBytes:(y,v=!0)=>{if(c){if(!c.includes(y.length)||y.length>f)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+y.length);const x=new Uint8Array(f);x.set(y,n?0:x.length-y.length),y=x}if(y.length!==f)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+y.length);let S=n?cu(y):Uh(y);if(a&&(S=_n(S,t)),!v&&!g.isValid(S))throw new Error("invalid field element: outside of range 0..ORDER");return S},invertBatch:y=>xT(g,y),cmov:(y,v,S)=>S?v:y});return Object.freeze(g)}function _T(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function ET(t){const e=_T(t);return e+Math.ceil(e/2)}function B6(t,e,n=!1){const r=t.length,s=_T(e),i=ET(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const a=n?cu(t):Uh(t),c=_n(a,e-Hn)+Hn;return n?fT(c,s):zw(c,s)}const kl=BigInt(0),qo=BigInt(1);function th(t,e){const n=e.negate();return t?n:e}function Ko(t,e){const n=xT(t.Fp,e.map(r=>r.Z));return e.map((r,s)=>t.fromAffine(r.toAffine(n[s])))}function kT(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function d0(t,e){kT(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Ru(t),a=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:a}}function ZS(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:a}=n;let c=Number(t&s),u=t>>a;c>r&&(c-=i,u+=qo);const f=e*r,h=f+Math.abs(c)-1,g=c===0,y=c<0,v=e%2!==0;return{nextN:u,offset:h,isZero:g,isNeg:y,isNegF:v,offsetF:f}}function j6(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function D6(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const f0=new WeakMap,AT=new WeakMap;function h0(t){return AT.get(t)||1}function XS(t){if(t!==kl)throw new Error("invalid wNAF")}class TT{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let s=e;for(;n>kl;)n&qo&&(r=r.add(s)),s=s.double(),n>>=qo;return r}precomputeWindow(e,n){const{windows:r,windowSize:s}=d0(n,this.bits),i=[];let a=e,c=a;for(let u=0;u<r;u++){c=a,i.push(c);for(let f=1;f<s;f++)c=c.add(a),i.push(c);a=c.double()}return i}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const a=d0(e,this.bits);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:h,isNeg:g,isNegF:y,offsetF:v}=ZS(r,c,a);r=u,h?i=i.add(th(y,n[v])):s=s.add(th(g,n[f]))}return XS(r),{p:s,f:i}}wNAFUnsafe(e,n,r,s=this.ZERO){const i=d0(e,this.bits);for(let a=0;a<i.windows&&r!==kl;a++){const{nextN:c,offset:u,isZero:f,isNeg:h}=ZS(r,a,i);if(r=c,!f){const g=n[u];s=s.add(h?g.negate():g)}}return XS(r),s}getPrecomputes(e,n,r){let s=f0.get(n);return s||(s=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(s=r(s)),f0.set(n,s))),s}cached(e,n,r){const s=h0(e);return this.wNAF(s,this.getPrecomputes(s,e,r),n)}unsafe(e,n,r,s){const i=h0(e);return i===1?this._unsafeLadder(e,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),n,s)}createCache(e,n){kT(n,this.bits),AT.set(e,n),f0.delete(e)}hasCache(e){return h0(e)!==1}}function U6(t,e,n,r){let s=e,i=t.ZERO,a=t.ZERO;for(;n>kl||r>kl;)n&qo&&(i=i.add(s)),r&qo&&(a=a.add(s)),s=s.double(),n>>=qo,r>>=qo;return{p1:i,p2:a}}function CT(t,e,n,r){j6(n,t),D6(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=hT(BigInt(s));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const f=Ru(u),h=new Array(Number(f)+1).fill(a),g=Math.floor((e.BITS-1)/u)*u;let y=a;for(let v=g;v>=0;v-=u){h.fill(a);for(let x=0;x<i;x++){const k=r[x],M=Number(k>>BigInt(v)&f);h[M]=h[M].add(n[x])}let S=a;for(let x=h.length-1,k=a;x>0;x--)k=k.add(h[x]),S=S.add(k);if(y=y.add(S),v!==0)for(let x=0;x<u;x++)y=y.double()}return y}function e_(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return O6(e),e}else return aa(t,{isLE:n})}function RT(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const u of["p","n","h"]){const f=e[u];if(!(typeof f=="bigint"&&f>kl))throw new Error(`CURVE.${u} must be positive bigint`)}const s=e_(e.p,n.Fp,r),i=e_(e.n,n.Fn,r),c=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const u of c)if(!s.isValid(e[u]))throw new Error(`CURVE.${u} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}const Hi=BigInt(0),Ln=BigInt(1),p0=BigInt(2),F6=BigInt(8);function z6(t,e,n,r){const s=t.sqr(n),i=t.sqr(r),a=t.add(t.mul(e.a,s),i),c=t.add(t.ONE,t.mul(e.d,t.mul(s,i)));return t.eql(a,c)}function $6(t,e={}){const n=RT("edwards",t,e,e.FpFnLE),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:a}=i;Pu(e,{},{uvRatio:"function"});const c=p0<<BigInt(s.BYTES*8)-Ln,u=k=>r.create(k),f=e.uvRatio||((k,M)=>{try{return{isValid:!0,value:r.sqrt(r.div(k,M))}}catch{return{isValid:!1,value:Hi}}});if(!z6(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function h(k,M,L=!1){const I=L?Ln:Hi;return Qg("coordinate "+k,M,I,c),M}function g(k){if(!(k instanceof S))throw new Error("ExtendedPoint expected")}const y=eh((k,M)=>{const{X:L,Y:I,Z:W}=k,q=k.is0();M==null&&(M=q?F6:r.inv(W));const J=u(L*M),te=u(I*M),ne=r.mul(W,M);if(q)return{x:Hi,y:Ln};if(ne!==Ln)throw new Error("invZ was invalid");return{x:J,y:te}}),v=eh(k=>{const{a:M,d:L}=i;if(k.is0())throw new Error("bad point: ZERO");const{X:I,Y:W,Z:q,T:J}=k,te=u(I*I),ne=u(W*W),z=u(q*q),G=u(z*z),X=u(te*M),Z=u(z*u(X+ne)),N=u(G+u(L*u(te*ne)));if(Z!==N)throw new Error("bad point: equation left != right (1)");const m=u(I*W),E=u(q*J);if(m!==E)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(M,L,I,W){this.X=h("x",M),this.Y=h("y",L),this.Z=h("z",I,!0),this.T=h("t",W),Object.freeze(this)}static CURVE(){return i}static fromAffine(M){if(M instanceof S)throw new Error("extended point not allowed");const{x:L,y:I}=M||{};return h("x",L),h("y",I),new S(L,I,Ln,u(L*I))}static fromBytes(M,L=!1){const I=r.BYTES,{a:W,d:q}=i;M=YS(Ss(M,I,"point")),sa(L,"zip215");const J=YS(M),te=M[I-1];J[I-1]=te&-129;const ne=cu(J),z=L?c:r.ORDER;Qg("point.y",ne,Hi,z);const G=u(ne*ne),X=u(G-Ln),Z=u(q*G-W);let{isValid:N,value:m}=f(X,Z);if(!N)throw new Error("bad point: invalid y coordinate");const E=(m&Ln)===Ln,O=(te&128)!==0;if(!L&&m===Hi&&O)throw new Error("bad point: x=0 and x_0=1");return O!==E&&(m=u(-m)),S.fromAffine({x:m,y:ne})}static fromHex(M,L=!1){return S.fromBytes(pn("point",M),L)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(M=8,L=!0){return x.createCache(this,M),L||this.multiply(p0),this}assertValidity(){v(this)}equals(M){g(M);const{X:L,Y:I,Z:W}=this,{X:q,Y:J,Z:te}=M,ne=u(L*te),z=u(q*W),G=u(I*te),X=u(J*W);return ne===z&&G===X}is0(){return this.equals(S.ZERO)}negate(){return new S(u(-this.X),this.Y,this.Z,u(-this.T))}double(){const{a:M}=i,{X:L,Y:I,Z:W}=this,q=u(L*L),J=u(I*I),te=u(p0*u(W*W)),ne=u(M*q),z=L+I,G=u(u(z*z)-q-J),X=ne+J,Z=X-te,N=ne-J,m=u(G*Z),E=u(X*N),O=u(G*N),j=u(Z*X);return new S(m,E,j,O)}add(M){g(M);const{a:L,d:I}=i,{X:W,Y:q,Z:J,T:te}=this,{X:ne,Y:z,Z:G,T:X}=M,Z=u(W*ne),N=u(q*z),m=u(te*I*X),E=u(J*G),O=u((W+q)*(ne+z)-Z-N),j=E-m,B=E+m,V=u(N-L*Z),H=u(O*j),P=u(B*V),w=u(O*V),_=u(j*B);return new S(H,P,_,w)}subtract(M){return this.add(M.negate())}multiply(M){if(!s.isValidNot0(M))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:L,f:I}=x.cached(this,M,W=>Ko(S,W));return Ko(S,[L,I])[0]}multiplyUnsafe(M,L=S.ZERO){if(!s.isValid(M))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return M===Hi?S.ZERO:this.is0()||M===Ln?this:x.unsafe(this,M,I=>Ko(S,I),L)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return x.unsafe(this,i.n).is0()}toAffine(M){return y(this,M)}clearCofactor(){return a===Ln?this:this.multiplyUnsafe(a)}toBytes(){const{x:M,y:L}=this.toAffine(),I=r.toBytes(L);return I[I.length-1]|=M&Ln?128:0,I}toHex(){return ea(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(M){return Ko(S,M)}static msm(M,L){return CT(S,s,M,L)}_setWindowSize(M){this.precompute(M)}toRawBytes(){return this.toBytes()}}S.BASE=new S(i.Gx,i.Gy,Ln,u(i.Gx*i.Gy)),S.ZERO=new S(Hi,Ln,Ln,Hi),S.Fp=r,S.Fn=s;const x=new TT(S,s.BITS);return S.BASE.precompute(8),S}function W6(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Pu(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:s,Fp:i,Fn:a}=t,c=n.randomBytes||Uw,u=n.adjustScalarBytes||(z=>z),f=n.domain||((z,G,X)=>{if(sa(X,"phflag"),G.length||X)throw new Error("Contexts/pre-hash are not supported");return z});function h(z){return a.create(cu(z))}function g(z){const G=I.secretKey;z=pn("private key",z,G);const X=pn("hashed private key",e(z),2*G),Z=u(X.slice(0,G)),N=X.slice(G,2*G),m=h(Z);return{head:Z,prefix:N,scalar:m}}function y(z){const{head:G,prefix:X,scalar:Z}=g(z),N=s.multiply(Z),m=N.toBytes();return{head:G,prefix:X,scalar:Z,point:N,pointBytes:m}}function v(z){return y(z).pointBytes}function S(z=Uint8Array.of(),...G){const X=Os(...G);return h(e(f(X,pn("context",z),!!r)))}function x(z,G,X={}){z=pn("message",z),r&&(z=r(z));const{prefix:Z,scalar:N,pointBytes:m}=y(G),E=S(X.context,Z,z),O=s.multiply(E).toBytes(),j=S(X.context,O,m,z),B=a.create(E+j*N);if(!a.isValid(B))throw new Error("sign failed: invalid s");const V=Os(O,a.toBytes(B));return Ss(V,I.signature,"result")}const k={zip215:!0};function M(z,G,X,Z=k){const{context:N,zip215:m}=Z,E=I.signature;z=pn("signature",z,E),G=pn("message",G),X=pn("publicKey",X,I.publicKey),m!==void 0&&sa(m,"zip215"),r&&(G=r(G));const O=E/2,j=z.subarray(0,O),B=cu(z.subarray(O,E));let V,H,P;try{V=t.fromBytes(X,m),H=t.fromBytes(j,m),P=s.multiplyUnsafe(B)}catch{return!1}if(!m&&V.isSmallOrder())return!1;const w=S(N,H.toBytes(),V.toBytes(),G);return H.add(V.multiplyUnsafe(w)).subtract(P).clearCofactor().is0()}const L=i.BYTES,I={secretKey:L,publicKey:L,signature:2*L,seed:L};function W(z=c(I.seed)){return Ss(z,I.seed,"seed")}function q(z){const G=ne.randomSecretKey(z);return{secretKey:G,publicKey:v(G)}}function J(z){return Cu(z)&&z.length===a.BYTES}function te(z,G){try{return!!t.fromBytes(z,G)}catch{return!1}}const ne={getExtendedPublicKey:y,randomSecretKey:W,isValidSecretKey:J,isValidPublicKey:te,toMontgomery(z){const{y:G}=t.fromBytes(z),X=I.publicKey,Z=X===32;if(!Z&&X!==57)throw new Error("only defined for 25519 and 448");const N=Z?i.div(Ln+G,Ln-G):i.div(G-Ln,G+Ln);return i.toBytes(N)},toMontgomerySecret(z){const G=I.secretKey;Ss(z,G);const X=e(z.subarray(0,G));return u(X).subarray(0,G)},randomPrivateKey:W,precompute(z=8,G=t.BASE){return G.precompute(z,!1)}};return Object.freeze({keygen:q,getPublicKey:v,sign:x,verify:M,utils:ne,Point:t,lengths:I})}function V6(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=aa(e.n,t.nBitLength,!0),s={Fp:n,Fn:r,uvRatio:t.uvRatio},i={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:s,hash:t.hash,eddsaOpts:i}}function q6(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function K6(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:s}=V6(t),i=$6(e,n),a=W6(i,r,s);return q6(t,a)}const H6=BigInt(1),t_=BigInt(2);BigInt(3);const G6=BigInt(5),Y6=BigInt(8),Ww=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),PT={p:Ww,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Y6,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Q6(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=Ww,c=t*t%i*t%i,u=dn(c,t_,i)*c%i,f=dn(u,H6,i)*t%i,h=dn(f,G6,i)*f%i,g=dn(h,e,i)*h%i,y=dn(g,n,i)*g%i,v=dn(y,r,i)*y%i,S=dn(v,s,i)*v%i,x=dn(S,s,i)*v%i,k=dn(x,e,i)*h%i;return{pow_p_5_8:dn(k,t_,i)*t%i,b2:c}}function J6(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const n_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Z6(t,e){const n=Ww,r=_n(e*e*e,n),s=_n(r*r*e,n),i=Q6(t*s).pow_p_5_8;let a=_n(t*r*i,n);const c=_n(e*a*a,n),u=a,f=_n(a*n_,n),h=c===t,g=c===_n(-t,n),y=c===_n(-t*n_,n);return h&&(a=u),(g||y)&&(a=f),M6(a,n)&&(a=_n(-a,n)),{isValid:h||g,value:a}}const X6=aa(PT.p,{isLE:!0}),ej={...PT,Fp:X6,hash:E6,adjustScalarBytes:J6,uvRatio:Z6},Iu=K6(ej);var xf={exports:{}};const tj={},nj=Object.freeze(Object.defineProperty({__proto__:null,default:tj},Symbol.toStringTag,{value:"Module"})),rj=By(nj);var sj=xf.exports,r_;function IT(){return r_||(r_=1,(function(t){(function(e,n){function r(N,m){if(!N)throw new Error(m||"Assertion failed")}function s(N,m){N.super_=m;var E=function(){};E.prototype=m.prototype,N.prototype=new E,N.prototype.constructor=N}function i(N,m,E){if(i.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((m==="le"||m==="be")&&(E=m,m=10),this._init(N||0,m||10,E||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=rj.Buffer}catch{}i.isBN=function(m){return m instanceof i?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===i.wordSize&&Array.isArray(m.words)},i.max=function(m,E){return m.cmp(E)>0?m:E},i.min=function(m,E){return m.cmp(E)<0?m:E},i.prototype._init=function(m,E,O){if(typeof m=="number")return this._initNumber(m,E,O);if(typeof m=="object")return this._initArray(m,E,O);E==="hex"&&(E=16),r(E===(E|0)&&E>=2&&E<=36),m=m.toString().replace(/\s+/g,"");var j=0;m[0]==="-"&&(j++,this.negative=1),j<m.length&&(E===16?this._parseHex(m,j,O):(this._parseBase(m,E,j),O==="le"&&this._initArray(this.toArray(),E,O)))},i.prototype._initNumber=function(m,E,O){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(r(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),O==="le"&&this._initArray(this.toArray(),E,O)},i.prototype._initArray=function(m,E,O){if(r(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var B,V,H=0;if(O==="be")for(j=m.length-1,B=0;j>=0;j-=3)V=m[j]|m[j-1]<<8|m[j-2]<<16,this.words[B]|=V<<H&67108863,this.words[B+1]=V>>>26-H&67108863,H+=24,H>=26&&(H-=26,B++);else if(O==="le")for(j=0,B=0;j<m.length;j+=3)V=m[j]|m[j+1]<<8|m[j+2]<<16,this.words[B]|=V<<H&67108863,this.words[B+1]=V>>>26-H&67108863,H+=24,H>=26&&(H-=26,B++);return this._strip()};function c(N,m){var E=N.charCodeAt(m);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;r(!1,"Invalid character in "+N)}function u(N,m,E){var O=c(N,E);return E-1>=m&&(O|=c(N,E-1)<<4),O}i.prototype._parseHex=function(m,E,O){this.length=Math.ceil((m.length-E)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var B=0,V=0,H;if(O==="be")for(j=m.length-1;j>=E;j-=2)H=u(m,E,j)<<B,this.words[V]|=H&67108863,B>=18?(B-=18,V+=1,this.words[V]|=H>>>26):B+=8;else{var P=m.length-E;for(j=P%2===0?E+1:E;j<m.length;j+=2)H=u(m,E,j)<<B,this.words[V]|=H&67108863,B>=18?(B-=18,V+=1,this.words[V]|=H>>>26):B+=8}this._strip()};function f(N,m,E,O){for(var j=0,B=0,V=Math.min(N.length,E),H=m;H<V;H++){var P=N.charCodeAt(H)-48;j*=O,P>=49?B=P-49+10:P>=17?B=P-17+10:B=P,r(P>=0&&B<O,"Invalid character"),j+=B}return j}i.prototype._parseBase=function(m,E,O){this.words=[0],this.length=1;for(var j=0,B=1;B<=67108863;B*=E)j++;j--,B=B/E|0;for(var V=m.length-O,H=V%j,P=Math.min(V,V-H)+O,w=0,_=O;_<P;_+=j)w=f(m,_,_+j,E),this.imuln(B),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(H!==0){var U=1;for(w=f(m,_,m.length,E),_=0;_<H;_++)U*=E;this.imuln(U),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},i.prototype.copy=function(m){m.words=new Array(this.length);for(var E=0;E<this.length;E++)m.words[E]=this.words[E];m.length=this.length,m.negative=this.negative,m.red=this.red};function h(N,m){N.words=m.words,N.length=m.length,N.negative=m.negative,N.red=m.red}if(i.prototype._move=function(m){h(m,this)},i.prototype.clone=function(){var m=new i(null);return this.copy(m),m},i.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{i.prototype.inspect=g}else i.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(m,E){m=m||10,E=E|0||1;var O;if(m===16||m==="hex"){O="";for(var j=0,B=0,V=0;V<this.length;V++){var H=this.words[V],P=((H<<j|B)&16777215).toString(16);B=H>>>24-j&16777215,j+=2,j>=26&&(j-=26,V--),B!==0||V!==this.length-1?O=y[6-P.length]+P+O:O=P+O}for(B!==0&&(O=B.toString(16)+O);O.length%E!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}if(m===(m|0)&&m>=2&&m<=36){var w=v[m],_=S[m];O="";var U=this.clone();for(U.negative=0;!U.isZero();){var K=U.modrn(_).toString(m);U=U.idivn(_),U.isZero()?O=K+O:O=y[w-K.length]+K+O}for(this.isZero()&&(O="0"+O);O.length%E!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(m,E){return this.toArrayLike(a,m,E)}),i.prototype.toArray=function(m,E){return this.toArrayLike(Array,m,E)};var x=function(m,E){return m.allocUnsafe?m.allocUnsafe(E):new m(E)};i.prototype.toArrayLike=function(m,E,O){this._strip();var j=this.byteLength(),B=O||Math.max(1,j);r(j<=B,"byte array longer than desired length"),r(B>0,"Requested array length <= 0");var V=x(m,B),H=E==="le"?"LE":"BE";return this["_toArrayLike"+H](V,j),V},i.prototype._toArrayLikeLE=function(m,E){for(var O=0,j=0,B=0,V=0;B<this.length;B++){var H=this.words[B]<<V|j;m[O++]=H&255,O<m.length&&(m[O++]=H>>8&255),O<m.length&&(m[O++]=H>>16&255),V===6?(O<m.length&&(m[O++]=H>>24&255),j=0,V=0):(j=H>>>24,V+=2)}if(O<m.length)for(m[O++]=j;O<m.length;)m[O++]=0},i.prototype._toArrayLikeBE=function(m,E){for(var O=m.length-1,j=0,B=0,V=0;B<this.length;B++){var H=this.words[B]<<V|j;m[O--]=H&255,O>=0&&(m[O--]=H>>8&255),O>=0&&(m[O--]=H>>16&255),V===6?(O>=0&&(m[O--]=H>>24&255),j=0,V=0):(j=H>>>24,V+=2)}if(O>=0)for(m[O--]=j;O>=0;)m[O--]=0},Math.clz32?i.prototype._countBits=function(m){return 32-Math.clz32(m)}:i.prototype._countBits=function(m){var E=m,O=0;return E>=4096&&(O+=13,E>>>=13),E>=64&&(O+=7,E>>>=7),E>=8&&(O+=4,E>>>=4),E>=2&&(O+=2,E>>>=2),O+E},i.prototype._zeroBits=function(m){if(m===0)return 26;var E=m,O=0;return(E&8191)===0&&(O+=13,E>>>=13),(E&127)===0&&(O+=7,E>>>=7),(E&15)===0&&(O+=4,E>>>=4),(E&3)===0&&(O+=2,E>>>=2),(E&1)===0&&O++,O},i.prototype.bitLength=function(){var m=this.words[this.length-1],E=this._countBits(m);return(this.length-1)*26+E};function k(N){for(var m=new Array(N.bitLength()),E=0;E<m.length;E++){var O=E/26|0,j=E%26;m[E]=N.words[O]>>>j&1}return m}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,E=0;E<this.length;E++){var O=this._zeroBits(this.words[E]);if(m+=O,O!==26)break}return m},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},i.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var E=0;E<m.length;E++)this.words[E]=this.words[E]|m.words[E];return this._strip()},i.prototype.ior=function(m){return r((this.negative|m.negative)===0),this.iuor(m)},i.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},i.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},i.prototype.iuand=function(m){var E;this.length>m.length?E=m:E=this;for(var O=0;O<E.length;O++)this.words[O]=this.words[O]&m.words[O];return this.length=E.length,this._strip()},i.prototype.iand=function(m){return r((this.negative|m.negative)===0),this.iuand(m)},i.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},i.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},i.prototype.iuxor=function(m){var E,O;this.length>m.length?(E=this,O=m):(E=m,O=this);for(var j=0;j<O.length;j++)this.words[j]=E.words[j]^O.words[j];if(this!==E)for(;j<E.length;j++)this.words[j]=E.words[j];return this.length=E.length,this._strip()},i.prototype.ixor=function(m){return r((this.negative|m.negative)===0),this.iuxor(m)},i.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},i.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},i.prototype.inotn=function(m){r(typeof m=="number"&&m>=0);var E=Math.ceil(m/26)|0,O=m%26;this._expand(E),O>0&&E--;for(var j=0;j<E;j++)this.words[j]=~this.words[j]&67108863;return O>0&&(this.words[j]=~this.words[j]&67108863>>26-O),this._strip()},i.prototype.notn=function(m){return this.clone().inotn(m)},i.prototype.setn=function(m,E){r(typeof m=="number"&&m>=0);var O=m/26|0,j=m%26;return this._expand(O+1),E?this.words[O]=this.words[O]|1<<j:this.words[O]=this.words[O]&~(1<<j),this._strip()},i.prototype.iadd=function(m){var E;if(this.negative!==0&&m.negative===0)return this.negative=0,E=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,E=this.isub(m),m.negative=1,E._normSign();var O,j;this.length>m.length?(O=this,j=m):(O=m,j=this);for(var B=0,V=0;V<j.length;V++)E=(O.words[V]|0)+(j.words[V]|0)+B,this.words[V]=E&67108863,B=E>>>26;for(;B!==0&&V<O.length;V++)E=(O.words[V]|0)+B,this.words[V]=E&67108863,B=E>>>26;if(this.length=O.length,B!==0)this.words[this.length]=B,this.length++;else if(O!==this)for(;V<O.length;V++)this.words[V]=O.words[V];return this},i.prototype.add=function(m){var E;return m.negative!==0&&this.negative===0?(m.negative=0,E=this.sub(m),m.negative^=1,E):m.negative===0&&this.negative!==0?(this.negative=0,E=m.sub(this),this.negative=1,E):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},i.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var E=this.iadd(m);return m.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var O=this.cmp(m);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var j,B;O>0?(j=this,B=m):(j=m,B=this);for(var V=0,H=0;H<B.length;H++)E=(j.words[H]|0)-(B.words[H]|0)+V,V=E>>26,this.words[H]=E&67108863;for(;V!==0&&H<j.length;H++)E=(j.words[H]|0)+V,V=E>>26,this.words[H]=E&67108863;if(V===0&&H<j.length&&j!==this)for(;H<j.length;H++)this.words[H]=j.words[H];return this.length=Math.max(this.length,H),j!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(m){return this.clone().isub(m)};function M(N,m,E){E.negative=m.negative^N.negative;var O=N.length+m.length|0;E.length=O,O=O-1|0;var j=N.words[0]|0,B=m.words[0]|0,V=j*B,H=V&67108863,P=V/67108864|0;E.words[0]=H;for(var w=1;w<O;w++){for(var _=P>>>26,U=P&67108863,K=Math.min(w,m.length-1),se=Math.max(0,w-N.length+1);se<=K;se++){var le=w-se|0;j=N.words[le]|0,B=m.words[se]|0,V=j*B+U,_+=V/67108864|0,U=V&67108863}E.words[w]=U|0,P=_|0}return P!==0?E.words[w]=P|0:E.length--,E._strip()}var L=function(m,E,O){var j=m.words,B=E.words,V=O.words,H=0,P,w,_,U=j[0]|0,K=U&8191,se=U>>>13,le=j[1]|0,ge=le&8191,we=le>>>13,Ve=j[2]|0,lt=Ve&8191,pt=Ve>>>13,Ft=j[3]|0,qe=Ft&8191,Ot=Ft>>>13,kn=j[4]|0,Et=kn&8191,Rt=kn>>>13,rs=j[5]|0,st=rs&8191,et=rs>>>13,mn=j[6]|0,nt=mn&8191,bt=mn>>>13,kt=j[7]|0,Lt=kt&8191,$=kt>>>13,A=j[8]|0,C=A&8191,Y=A>>>13,oe=j[9]|0,ce=oe&8191,me=oe>>>13,rt=B[0]|0,Xe=rt&8191,Ye=rt>>>13,ft=B[1]|0,Ue=ft&8191,Pt=ft>>>13,vi=B[2]|0,ht=vi&8191,xt=vi>>>13,ss=B[3]|0,Bt=ss&8191,At=ss>>>13,Ts=B[4]|0,jt=Ts&8191,Dt=Ts>>>13,yo=B[5]|0,It=yo&8191,gt=yo>>>13,Pr=B[6]|0,qt=Pr&8191,Mt=Pr>>>13,Bn=B[7]|0,Nt=Bn&8191,Ut=Bn>>>13,ha=B[8]|0,Q=ha&8191,ye=ha>>>13,Ce=B[9]|0,Ne=Ce&8191,Ie=Ce>>>13;O.negative=m.negative^E.negative,O.length=19,P=Math.imul(K,Xe),w=Math.imul(K,Ye),w=w+Math.imul(se,Xe)|0,_=Math.imul(se,Ye);var it=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(it>>>26)|0,it&=67108863,P=Math.imul(ge,Xe),w=Math.imul(ge,Ye),w=w+Math.imul(we,Xe)|0,_=Math.imul(we,Ye),P=P+Math.imul(K,Ue)|0,w=w+Math.imul(K,Pt)|0,w=w+Math.imul(se,Ue)|0,_=_+Math.imul(se,Pt)|0;var Kt=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,P=Math.imul(lt,Xe),w=Math.imul(lt,Ye),w=w+Math.imul(pt,Xe)|0,_=Math.imul(pt,Ye),P=P+Math.imul(ge,Ue)|0,w=w+Math.imul(ge,Pt)|0,w=w+Math.imul(we,Ue)|0,_=_+Math.imul(we,Pt)|0,P=P+Math.imul(K,ht)|0,w=w+Math.imul(K,xt)|0,w=w+Math.imul(se,ht)|0,_=_+Math.imul(se,xt)|0;var lr=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(lr>>>26)|0,lr&=67108863,P=Math.imul(qe,Xe),w=Math.imul(qe,Ye),w=w+Math.imul(Ot,Xe)|0,_=Math.imul(Ot,Ye),P=P+Math.imul(lt,Ue)|0,w=w+Math.imul(lt,Pt)|0,w=w+Math.imul(pt,Ue)|0,_=_+Math.imul(pt,Pt)|0,P=P+Math.imul(ge,ht)|0,w=w+Math.imul(ge,xt)|0,w=w+Math.imul(we,ht)|0,_=_+Math.imul(we,xt)|0,P=P+Math.imul(K,Bt)|0,w=w+Math.imul(K,At)|0,w=w+Math.imul(se,Bt)|0,_=_+Math.imul(se,At)|0;var jn=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(jn>>>26)|0,jn&=67108863,P=Math.imul(Et,Xe),w=Math.imul(Et,Ye),w=w+Math.imul(Rt,Xe)|0,_=Math.imul(Rt,Ye),P=P+Math.imul(qe,Ue)|0,w=w+Math.imul(qe,Pt)|0,w=w+Math.imul(Ot,Ue)|0,_=_+Math.imul(Ot,Pt)|0,P=P+Math.imul(lt,ht)|0,w=w+Math.imul(lt,xt)|0,w=w+Math.imul(pt,ht)|0,_=_+Math.imul(pt,xt)|0,P=P+Math.imul(ge,Bt)|0,w=w+Math.imul(ge,At)|0,w=w+Math.imul(we,Bt)|0,_=_+Math.imul(we,At)|0,P=P+Math.imul(K,jt)|0,w=w+Math.imul(K,Dt)|0,w=w+Math.imul(se,jt)|0,_=_+Math.imul(se,Dt)|0;var gr=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(gr>>>26)|0,gr&=67108863,P=Math.imul(st,Xe),w=Math.imul(st,Ye),w=w+Math.imul(et,Xe)|0,_=Math.imul(et,Ye),P=P+Math.imul(Et,Ue)|0,w=w+Math.imul(Et,Pt)|0,w=w+Math.imul(Rt,Ue)|0,_=_+Math.imul(Rt,Pt)|0,P=P+Math.imul(qe,ht)|0,w=w+Math.imul(qe,xt)|0,w=w+Math.imul(Ot,ht)|0,_=_+Math.imul(Ot,xt)|0,P=P+Math.imul(lt,Bt)|0,w=w+Math.imul(lt,At)|0,w=w+Math.imul(pt,Bt)|0,_=_+Math.imul(pt,At)|0,P=P+Math.imul(ge,jt)|0,w=w+Math.imul(ge,Dt)|0,w=w+Math.imul(we,jt)|0,_=_+Math.imul(we,Dt)|0,P=P+Math.imul(K,It)|0,w=w+Math.imul(K,gt)|0,w=w+Math.imul(se,It)|0,_=_+Math.imul(se,gt)|0;var is=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(is>>>26)|0,is&=67108863,P=Math.imul(nt,Xe),w=Math.imul(nt,Ye),w=w+Math.imul(bt,Xe)|0,_=Math.imul(bt,Ye),P=P+Math.imul(st,Ue)|0,w=w+Math.imul(st,Pt)|0,w=w+Math.imul(et,Ue)|0,_=_+Math.imul(et,Pt)|0,P=P+Math.imul(Et,ht)|0,w=w+Math.imul(Et,xt)|0,w=w+Math.imul(Rt,ht)|0,_=_+Math.imul(Rt,xt)|0,P=P+Math.imul(qe,Bt)|0,w=w+Math.imul(qe,At)|0,w=w+Math.imul(Ot,Bt)|0,_=_+Math.imul(Ot,At)|0,P=P+Math.imul(lt,jt)|0,w=w+Math.imul(lt,Dt)|0,w=w+Math.imul(pt,jt)|0,_=_+Math.imul(pt,Dt)|0,P=P+Math.imul(ge,It)|0,w=w+Math.imul(ge,gt)|0,w=w+Math.imul(we,It)|0,_=_+Math.imul(we,gt)|0,P=P+Math.imul(K,qt)|0,w=w+Math.imul(K,Mt)|0,w=w+Math.imul(se,qt)|0,_=_+Math.imul(se,Mt)|0;var os=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(os>>>26)|0,os&=67108863,P=Math.imul(Lt,Xe),w=Math.imul(Lt,Ye),w=w+Math.imul($,Xe)|0,_=Math.imul($,Ye),P=P+Math.imul(nt,Ue)|0,w=w+Math.imul(nt,Pt)|0,w=w+Math.imul(bt,Ue)|0,_=_+Math.imul(bt,Pt)|0,P=P+Math.imul(st,ht)|0,w=w+Math.imul(st,xt)|0,w=w+Math.imul(et,ht)|0,_=_+Math.imul(et,xt)|0,P=P+Math.imul(Et,Bt)|0,w=w+Math.imul(Et,At)|0,w=w+Math.imul(Rt,Bt)|0,_=_+Math.imul(Rt,At)|0,P=P+Math.imul(qe,jt)|0,w=w+Math.imul(qe,Dt)|0,w=w+Math.imul(Ot,jt)|0,_=_+Math.imul(Ot,Dt)|0,P=P+Math.imul(lt,It)|0,w=w+Math.imul(lt,gt)|0,w=w+Math.imul(pt,It)|0,_=_+Math.imul(pt,gt)|0,P=P+Math.imul(ge,qt)|0,w=w+Math.imul(ge,Mt)|0,w=w+Math.imul(we,qt)|0,_=_+Math.imul(we,Mt)|0,P=P+Math.imul(K,Nt)|0,w=w+Math.imul(K,Ut)|0,w=w+Math.imul(se,Nt)|0,_=_+Math.imul(se,Ut)|0;var yt=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(yt>>>26)|0,yt&=67108863,P=Math.imul(C,Xe),w=Math.imul(C,Ye),w=w+Math.imul(Y,Xe)|0,_=Math.imul(Y,Ye),P=P+Math.imul(Lt,Ue)|0,w=w+Math.imul(Lt,Pt)|0,w=w+Math.imul($,Ue)|0,_=_+Math.imul($,Pt)|0,P=P+Math.imul(nt,ht)|0,w=w+Math.imul(nt,xt)|0,w=w+Math.imul(bt,ht)|0,_=_+Math.imul(bt,xt)|0,P=P+Math.imul(st,Bt)|0,w=w+Math.imul(st,At)|0,w=w+Math.imul(et,Bt)|0,_=_+Math.imul(et,At)|0,P=P+Math.imul(Et,jt)|0,w=w+Math.imul(Et,Dt)|0,w=w+Math.imul(Rt,jt)|0,_=_+Math.imul(Rt,Dt)|0,P=P+Math.imul(qe,It)|0,w=w+Math.imul(qe,gt)|0,w=w+Math.imul(Ot,It)|0,_=_+Math.imul(Ot,gt)|0,P=P+Math.imul(lt,qt)|0,w=w+Math.imul(lt,Mt)|0,w=w+Math.imul(pt,qt)|0,_=_+Math.imul(pt,Mt)|0,P=P+Math.imul(ge,Nt)|0,w=w+Math.imul(ge,Ut)|0,w=w+Math.imul(we,Nt)|0,_=_+Math.imul(we,Ut)|0,P=P+Math.imul(K,Q)|0,w=w+Math.imul(K,ye)|0,w=w+Math.imul(se,Q)|0,_=_+Math.imul(se,ye)|0;var bi=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(bi>>>26)|0,bi&=67108863,P=Math.imul(ce,Xe),w=Math.imul(ce,Ye),w=w+Math.imul(me,Xe)|0,_=Math.imul(me,Ye),P=P+Math.imul(C,Ue)|0,w=w+Math.imul(C,Pt)|0,w=w+Math.imul(Y,Ue)|0,_=_+Math.imul(Y,Pt)|0,P=P+Math.imul(Lt,ht)|0,w=w+Math.imul(Lt,xt)|0,w=w+Math.imul($,ht)|0,_=_+Math.imul($,xt)|0,P=P+Math.imul(nt,Bt)|0,w=w+Math.imul(nt,At)|0,w=w+Math.imul(bt,Bt)|0,_=_+Math.imul(bt,At)|0,P=P+Math.imul(st,jt)|0,w=w+Math.imul(st,Dt)|0,w=w+Math.imul(et,jt)|0,_=_+Math.imul(et,Dt)|0,P=P+Math.imul(Et,It)|0,w=w+Math.imul(Et,gt)|0,w=w+Math.imul(Rt,It)|0,_=_+Math.imul(Rt,gt)|0,P=P+Math.imul(qe,qt)|0,w=w+Math.imul(qe,Mt)|0,w=w+Math.imul(Ot,qt)|0,_=_+Math.imul(Ot,Mt)|0,P=P+Math.imul(lt,Nt)|0,w=w+Math.imul(lt,Ut)|0,w=w+Math.imul(pt,Nt)|0,_=_+Math.imul(pt,Ut)|0,P=P+Math.imul(ge,Q)|0,w=w+Math.imul(ge,ye)|0,w=w+Math.imul(we,Q)|0,_=_+Math.imul(we,ye)|0,P=P+Math.imul(K,Ne)|0,w=w+Math.imul(K,Ie)|0,w=w+Math.imul(se,Ne)|0,_=_+Math.imul(se,Ie)|0;var as=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(as>>>26)|0,as&=67108863,P=Math.imul(ce,Ue),w=Math.imul(ce,Pt),w=w+Math.imul(me,Ue)|0,_=Math.imul(me,Pt),P=P+Math.imul(C,ht)|0,w=w+Math.imul(C,xt)|0,w=w+Math.imul(Y,ht)|0,_=_+Math.imul(Y,xt)|0,P=P+Math.imul(Lt,Bt)|0,w=w+Math.imul(Lt,At)|0,w=w+Math.imul($,Bt)|0,_=_+Math.imul($,At)|0,P=P+Math.imul(nt,jt)|0,w=w+Math.imul(nt,Dt)|0,w=w+Math.imul(bt,jt)|0,_=_+Math.imul(bt,Dt)|0,P=P+Math.imul(st,It)|0,w=w+Math.imul(st,gt)|0,w=w+Math.imul(et,It)|0,_=_+Math.imul(et,gt)|0,P=P+Math.imul(Et,qt)|0,w=w+Math.imul(Et,Mt)|0,w=w+Math.imul(Rt,qt)|0,_=_+Math.imul(Rt,Mt)|0,P=P+Math.imul(qe,Nt)|0,w=w+Math.imul(qe,Ut)|0,w=w+Math.imul(Ot,Nt)|0,_=_+Math.imul(Ot,Ut)|0,P=P+Math.imul(lt,Q)|0,w=w+Math.imul(lt,ye)|0,w=w+Math.imul(pt,Q)|0,_=_+Math.imul(pt,ye)|0,P=P+Math.imul(ge,Ne)|0,w=w+Math.imul(ge,Ie)|0,w=w+Math.imul(we,Ne)|0,_=_+Math.imul(we,Ie)|0;var cr=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(cr>>>26)|0,cr&=67108863,P=Math.imul(ce,ht),w=Math.imul(ce,xt),w=w+Math.imul(me,ht)|0,_=Math.imul(me,xt),P=P+Math.imul(C,Bt)|0,w=w+Math.imul(C,At)|0,w=w+Math.imul(Y,Bt)|0,_=_+Math.imul(Y,At)|0,P=P+Math.imul(Lt,jt)|0,w=w+Math.imul(Lt,Dt)|0,w=w+Math.imul($,jt)|0,_=_+Math.imul($,Dt)|0,P=P+Math.imul(nt,It)|0,w=w+Math.imul(nt,gt)|0,w=w+Math.imul(bt,It)|0,_=_+Math.imul(bt,gt)|0,P=P+Math.imul(st,qt)|0,w=w+Math.imul(st,Mt)|0,w=w+Math.imul(et,qt)|0,_=_+Math.imul(et,Mt)|0,P=P+Math.imul(Et,Nt)|0,w=w+Math.imul(Et,Ut)|0,w=w+Math.imul(Rt,Nt)|0,_=_+Math.imul(Rt,Ut)|0,P=P+Math.imul(qe,Q)|0,w=w+Math.imul(qe,ye)|0,w=w+Math.imul(Ot,Q)|0,_=_+Math.imul(Ot,ye)|0,P=P+Math.imul(lt,Ne)|0,w=w+Math.imul(lt,Ie)|0,w=w+Math.imul(pt,Ne)|0,_=_+Math.imul(pt,Ie)|0;var ln=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(ln>>>26)|0,ln&=67108863,P=Math.imul(ce,Bt),w=Math.imul(ce,At),w=w+Math.imul(me,Bt)|0,_=Math.imul(me,At),P=P+Math.imul(C,jt)|0,w=w+Math.imul(C,Dt)|0,w=w+Math.imul(Y,jt)|0,_=_+Math.imul(Y,Dt)|0,P=P+Math.imul(Lt,It)|0,w=w+Math.imul(Lt,gt)|0,w=w+Math.imul($,It)|0,_=_+Math.imul($,gt)|0,P=P+Math.imul(nt,qt)|0,w=w+Math.imul(nt,Mt)|0,w=w+Math.imul(bt,qt)|0,_=_+Math.imul(bt,Mt)|0,P=P+Math.imul(st,Nt)|0,w=w+Math.imul(st,Ut)|0,w=w+Math.imul(et,Nt)|0,_=_+Math.imul(et,Ut)|0,P=P+Math.imul(Et,Q)|0,w=w+Math.imul(Et,ye)|0,w=w+Math.imul(Rt,Q)|0,_=_+Math.imul(Rt,ye)|0,P=P+Math.imul(qe,Ne)|0,w=w+Math.imul(qe,Ie)|0,w=w+Math.imul(Ot,Ne)|0,_=_+Math.imul(Ot,Ie)|0;var pa=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(pa>>>26)|0,pa&=67108863,P=Math.imul(ce,jt),w=Math.imul(ce,Dt),w=w+Math.imul(me,jt)|0,_=Math.imul(me,Dt),P=P+Math.imul(C,It)|0,w=w+Math.imul(C,gt)|0,w=w+Math.imul(Y,It)|0,_=_+Math.imul(Y,gt)|0,P=P+Math.imul(Lt,qt)|0,w=w+Math.imul(Lt,Mt)|0,w=w+Math.imul($,qt)|0,_=_+Math.imul($,Mt)|0,P=P+Math.imul(nt,Nt)|0,w=w+Math.imul(nt,Ut)|0,w=w+Math.imul(bt,Nt)|0,_=_+Math.imul(bt,Ut)|0,P=P+Math.imul(st,Q)|0,w=w+Math.imul(st,ye)|0,w=w+Math.imul(et,Q)|0,_=_+Math.imul(et,ye)|0,P=P+Math.imul(Et,Ne)|0,w=w+Math.imul(Et,Ie)|0,w=w+Math.imul(Rt,Ne)|0,_=_+Math.imul(Rt,Ie)|0;var wo=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(wo>>>26)|0,wo&=67108863,P=Math.imul(ce,It),w=Math.imul(ce,gt),w=w+Math.imul(me,It)|0,_=Math.imul(me,gt),P=P+Math.imul(C,qt)|0,w=w+Math.imul(C,Mt)|0,w=w+Math.imul(Y,qt)|0,_=_+Math.imul(Y,Mt)|0,P=P+Math.imul(Lt,Nt)|0,w=w+Math.imul(Lt,Ut)|0,w=w+Math.imul($,Nt)|0,_=_+Math.imul($,Ut)|0,P=P+Math.imul(nt,Q)|0,w=w+Math.imul(nt,ye)|0,w=w+Math.imul(bt,Q)|0,_=_+Math.imul(bt,ye)|0,P=P+Math.imul(st,Ne)|0,w=w+Math.imul(st,Ie)|0,w=w+Math.imul(et,Ne)|0,_=_+Math.imul(et,Ie)|0;var Kr=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,P=Math.imul(ce,qt),w=Math.imul(ce,Mt),w=w+Math.imul(me,qt)|0,_=Math.imul(me,Mt),P=P+Math.imul(C,Nt)|0,w=w+Math.imul(C,Ut)|0,w=w+Math.imul(Y,Nt)|0,_=_+Math.imul(Y,Ut)|0,P=P+Math.imul(Lt,Q)|0,w=w+Math.imul(Lt,ye)|0,w=w+Math.imul($,Q)|0,_=_+Math.imul($,ye)|0,P=P+Math.imul(nt,Ne)|0,w=w+Math.imul(nt,Ie)|0,w=w+Math.imul(bt,Ne)|0,_=_+Math.imul(bt,Ie)|0;var Gn=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,P=Math.imul(ce,Nt),w=Math.imul(ce,Ut),w=w+Math.imul(me,Nt)|0,_=Math.imul(me,Ut),P=P+Math.imul(C,Q)|0,w=w+Math.imul(C,ye)|0,w=w+Math.imul(Y,Q)|0,_=_+Math.imul(Y,ye)|0,P=P+Math.imul(Lt,Ne)|0,w=w+Math.imul(Lt,Ie)|0,w=w+Math.imul($,Ne)|0,_=_+Math.imul($,Ie)|0;var Ul=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(Ul>>>26)|0,Ul&=67108863,P=Math.imul(ce,Q),w=Math.imul(ce,ye),w=w+Math.imul(me,Q)|0,_=Math.imul(me,ye),P=P+Math.imul(C,Ne)|0,w=w+Math.imul(C,Ie)|0,w=w+Math.imul(Y,Ne)|0,_=_+Math.imul(Y,Ie)|0;var ur=(H+P|0)+((w&8191)<<13)|0;H=(_+(w>>>13)|0)+(ur>>>26)|0,ur&=67108863,P=Math.imul(ce,Ne),w=Math.imul(ce,Ie),w=w+Math.imul(me,Ne)|0,_=Math.imul(me,Ie);var Fl=(H+P|0)+((w&8191)<<13)|0;return H=(_+(w>>>13)|0)+(Fl>>>26)|0,Fl&=67108863,V[0]=it,V[1]=Kt,V[2]=lr,V[3]=jn,V[4]=gr,V[5]=is,V[6]=os,V[7]=yt,V[8]=bi,V[9]=as,V[10]=cr,V[11]=ln,V[12]=pa,V[13]=wo,V[14]=Kr,V[15]=Gn,V[16]=Ul,V[17]=ur,V[18]=Fl,H!==0&&(V[19]=H,O.length++),O};Math.imul||(L=M);function I(N,m,E){E.negative=m.negative^N.negative,E.length=N.length+m.length;for(var O=0,j=0,B=0;B<E.length-1;B++){var V=j;j=0;for(var H=O&67108863,P=Math.min(B,m.length-1),w=Math.max(0,B-N.length+1);w<=P;w++){var _=B-w,U=N.words[_]|0,K=m.words[w]|0,se=U*K,le=se&67108863;V=V+(se/67108864|0)|0,le=le+H|0,H=le&67108863,V=V+(le>>>26)|0,j+=V>>>26,V&=67108863}E.words[B]=H,O=V,V=j}return O!==0?E.words[B]=O:E.length--,E._strip()}function W(N,m,E){return I(N,m,E)}i.prototype.mulTo=function(m,E){var O,j=this.length+m.length;return this.length===10&&m.length===10?O=L(this,m,E):j<63?O=M(this,m,E):j<1024?O=I(this,m,E):O=W(this,m,E),O},i.prototype.mul=function(m){var E=new i(null);return E.words=new Array(this.length+m.length),this.mulTo(m,E)},i.prototype.mulf=function(m){var E=new i(null);return E.words=new Array(this.length+m.length),W(this,m,E)},i.prototype.imul=function(m){return this.clone().mulTo(m,this)},i.prototype.imuln=function(m){var E=m<0;E&&(m=-m),r(typeof m=="number"),r(m<67108864);for(var O=0,j=0;j<this.length;j++){var B=(this.words[j]|0)*m,V=(B&67108863)+(O&67108863);O>>=26,O+=B/67108864|0,O+=V>>>26,this.words[j]=V&67108863}return O!==0&&(this.words[j]=O,this.length++),this.length=m===0?1:this.length,E?this.ineg():this},i.prototype.muln=function(m){return this.clone().imuln(m)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(m){var E=k(m);if(E.length===0)return new i(1);for(var O=this,j=0;j<E.length&&E[j]===0;j++,O=O.sqr());if(++j<E.length)for(var B=O.sqr();j<E.length;j++,B=B.sqr())E[j]!==0&&(O=O.mul(B));return O},i.prototype.iushln=function(m){r(typeof m=="number"&&m>=0);var E=m%26,O=(m-E)/26,j=67108863>>>26-E<<26-E,B;if(E!==0){var V=0;for(B=0;B<this.length;B++){var H=this.words[B]&j,P=(this.words[B]|0)-H<<E;this.words[B]=P|V,V=H>>>26-E}V&&(this.words[B]=V,this.length++)}if(O!==0){for(B=this.length-1;B>=0;B--)this.words[B+O]=this.words[B];for(B=0;B<O;B++)this.words[B]=0;this.length+=O}return this._strip()},i.prototype.ishln=function(m){return r(this.negative===0),this.iushln(m)},i.prototype.iushrn=function(m,E,O){r(typeof m=="number"&&m>=0);var j;E?j=(E-E%26)/26:j=0;var B=m%26,V=Math.min((m-B)/26,this.length),H=67108863^67108863>>>B<<B,P=O;if(j-=V,j=Math.max(0,j),P){for(var w=0;w<V;w++)P.words[w]=this.words[w];P.length=V}if(V!==0)if(this.length>V)for(this.length-=V,w=0;w<this.length;w++)this.words[w]=this.words[w+V];else this.words[0]=0,this.length=1;var _=0;for(w=this.length-1;w>=0&&(_!==0||w>=j);w--){var U=this.words[w]|0;this.words[w]=_<<26-B|U>>>B,_=U&H}return P&&_!==0&&(P.words[P.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(m,E,O){return r(this.negative===0),this.iushrn(m,E,O)},i.prototype.shln=function(m){return this.clone().ishln(m)},i.prototype.ushln=function(m){return this.clone().iushln(m)},i.prototype.shrn=function(m){return this.clone().ishrn(m)},i.prototype.ushrn=function(m){return this.clone().iushrn(m)},i.prototype.testn=function(m){r(typeof m=="number"&&m>=0);var E=m%26,O=(m-E)/26,j=1<<E;if(this.length<=O)return!1;var B=this.words[O];return!!(B&j)},i.prototype.imaskn=function(m){r(typeof m=="number"&&m>=0);var E=m%26,O=(m-E)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(E!==0&&O++,this.length=Math.min(O,this.length),E!==0){var j=67108863^67108863>>>E<<E;this.words[this.length-1]&=j}return this._strip()},i.prototype.maskn=function(m){return this.clone().imaskn(m)},i.prototype.iaddn=function(m){return r(typeof m=="number"),r(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<=m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},i.prototype._iaddn=function(m){this.words[0]+=m;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},i.prototype.isubn=function(m){if(r(typeof m=="number"),r(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},i.prototype.addn=function(m){return this.clone().iaddn(m)},i.prototype.subn=function(m){return this.clone().isubn(m)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(m,E,O){var j=m.length+O,B;this._expand(j);var V,H=0;for(B=0;B<m.length;B++){V=(this.words[B+O]|0)+H;var P=(m.words[B]|0)*E;V-=P&67108863,H=(V>>26)-(P/67108864|0),this.words[B+O]=V&67108863}for(;B<this.length-O;B++)V=(this.words[B+O]|0)+H,H=V>>26,this.words[B+O]=V&67108863;if(H===0)return this._strip();for(r(H===-1),H=0,B=0;B<this.length;B++)V=-(this.words[B]|0)+H,H=V>>26,this.words[B]=V&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(m,E){var O=this.length-m.length,j=this.clone(),B=m,V=B.words[B.length-1]|0,H=this._countBits(V);O=26-H,O!==0&&(B=B.ushln(O),j.iushln(O),V=B.words[B.length-1]|0);var P=j.length-B.length,w;if(E!=="mod"){w=new i(null),w.length=P+1,w.words=new Array(w.length);for(var _=0;_<w.length;_++)w.words[_]=0}var U=j.clone()._ishlnsubmul(B,1,P);U.negative===0&&(j=U,w&&(w.words[P]=1));for(var K=P-1;K>=0;K--){var se=(j.words[B.length+K]|0)*67108864+(j.words[B.length+K-1]|0);for(se=Math.min(se/V|0,67108863),j._ishlnsubmul(B,se,K);j.negative!==0;)se--,j.negative=0,j._ishlnsubmul(B,1,K),j.isZero()||(j.negative^=1);w&&(w.words[K]=se)}return w&&w._strip(),j._strip(),E!=="div"&&O!==0&&j.iushrn(O),{div:w||null,mod:j}},i.prototype.divmod=function(m,E,O){if(r(!m.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var j,B,V;return this.negative!==0&&m.negative===0?(V=this.neg().divmod(m,E),E!=="mod"&&(j=V.div.neg()),E!=="div"&&(B=V.mod.neg(),O&&B.negative!==0&&B.iadd(m)),{div:j,mod:B}):this.negative===0&&m.negative!==0?(V=this.divmod(m.neg(),E),E!=="mod"&&(j=V.div.neg()),{div:j,mod:V.mod}):(this.negative&m.negative)!==0?(V=this.neg().divmod(m.neg(),E),E!=="div"&&(B=V.mod.neg(),O&&B.negative!==0&&B.isub(m)),{div:V.div,mod:B}):m.length>this.length||this.cmp(m)<0?{div:new i(0),mod:this}:m.length===1?E==="div"?{div:this.divn(m.words[0]),mod:null}:E==="mod"?{div:null,mod:new i(this.modrn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new i(this.modrn(m.words[0]))}:this._wordDiv(m,E)},i.prototype.div=function(m){return this.divmod(m,"div",!1).div},i.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},i.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},i.prototype.divRound=function(m){var E=this.divmod(m);if(E.mod.isZero())return E.div;var O=E.div.negative!==0?E.mod.isub(m):E.mod,j=m.ushrn(1),B=m.andln(1),V=O.cmp(j);return V<0||B===1&&V===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},i.prototype.modrn=function(m){var E=m<0;E&&(m=-m),r(m<=67108863);for(var O=(1<<26)%m,j=0,B=this.length-1;B>=0;B--)j=(O*j+(this.words[B]|0))%m;return E?-j:j},i.prototype.modn=function(m){return this.modrn(m)},i.prototype.idivn=function(m){var E=m<0;E&&(m=-m),r(m<=67108863);for(var O=0,j=this.length-1;j>=0;j--){var B=(this.words[j]|0)+O*67108864;this.words[j]=B/m|0,O=B%m}return this._strip(),E?this.ineg():this},i.prototype.divn=function(m){return this.clone().idivn(m)},i.prototype.egcd=function(m){r(m.negative===0),r(!m.isZero());var E=this,O=m.clone();E.negative!==0?E=E.umod(m):E=E.clone();for(var j=new i(1),B=new i(0),V=new i(0),H=new i(1),P=0;E.isEven()&&O.isEven();)E.iushrn(1),O.iushrn(1),++P;for(var w=O.clone(),_=E.clone();!E.isZero();){for(var U=0,K=1;(E.words[0]&K)===0&&U<26;++U,K<<=1);if(U>0)for(E.iushrn(U);U-- >0;)(j.isOdd()||B.isOdd())&&(j.iadd(w),B.isub(_)),j.iushrn(1),B.iushrn(1);for(var se=0,le=1;(O.words[0]&le)===0&&se<26;++se,le<<=1);if(se>0)for(O.iushrn(se);se-- >0;)(V.isOdd()||H.isOdd())&&(V.iadd(w),H.isub(_)),V.iushrn(1),H.iushrn(1);E.cmp(O)>=0?(E.isub(O),j.isub(V),B.isub(H)):(O.isub(E),V.isub(j),H.isub(B))}return{a:V,b:H,gcd:O.iushln(P)}},i.prototype._invmp=function(m){r(m.negative===0),r(!m.isZero());var E=this,O=m.clone();E.negative!==0?E=E.umod(m):E=E.clone();for(var j=new i(1),B=new i(0),V=O.clone();E.cmpn(1)>0&&O.cmpn(1)>0;){for(var H=0,P=1;(E.words[0]&P)===0&&H<26;++H,P<<=1);if(H>0)for(E.iushrn(H);H-- >0;)j.isOdd()&&j.iadd(V),j.iushrn(1);for(var w=0,_=1;(O.words[0]&_)===0&&w<26;++w,_<<=1);if(w>0)for(O.iushrn(w);w-- >0;)B.isOdd()&&B.iadd(V),B.iushrn(1);E.cmp(O)>=0?(E.isub(O),j.isub(B)):(O.isub(E),B.isub(j))}var U;return E.cmpn(1)===0?U=j:U=B,U.cmpn(0)<0&&U.iadd(m),U},i.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var E=this.clone(),O=m.clone();E.negative=0,O.negative=0;for(var j=0;E.isEven()&&O.isEven();j++)E.iushrn(1),O.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;O.isEven();)O.iushrn(1);var B=E.cmp(O);if(B<0){var V=E;E=O,O=V}else if(B===0||O.cmpn(1)===0)break;E.isub(O)}while(!0);return O.iushln(j)},i.prototype.invm=function(m){return this.egcd(m).a.umod(m)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(m){return this.words[0]&m},i.prototype.bincn=function(m){r(typeof m=="number");var E=m%26,O=(m-E)/26,j=1<<E;if(this.length<=O)return this._expand(O+1),this.words[O]|=j,this;for(var B=j,V=O;B!==0&&V<this.length;V++){var H=this.words[V]|0;H+=B,B=H>>>26,H&=67108863,this.words[V]=H}return B!==0&&(this.words[V]=B,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(m){var E=m<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this._strip();var O;if(this.length>1)O=1;else{E&&(m=-m),r(m<=67108863,"Number is too big");var j=this.words[0]|0;O=j===m?0:j<m?-1:1}return this.negative!==0?-O|0:O},i.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var E=this.ucmp(m);return this.negative!==0?-E|0:E},i.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var E=0,O=this.length-1;O>=0;O--){var j=this.words[O]|0,B=m.words[O]|0;if(j!==B){j<B?E=-1:j>B&&(E=1);break}}return E},i.prototype.gtn=function(m){return this.cmpn(m)===1},i.prototype.gt=function(m){return this.cmp(m)===1},i.prototype.gten=function(m){return this.cmpn(m)>=0},i.prototype.gte=function(m){return this.cmp(m)>=0},i.prototype.ltn=function(m){return this.cmpn(m)===-1},i.prototype.lt=function(m){return this.cmp(m)===-1},i.prototype.lten=function(m){return this.cmpn(m)<=0},i.prototype.lte=function(m){return this.cmp(m)<=0},i.prototype.eqn=function(m){return this.cmpn(m)===0},i.prototype.eq=function(m){return this.cmp(m)===0},i.red=function(m){return new X(m)},i.prototype.toRed=function(m){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(m){return this.red=m,this},i.prototype.forceRed=function(m){return r(!this.red,"Already a number in reduction context"),this._forceRed(m)},i.prototype.redAdd=function(m){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},i.prototype.redIAdd=function(m){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},i.prototype.redSub=function(m){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},i.prototype.redISub=function(m){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},i.prototype.redShl=function(m){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},i.prototype.redMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},i.prototype.redIMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(m){return r(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var q={k256:null,p224:null,p192:null,p25519:null};function J(N,m){this.name=N,this.p=new i(m,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var m=new i(null);return m.words=new Array(Math.ceil(this.n/13)),m},J.prototype.ireduce=function(m){var E=m,O;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),O=E.bitLength();while(O>this.n);var j=O<this.n?-1:E.ucmp(this.p);return j===0?(E.words[0]=0,E.length=1):j>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},J.prototype.split=function(m,E){m.iushrn(this.n,0,E)},J.prototype.imulK=function(m){return m.imul(this.k)};function te(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(te,J),te.prototype.split=function(m,E){for(var O=4194303,j=Math.min(m.length,9),B=0;B<j;B++)E.words[B]=m.words[B];if(E.length=j,m.length<=9){m.words[0]=0,m.length=1;return}var V=m.words[9];for(E.words[E.length++]=V&O,B=10;B<m.length;B++){var H=m.words[B]|0;m.words[B-10]=(H&O)<<4|V>>>22,V=H}V>>>=22,m.words[B-10]=V,V===0&&m.length>10?m.length-=10:m.length-=9},te.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var E=0,O=0;O<m.length;O++){var j=m.words[O]|0;E+=j*977,m.words[O]=E&67108863,E=j*64+(E/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function ne(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(ne,J);function z(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(z,J);function G(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(G,J),G.prototype.imulK=function(m){for(var E=0,O=0;O<m.length;O++){var j=(m.words[O]|0)*19+E,B=j&67108863;j>>>=26,m.words[O]=B,E=j}return E!==0&&(m.words[m.length++]=E),m},i._prime=function(m){if(q[m])return q[m];var E;if(m==="k256")E=new te;else if(m==="p224")E=new ne;else if(m==="p192")E=new z;else if(m==="p25519")E=new G;else throw new Error("Unknown prime "+m);return q[m]=E,E};function X(N){if(typeof N=="string"){var m=i._prime(N);this.m=m.p,this.prime=m}else r(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}X.prototype._verify1=function(m){r(m.negative===0,"red works only with positives"),r(m.red,"red works only with red numbers")},X.prototype._verify2=function(m,E){r((m.negative|E.negative)===0,"red works only with positives"),r(m.red&&m.red===E.red,"red works only with red numbers")},X.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):(h(m,m.umod(this.m)._forceRed(this)),m)},X.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},X.prototype.add=function(m,E){this._verify2(m,E);var O=m.add(E);return O.cmp(this.m)>=0&&O.isub(this.m),O._forceRed(this)},X.prototype.iadd=function(m,E){this._verify2(m,E);var O=m.iadd(E);return O.cmp(this.m)>=0&&O.isub(this.m),O},X.prototype.sub=function(m,E){this._verify2(m,E);var O=m.sub(E);return O.cmpn(0)<0&&O.iadd(this.m),O._forceRed(this)},X.prototype.isub=function(m,E){this._verify2(m,E);var O=m.isub(E);return O.cmpn(0)<0&&O.iadd(this.m),O},X.prototype.shl=function(m,E){return this._verify1(m),this.imod(m.ushln(E))},X.prototype.imul=function(m,E){return this._verify2(m,E),this.imod(m.imul(E))},X.prototype.mul=function(m,E){return this._verify2(m,E),this.imod(m.mul(E))},X.prototype.isqr=function(m){return this.imul(m,m.clone())},X.prototype.sqr=function(m){return this.mul(m,m)},X.prototype.sqrt=function(m){if(m.isZero())return m.clone();var E=this.m.andln(3);if(r(E%2===1),E===3){var O=this.m.add(new i(1)).iushrn(2);return this.pow(m,O)}for(var j=this.m.subn(1),B=0;!j.isZero()&&j.andln(1)===0;)B++,j.iushrn(1);r(!j.isZero());var V=new i(1).toRed(this),H=V.redNeg(),P=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new i(2*w*w).toRed(this);this.pow(w,P).cmp(H)!==0;)w.redIAdd(H);for(var _=this.pow(w,j),U=this.pow(m,j.addn(1).iushrn(1)),K=this.pow(m,j),se=B;K.cmp(V)!==0;){for(var le=K,ge=0;le.cmp(V)!==0;ge++)le=le.redSqr();r(ge<se);var we=this.pow(_,new i(1).iushln(se-ge-1));U=U.redMul(we),_=we.redSqr(),K=K.redMul(_),se=ge}return U},X.prototype.invm=function(m){var E=m._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},X.prototype.pow=function(m,E){if(E.isZero())return new i(1).toRed(this);if(E.cmpn(1)===0)return m.clone();var O=4,j=new Array(1<<O);j[0]=new i(1).toRed(this),j[1]=m;for(var B=2;B<j.length;B++)j[B]=this.mul(j[B-1],m);var V=j[0],H=0,P=0,w=E.bitLength()%26;for(w===0&&(w=26),B=E.length-1;B>=0;B--){for(var _=E.words[B],U=w-1;U>=0;U--){var K=_>>U&1;if(V!==j[0]&&(V=this.sqr(V)),K===0&&H===0){P=0;continue}H<<=1,H|=K,P++,!(P!==O&&(B!==0||U!==0))&&(V=this.mul(V,j[H]),P=0,H=0)}w=26}return V},X.prototype.convertTo=function(m){var E=m.umod(this.m);return E===m?E.clone():E},X.prototype.convertFrom=function(m){var E=m.clone();return E.red=null,E},i.mont=function(m){return new Z(m)};function Z(N){X.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Z,X),Z.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},Z.prototype.convertFrom=function(m){var E=this.imod(m.mul(this.rinv));return E.red=null,E},Z.prototype.imul=function(m,E){if(m.isZero()||E.isZero())return m.words[0]=0,m.length=1,m;var O=m.imul(E),j=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=O.isub(j).iushrn(this.shift),V=B;return B.cmp(this.m)>=0?V=B.isub(this.m):B.cmpn(0)<0&&(V=B.iadd(this.m)),V._forceRed(this)},Z.prototype.mul=function(m,E){if(m.isZero()||E.isZero())return new i(0)._forceRed(this);var O=m.mul(E),j=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=O.isub(j).iushrn(this.shift),V=B;return B.cmp(this.m)>=0?V=B.isub(this.m):B.cmpn(0)<0&&(V=B.iadd(this.m)),V._forceRed(this)},Z.prototype.invm=function(m){var E=this.imod(m._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(t,sj)})(xf)),xf.exports}var ij=IT();const s_=mo(ij);var tf={exports:{}};var i_;function oj(){return i_||(i_=1,(function(t,e){var n=jy(),r=n.Buffer;function s(a,c){for(var u in a)c[u]=a[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=i);function i(a,c,u){return r(a,c,u)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(a,c,u){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,c,u)},i.alloc=function(a,c,u){if(typeof a!="number")throw new TypeError("Argument must be a number");var f=r(a);return c!==void 0?typeof u=="string"?f.fill(c,u):f.fill(c):f.fill(0),f},i.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},i.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}})(tf,tf.exports)),tf.exports}var m0,o_;function aj(){if(o_)return m0;o_=1;var t=oj().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),s=0;s<r.length;s++)r[s]=255;for(var i=0;i<n.length;i++){var a=n.charAt(i),c=a.charCodeAt(0);if(r[c]!==255)throw new TypeError(a+" is ambiguous");r[c]=i}var u=n.length,f=n.charAt(0),h=Math.log(u)/Math.log(256),g=Math.log(256)/Math.log(u);function y(x){if((Array.isArray(x)||x instanceof Uint8Array)&&(x=t.from(x)),!t.isBuffer(x))throw new TypeError("Expected Buffer");if(x.length===0)return"";for(var k=0,M=0,L=0,I=x.length;L!==I&&x[L]===0;)L++,k++;for(var W=(I-L)*g+1>>>0,q=new Uint8Array(W);L!==I;){for(var J=x[L],te=0,ne=W-1;(J!==0||te<M)&&ne!==-1;ne--,te++)J+=256*q[ne]>>>0,q[ne]=J%u>>>0,J=J/u>>>0;if(J!==0)throw new Error("Non-zero carry");M=te,L++}for(var z=W-M;z!==W&&q[z]===0;)z++;for(var G=f.repeat(k);z<W;++z)G+=n.charAt(q[z]);return G}function v(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return t.alloc(0);for(var k=0,M=0,L=0;x[k]===f;)M++,k++;for(var I=(x.length-k)*h+1>>>0,W=new Uint8Array(I);k<x.length;){var q=x.charCodeAt(k);if(q>255)return;var J=r[q];if(J===255)return;for(var te=0,ne=I-1;(J!==0||te<L)&&ne!==-1;ne--,te++)J+=u*W[ne]>>>0,W[ne]=J%256>>>0,J=J/256>>>0;if(J!==0)throw new Error("Non-zero carry");L=te,k++}for(var z=I-L;z!==I&&W[z]===0;)z++;var G=t.allocUnsafe(M+(I-z));G.fill(0,0,M);for(var X=M;z!==I;)G[X++]=W[z++];return G}function S(x){var k=v(x);if(k)return k;throw new Error("Non-base"+u+" character")}return{encode:y,decodeUnsafe:v,decode:S}}return m0=e,m0}var g0,a_;function MT(){if(a_)return g0;a_=1;var t=aj(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return g0=t(e),g0}var lj=MT();const Kn=mo(lj),l_=uT;var Ct={};function ii(t,e,n){return e<=t&&t<=n}function Fh(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function cj(t){for(var e=String(t),n=e.length,r=0,s=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var a=t.charCodeAt(r+1);if(56320<=a&&a<=57343){var c=i&1023,u=a&1023;s.push(65536+(c<<10)+u),r+=1}else s.push(65533)}r+=1}return s}function uj(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var nh=-1;function Vw(t){this.tokens=[].slice.call(t)}Vw.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():nh},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Al=-1;function y0(t,e){if(t)throw TypeError("Decoder error");return e||65533}var rh="utf-8";function sh(t,e){if(!(this instanceof sh))return new sh(t,e);if(t=t!==void 0?String(t).toLowerCase():rh,t!==rh)throw new Error("Encoding not supported. Only utf-8 is supported");e=Fh(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}sh.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Fh(n),this._streaming||(this._decoder=new dj({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new Vw(r),i=[],a;!s.endOfStream()&&(a=this._decoder.handler(s,s.read()),a!==Al);)a!==null&&(Array.isArray(a)?i.push.apply(i,a):i.push(a));if(!this._streaming){do{if(a=this._decoder.handler(s,s.read()),a===Al)break;a!==null&&(Array.isArray(a)?i.push.apply(i,a):i.push(a))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),uj(i)}};function ih(t,e){if(!(this instanceof ih))return new ih(t,e);if(t=t!==void 0?String(t).toLowerCase():rh,t!==rh)throw new Error("Encoding not supported. Only utf-8 is supported");e=Fh(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}ih.prototype={encode:function(e,n){e=e?String(e):"",n=Fh(n),this._streaming||(this._encoder=new fj(this._options)),this._streaming=!!n.stream;for(var r=[],s=new Vw(cj(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Al);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Al;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function dj(t){var e=t.fatal,n=0,r=0,s=0,i=128,a=191;this.handler=function(c,u){if(u===nh&&s!==0)return s=0,y0(e);if(u===nh)return Al;if(s===0){if(ii(u,0,127))return u;if(ii(u,194,223))s=1,n=u-192;else if(ii(u,224,239))u===224&&(i=160),u===237&&(a=159),s=2,n=u-224;else if(ii(u,240,244))u===240&&(i=144),u===244&&(a=143),s=3,n=u-240;else return y0(e);return n=n<<6*s,null}if(!ii(u,i,a))return n=s=r=0,i=128,a=191,c.prepend(u),y0(e);if(i=128,a=191,r+=1,n+=u-128<<6*(s-r),r!==s)return null;var f=n;return n=s=r=0,f}}function fj(t){t.fatal,this.handler=function(e,n){if(n===nh)return Al;if(ii(n,0,127))return n;var r,s;ii(n,128,2047)?(r=1,s=192):ii(n,2048,65535)?(r=2,s=224):ii(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var a=n>>6*(r-1);i.push(128|a&63),r-=1}return i}}const hj=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:sh,TextEncoder:ih},Symbol.toStringTag,{value:"Module"})),pj=By(hj);var c_;function mj(){if(c_)return Ct;c_=1;var t=Ct&&Ct.__createBinding||(Object.create?(function(z,G,X,Z){Z===void 0&&(Z=X),Object.defineProperty(z,Z,{enumerable:!0,get:function(){return G[X]}})}):(function(z,G,X,Z){Z===void 0&&(Z=X),z[Z]=G[X]})),e=Ct&&Ct.__setModuleDefault||(Object.create?(function(z,G){Object.defineProperty(z,"default",{enumerable:!0,value:G})}):function(z,G){z.default=G}),n=Ct&&Ct.__decorate||function(z,G,X,Z){var N=arguments.length,m=N<3?G:Z===null?Z=Object.getOwnPropertyDescriptor(G,X):Z,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(z,G,X,Z);else for(var O=z.length-1;O>=0;O--)(E=z[O])&&(m=(N<3?E(m):N>3?E(G,X,m):E(G,X))||m);return N>3&&m&&Object.defineProperty(G,X,m),m},r=Ct&&Ct.__importStar||function(z){if(z&&z.__esModule)return z;var G={};if(z!=null)for(var X in z)X!=="default"&&Object.hasOwnProperty.call(z,X)&&t(G,z,X);return e(G,z),G},s=Ct&&Ct.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.deserializeUnchecked=Ct.deserialize=Ct.serialize=Ct.BinaryReader=Ct.BinaryWriter=Ct.BorshError=Ct.baseDecode=Ct.baseEncode=void 0;const i=s(IT()),a=s(MT()),c=r(pj),u=typeof TextDecoder!="function"?c.TextDecoder:TextDecoder,f=new u("utf-8",{fatal:!0});function h(z){return typeof z=="string"&&(z=Buffer.from(z,"utf8")),a.default.encode(Buffer.from(z))}Ct.baseEncode=h;function g(z){return Buffer.from(a.default.decode(z))}Ct.baseDecode=g;const y=1024;class v extends Error{constructor(G){super(G),this.fieldPath=[],this.originalMessage=G}addToFieldPath(G){this.fieldPath.splice(0,0,G),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Ct.BorshError=v;class S{constructor(){this.buf=Buffer.alloc(y),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(y)]))}writeU8(G){this.maybeResize(),this.buf.writeUInt8(G,this.length),this.length+=1}writeU16(G){this.maybeResize(),this.buf.writeUInt16LE(G,this.length),this.length+=2}writeU32(G){this.maybeResize(),this.buf.writeUInt32LE(G,this.length),this.length+=4}writeU64(G){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(G).toArray("le",8)))}writeU128(G){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(G).toArray("le",16)))}writeU256(G){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(G).toArray("le",32)))}writeU512(G){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(G).toArray("le",64)))}writeBuffer(G){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),G,Buffer.alloc(y)]),this.length+=G.length}writeString(G){this.maybeResize();const X=Buffer.from(G,"utf8");this.writeU32(X.length),this.writeBuffer(X)}writeFixedArray(G){this.writeBuffer(Buffer.from(G))}writeArray(G,X){this.maybeResize(),this.writeU32(G.length);for(const Z of G)this.maybeResize(),X(Z)}toArray(){return this.buf.subarray(0,this.length)}}Ct.BinaryWriter=S;function x(z,G,X){const Z=X.value;X.value=function(...N){try{return Z.apply(this,N)}catch(m){if(m instanceof RangeError){const E=m.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(E)>=0)throw new v("Reached the end of buffer when deserializing")}throw m}}}class k{constructor(G){this.buf=G,this.offset=0}readU8(){const G=this.buf.readUInt8(this.offset);return this.offset+=1,G}readU16(){const G=this.buf.readUInt16LE(this.offset);return this.offset+=2,G}readU32(){const G=this.buf.readUInt32LE(this.offset);return this.offset+=4,G}readU64(){const G=this.readBuffer(8);return new i.default(G,"le")}readU128(){const G=this.readBuffer(16);return new i.default(G,"le")}readU256(){const G=this.readBuffer(32);return new i.default(G,"le")}readU512(){const G=this.readBuffer(64);return new i.default(G,"le")}readBuffer(G){if(this.offset+G>this.buf.length)throw new v(`Expected buffer length ${G} isn't within bounds`);const X=this.buf.slice(this.offset,this.offset+G);return this.offset+=G,X}readString(){const G=this.readU32(),X=this.readBuffer(G);try{return f.decode(X)}catch(Z){throw new v(`Error decoding UTF-8 string: ${Z}`)}}readFixedArray(G){return new Uint8Array(this.readBuffer(G))}readArray(G){const X=this.readU32(),Z=Array();for(let N=0;N<X;++N)Z.push(G());return Z}}n([x],k.prototype,"readU8",null),n([x],k.prototype,"readU16",null),n([x],k.prototype,"readU32",null),n([x],k.prototype,"readU64",null),n([x],k.prototype,"readU128",null),n([x],k.prototype,"readU256",null),n([x],k.prototype,"readU512",null),n([x],k.prototype,"readString",null),n([x],k.prototype,"readFixedArray",null),n([x],k.prototype,"readArray",null),Ct.BinaryReader=k;function M(z){return z.charAt(0).toUpperCase()+z.slice(1)}function L(z,G,X,Z,N){try{if(typeof Z=="string")N[`write${M(Z)}`](X);else if(Z instanceof Array)if(typeof Z[0]=="number"){if(X.length!==Z[0])throw new v(`Expecting byte array of length ${Z[0]}, but got ${X.length} bytes`);N.writeFixedArray(X)}else if(Z.length===2&&typeof Z[1]=="number"){if(X.length!==Z[1])throw new v(`Expecting byte array of length ${Z[1]}, but got ${X.length} bytes`);for(let m=0;m<Z[1];m++)L(z,null,X[m],Z[0],N)}else N.writeArray(X,m=>{L(z,G,m,Z[0],N)});else if(Z.kind!==void 0)switch(Z.kind){case"option":{X==null?N.writeU8(0):(N.writeU8(1),L(z,G,X,Z.type,N));break}case"map":{N.writeU32(X.size),X.forEach((m,E)=>{L(z,G,E,Z.key,N),L(z,G,m,Z.value,N)});break}default:throw new v(`FieldType ${Z} unrecognized`)}else I(z,X,N)}catch(m){throw m instanceof v&&m.addToFieldPath(G),m}}function I(z,G,X){if(typeof G.borshSerialize=="function"){G.borshSerialize(X);return}const Z=z.get(G.constructor);if(!Z)throw new v(`Class ${G.constructor.name} is missing in schema`);if(Z.kind==="struct")Z.fields.map(([N,m])=>{L(z,N,G[N],m,X)});else if(Z.kind==="enum"){const N=G[Z.field];for(let m=0;m<Z.values.length;++m){const[E,O]=Z.values[m];if(E===N){X.writeU8(m),L(z,E,G[E],O,X);break}}}else throw new v(`Unexpected schema kind: ${Z.kind} for ${G.constructor.name}`)}function W(z,G,X=S){const Z=new X;return I(z,G,Z),Z.toArray()}Ct.serialize=W;function q(z,G,X,Z){try{if(typeof X=="string")return Z[`read${M(X)}`]();if(X instanceof Array){if(typeof X[0]=="number")return Z.readFixedArray(X[0]);if(typeof X[1]=="number"){const N=[];for(let m=0;m<X[1];m++)N.push(q(z,null,X[0],Z));return N}else return Z.readArray(()=>q(z,G,X[0],Z))}if(X.kind==="option")return Z.readU8()?q(z,G,X.type,Z):void 0;if(X.kind==="map"){let N=new Map;const m=Z.readU32();for(let E=0;E<m;E++){const O=q(z,G,X.key,Z),j=q(z,G,X.value,Z);N.set(O,j)}return N}return J(z,X,Z)}catch(N){throw N instanceof v&&N.addToFieldPath(G),N}}function J(z,G,X){if(typeof G.borshDeserialize=="function")return G.borshDeserialize(X);const Z=z.get(G);if(!Z)throw new v(`Class ${G.name} is missing in schema`);if(Z.kind==="struct"){const N={};for(const[m,E]of z.get(G).fields)N[m]=q(z,m,E,X);return new G(N)}if(Z.kind==="enum"){const N=X.readU8();if(N>=Z.values.length)throw new v(`Enum index: ${N} is out of range`);const[m,E]=Z.values[N],O=q(z,m,E,X);return new G({[m]:O})}throw new v(`Unexpected schema kind: ${Z.kind} for ${G.constructor.name}`)}function te(z,G,X,Z=k){const N=new Z(X),m=J(z,G,N);if(N.offset<X.length)throw new v(`Unexpected ${X.length-N.offset} bytes after deserialized data`);return m}Ct.deserialize=te;function ne(z,G,X,Z=k){const N=new Z(X);return J(z,G,N)}return Ct.deserializeUnchecked=ne,Ct}var w0=mj(),he={},u_;function gj(){if(u_)return he;u_=1,Object.defineProperty(he,"__esModule",{value:!0}),he.s16=he.s8=he.nu64be=he.u48be=he.u40be=he.u32be=he.u24be=he.u16be=he.nu64=he.u48=he.u40=he.u32=he.u24=he.u16=he.u8=he.offset=he.greedy=he.Constant=he.UTF8=he.CString=he.Blob=he.Boolean=he.BitField=he.BitStructure=he.VariantLayout=he.Union=he.UnionLayoutDiscriminator=he.UnionDiscriminator=he.Structure=he.Sequence=he.DoubleBE=he.Double=he.FloatBE=he.Float=he.NearInt64BE=he.NearInt64=he.NearUInt64BE=he.NearUInt64=he.IntBE=he.Int=he.UIntBE=he.UInt=he.OffsetLayout=he.GreedyCount=he.ExternalLayout=he.bindConstructorLayout=he.nameWithProperty=he.Layout=he.uint8ArrayToBuffer=he.checkUint8Array=void 0,he.constant=he.utf8=he.cstr=he.blob=he.unionLayoutDiscriminator=he.union=he.seq=he.bits=he.struct=he.f64be=he.f64=he.f32be=he.f32=he.ns64be=he.s48be=he.s40be=he.s32be=he.s24be=he.s16be=he.ns64=he.s48=he.s40=he.s32=he.s24=void 0;const t=jy();function e(w){if(!(w instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}he.checkUint8Array=e;function n(w){return e(w),t.Buffer.from(w.buffer,w.byteOffset,w.length)}he.uint8ArrayToBuffer=n;let r=class{constructor(_,U){if(!Number.isInteger(_))throw new TypeError("span must be an integer");this.span=_,this.property=U}makeDestinationObject(){return{}}getSpan(_,U){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(_){const U=Object.create(this.constructor.prototype);return Object.assign(U,this),U.property=_,U}fromArray(_){}};he.Layout=r;function s(w,_){return _.property?w+"["+_.property+"]":w}he.nameWithProperty=s;function i(w,_){if(typeof w!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(w,"layout_"))throw new Error("Class is already bound to a layout");if(!(_&&_ instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(_,"boundConstructor_"))throw new Error("layout is already bound to a constructor");w.layout_=_,_.boundConstructor_=w,_.makeDestinationObject=(()=>new w),Object.defineProperty(w.prototype,"encode",{value(U,K){return _.encode(this,U,K)},writable:!0}),Object.defineProperty(w,"decode",{value(U,K){return _.decode(U,K)},writable:!0})}he.bindConstructorLayout=i;class a extends r{isCount(){throw new Error("ExternalLayout is abstract")}}he.ExternalLayout=a;class c extends a{constructor(_=1,U){if(!Number.isInteger(_)||0>=_)throw new TypeError("elementSpan must be a (positive) integer");super(-1,U),this.elementSpan=_}isCount(){return!0}decode(_,U=0){e(_);const K=_.length-U;return Math.floor(K/this.elementSpan)}encode(_,U,K){return 0}}he.GreedyCount=c;class u extends a{constructor(_,U=0,K){if(!(_ instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(U))throw new TypeError("offset must be integer or undefined");super(_.span,K||_.property),this.layout=_,this.offset=U}isCount(){return this.layout instanceof f||this.layout instanceof h}decode(_,U=0){return this.layout.decode(_,U+this.offset)}encode(_,U,K=0){return this.layout.encode(_,U,K+this.offset)}}he.OffsetLayout=u;class f extends r{constructor(_,U){if(super(_,U),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,U=0){return n(_).readUIntLE(U,this.span)}encode(_,U,K=0){return n(U).writeUIntLE(_,K,this.span),this.span}}he.UInt=f;class h extends r{constructor(_,U){if(super(_,U),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,U=0){return n(_).readUIntBE(U,this.span)}encode(_,U,K=0){return n(U).writeUIntBE(_,K,this.span),this.span}}he.UIntBE=h;class g extends r{constructor(_,U){if(super(_,U),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,U=0){return n(_).readIntLE(U,this.span)}encode(_,U,K=0){return n(U).writeIntLE(_,K,this.span),this.span}}he.Int=g;class y extends r{constructor(_,U){if(super(_,U),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,U=0){return n(_).readIntBE(U,this.span)}encode(_,U,K=0){return n(U).writeIntBE(_,K,this.span),this.span}}he.IntBE=y;const v=Math.pow(2,32);function S(w){const _=Math.floor(w/v),U=w-_*v;return{hi32:_,lo32:U}}function x(w,_){return w*v+_}class k extends r{constructor(_){super(8,_)}decode(_,U=0){const K=n(_),se=K.readUInt32LE(U),le=K.readUInt32LE(U+4);return x(le,se)}encode(_,U,K=0){const se=S(_),le=n(U);return le.writeUInt32LE(se.lo32,K),le.writeUInt32LE(se.hi32,K+4),8}}he.NearUInt64=k;class M extends r{constructor(_){super(8,_)}decode(_,U=0){const K=n(_),se=K.readUInt32BE(U),le=K.readUInt32BE(U+4);return x(se,le)}encode(_,U,K=0){const se=S(_),le=n(U);return le.writeUInt32BE(se.hi32,K),le.writeUInt32BE(se.lo32,K+4),8}}he.NearUInt64BE=M;class L extends r{constructor(_){super(8,_)}decode(_,U=0){const K=n(_),se=K.readUInt32LE(U),le=K.readInt32LE(U+4);return x(le,se)}encode(_,U,K=0){const se=S(_),le=n(U);return le.writeUInt32LE(se.lo32,K),le.writeInt32LE(se.hi32,K+4),8}}he.NearInt64=L;class I extends r{constructor(_){super(8,_)}decode(_,U=0){const K=n(_),se=K.readInt32BE(U),le=K.readUInt32BE(U+4);return x(se,le)}encode(_,U,K=0){const se=S(_),le=n(U);return le.writeInt32BE(se.hi32,K),le.writeUInt32BE(se.lo32,K+4),8}}he.NearInt64BE=I;class W extends r{constructor(_){super(4,_)}decode(_,U=0){return n(_).readFloatLE(U)}encode(_,U,K=0){return n(U).writeFloatLE(_,K),4}}he.Float=W;class q extends r{constructor(_){super(4,_)}decode(_,U=0){return n(_).readFloatBE(U)}encode(_,U,K=0){return n(U).writeFloatBE(_,K),4}}he.FloatBE=q;class J extends r{constructor(_){super(8,_)}decode(_,U=0){return n(_).readDoubleLE(U)}encode(_,U,K=0){return n(U).writeDoubleLE(_,K),8}}he.Double=J;class te extends r{constructor(_){super(8,_)}decode(_,U=0){return n(_).readDoubleBE(U)}encode(_,U,K=0){return n(U).writeDoubleBE(_,K),8}}he.DoubleBE=te;class ne extends r{constructor(_,U,K){if(!(_ instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(U instanceof a&&U.isCount()||Number.isInteger(U)&&0<=U))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let se=-1;!(U instanceof a)&&0<_.span&&(se=U*_.span),super(se,K),this.elementLayout=_,this.count=U}getSpan(_,U=0){if(0<=this.span)return this.span;let K=0,se=this.count;if(se instanceof a&&(se=se.decode(_,U)),0<this.elementLayout.span)K=se*this.elementLayout.span;else{let le=0;for(;le<se;)K+=this.elementLayout.getSpan(_,U+K),++le}return K}decode(_,U=0){const K=[];let se=0,le=this.count;for(le instanceof a&&(le=le.decode(_,U));se<le;)K.push(this.elementLayout.decode(_,U)),U+=this.elementLayout.getSpan(_,U),se+=1;return K}encode(_,U,K=0){const se=this.elementLayout,le=_.reduce((ge,we)=>ge+se.encode(we,U,K+ge),0);return this.count instanceof a&&this.count.encode(_.length,U,K),le}}he.Sequence=ne;class z extends r{constructor(_,U,K){if(!(Array.isArray(_)&&_.reduce((le,ge)=>le&&ge instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof U=="boolean"&&K===void 0&&(K=U,U=void 0);for(const le of _)if(0>le.span&&le.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let se=-1;try{se=_.reduce((le,ge)=>le+ge.getSpan(),0)}catch{}super(se,U),this.fields=_,this.decodePrefixes=!!K}getSpan(_,U=0){if(0<=this.span)return this.span;let K=0;try{K=this.fields.reduce((se,le)=>{const ge=le.getSpan(_,U);return U+=ge,se+ge},0)}catch{throw new RangeError("indeterminate span")}return K}decode(_,U=0){e(_);const K=this.makeDestinationObject();for(const se of this.fields)if(se.property!==void 0&&(K[se.property]=se.decode(_,U)),U+=se.getSpan(_,U),this.decodePrefixes&&_.length===U)break;return K}encode(_,U,K=0){const se=K;let le=0,ge=0;for(const we of this.fields){let Ve=we.span;if(ge=0<Ve?Ve:0,we.property!==void 0){const lt=_[we.property];lt!==void 0&&(ge=we.encode(lt,U,K),0>Ve&&(Ve=we.getSpan(U,K)))}le=K,K+=Ve}return le+ge-se}fromArray(_){const U=this.makeDestinationObject();for(const K of this.fields)K.property!==void 0&&0<_.length&&(U[K.property]=_.shift());return U}layoutFor(_){if(typeof _!="string")throw new TypeError("property must be string");for(const U of this.fields)if(U.property===_)return U}offsetOf(_){if(typeof _!="string")throw new TypeError("property must be string");let U=0;for(const K of this.fields){if(K.property===_)return U;0>K.span?U=-1:0<=U&&(U+=K.span)}}}he.Structure=z;class G{constructor(_){this.property=_}decode(_,U){throw new Error("UnionDiscriminator is abstract")}encode(_,U,K){throw new Error("UnionDiscriminator is abstract")}}he.UnionDiscriminator=G;class X extends G{constructor(_,U){if(!(_ instanceof a&&_.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(U||_.property||"variant"),this.layout=_}decode(_,U){return this.layout.decode(_,U)}encode(_,U,K){return this.layout.encode(_,U,K)}}he.UnionLayoutDiscriminator=X;class Z extends r{constructor(_,U,K){let se;if(_ instanceof f||_ instanceof h)se=new X(new u(_));else if(_ instanceof a&&_.isCount())se=new X(_);else if(_ instanceof G)se=_;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(U===void 0&&(U=null),!(U===null||U instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(U!==null){if(0>U.span)throw new Error("defaultLayout must have constant span");U.property===void 0&&(U=U.replicate("content"))}let le=-1;U&&(le=U.span,0<=le&&(_ instanceof f||_ instanceof h)&&(le+=se.layout.span)),super(le,K),this.discriminator=se,this.usesPrefixDiscriminator=_ instanceof f||_ instanceof h,this.defaultLayout=U,this.registry={};let ge=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(we){return ge(we)},this.configGetSourceVariant=function(we){ge=we.bind(this)}}getSpan(_,U=0){if(0<=this.span)return this.span;const K=this.getVariant(_,U);if(!K)throw new Error("unable to determine span for unrecognized variant");return K.getSpan(_,U)}defaultGetSourceVariant(_){if(Object.prototype.hasOwnProperty.call(_,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(_,this.defaultLayout.property))return;const U=this.registry[_[this.discriminator.property]];if(U&&(!U.layout||U.property&&Object.prototype.hasOwnProperty.call(_,U.property)))return U}else for(const U in this.registry){const K=this.registry[U];if(K.property&&Object.prototype.hasOwnProperty.call(_,K.property))return K}throw new Error("unable to infer src variant")}decode(_,U=0){let K;const se=this.discriminator,le=se.decode(_,U),ge=this.registry[le];if(ge===void 0){const we=this.defaultLayout;let Ve=0;this.usesPrefixDiscriminator&&(Ve=se.layout.span),K=this.makeDestinationObject(),K[se.property]=le,K[we.property]=we.decode(_,U+Ve)}else K=ge.decode(_,U);return K}encode(_,U,K=0){const se=this.getSourceVariant(_);if(se===void 0){const le=this.discriminator,ge=this.defaultLayout;let we=0;return this.usesPrefixDiscriminator&&(we=le.layout.span),le.encode(_[le.property],U,K),we+ge.encode(_[ge.property],U,K+we)}return se.encode(_,U,K)}addVariant(_,U,K){const se=new N(this,_,U,K);return this.registry[_]=se,se}getVariant(_,U=0){let K;return _ instanceof Uint8Array?K=this.discriminator.decode(_,U):K=_,this.registry[K]}}he.Union=Z;class N extends r{constructor(_,U,K,se){if(!(_ instanceof Z))throw new TypeError("union must be a Union");if(!Number.isInteger(U)||0>U)throw new TypeError("variant must be a (non-negative) integer");if(typeof K=="string"&&se===void 0&&(se=K,K=null),K){if(!(K instanceof r))throw new TypeError("layout must be a Layout");if(_.defaultLayout!==null&&0<=K.span&&K.span>_.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof se!="string")throw new TypeError("variant must have a String property")}let le=_.span;0>_.span&&(le=K?K.span:0,0<=le&&_.usesPrefixDiscriminator&&(le+=_.discriminator.layout.span)),super(le,se),this.union=_,this.variant=U,this.layout=K||null}getSpan(_,U=0){if(0<=this.span)return this.span;let K=0;this.union.usesPrefixDiscriminator&&(K=this.union.discriminator.layout.span);let se=0;return this.layout&&(se=this.layout.getSpan(_,U+K)),K+se}decode(_,U=0){const K=this.makeDestinationObject();if(this!==this.union.getVariant(_,U))throw new Error("variant mismatch");let se=0;return this.union.usesPrefixDiscriminator&&(se=this.union.discriminator.layout.span),this.layout?K[this.property]=this.layout.decode(_,U+se):this.property?K[this.property]=!0:this.union.usesPrefixDiscriminator&&(K[this.union.discriminator.property]=this.variant),K}encode(_,U,K=0){let se=0;if(this.union.usesPrefixDiscriminator&&(se=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(_,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,U,K);let le=se;if(this.layout&&(this.layout.encode(_[this.property],U,K+se),le+=this.layout.getSpan(U,K+se),0<=this.union.span&&le>this.union.span))throw new Error("encoded variant overruns containing union");return le}fromArray(_){if(this.layout)return this.layout.fromArray(_)}}he.VariantLayout=N;function m(w){return 0>w&&(w+=4294967296),w}class E extends r{constructor(_,U,K){if(!(_ instanceof f||_ instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof U=="string"&&K===void 0&&(K=U,U=!1),4<_.span)throw new RangeError("word cannot exceed 32 bits");super(_.span,K),this.word=_,this.msb=!!U,this.fields=[];let se=0;this._packedSetValue=function(le){return se=m(le),this},this._packedGetValue=function(){return se}}decode(_,U=0){const K=this.makeDestinationObject(),se=this.word.decode(_,U);this._packedSetValue(se);for(const le of this.fields)le.property!==void 0&&(K[le.property]=le.decode(_));return K}encode(_,U,K=0){const se=this.word.decode(U,K);this._packedSetValue(se);for(const le of this.fields)if(le.property!==void 0){const ge=_[le.property];ge!==void 0&&le.encode(ge)}return this.word.encode(this._packedGetValue(),U,K)}addField(_,U){const K=new O(this,_,U);return this.fields.push(K),K}addBoolean(_){const U=new j(this,_);return this.fields.push(U),U}fieldFor(_){if(typeof _!="string")throw new TypeError("property must be string");for(const U of this.fields)if(U.property===_)return U}}he.BitStructure=E;class O{constructor(_,U,K){if(!(_ instanceof E))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(U)||0>=U)throw new TypeError("bits must be positive integer");const se=8*_.span,le=_.fields.reduce((ge,we)=>ge+we.bits,0);if(U+le>se)throw new Error("bits too long for span remainder ("+(se-le)+" of "+se+" remain)");this.container=_,this.bits=U,this.valueMask=(1<<U)-1,U===32&&(this.valueMask=4294967295),this.start=le,this.container.msb&&(this.start=se-le-U),this.wordMask=m(this.valueMask<<this.start),this.property=K}decode(_,U){const K=this.container._packedGetValue();return m(K&this.wordMask)>>>this.start}encode(_){if(typeof _!="number"||!Number.isInteger(_)||_!==m(_&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const U=this.container._packedGetValue(),K=m(_<<this.start);this.container._packedSetValue(m(U&~this.wordMask)|K)}}he.BitField=O;class j extends O{constructor(_,U){super(_,1,U)}decode(_,U){return!!super.decode(_,U)}encode(_){typeof _=="boolean"&&(_=+_),super.encode(_)}}he.Boolean=j;class B extends r{constructor(_,U){if(!(_ instanceof a&&_.isCount()||Number.isInteger(_)&&0<=_))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let K=-1;_ instanceof a||(K=_),super(K,U),this.length=_}getSpan(_,U){let K=this.span;return 0>K&&(K=this.length.decode(_,U)),K}decode(_,U=0){let K=this.span;return 0>K&&(K=this.length.decode(_,U)),n(_).slice(U,U+K)}encode(_,U,K){let se=this.length;if(this.length instanceof a&&(se=_.length),!(_ instanceof Uint8Array&&se===_.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+se+") Uint8Array as src");if(K+se>U.length)throw new RangeError("encoding overruns Uint8Array");const le=n(_);return n(U).write(le.toString("hex"),K,se,"hex"),this.length instanceof a&&this.length.encode(se,U,K),se}}he.Blob=B;class V extends r{constructor(_){super(-1,_)}getSpan(_,U=0){e(_);let K=U;for(;K<_.length&&_[K]!==0;)K+=1;return 1+K-U}decode(_,U=0){const K=this.getSpan(_,U);return n(_).slice(U,U+K-1).toString("utf-8")}encode(_,U,K=0){typeof _!="string"&&(_=String(_));const se=t.Buffer.from(_,"utf8"),le=se.length;if(K+le>U.length)throw new RangeError("encoding overruns Buffer");const ge=n(U);return se.copy(ge,K),ge[K+le]=0,le+1}}he.CString=V;class H extends r{constructor(_,U){if(typeof _=="string"&&U===void 0&&(U=_,_=void 0),_===void 0)_=-1;else if(!Number.isInteger(_))throw new TypeError("maxSpan must be an integer");super(-1,U),this.maxSpan=_}getSpan(_,U=0){return e(_),_.length-U}decode(_,U=0){const K=this.getSpan(_,U);if(0<=this.maxSpan&&this.maxSpan<K)throw new RangeError("text length exceeds maxSpan");return n(_).slice(U,U+K).toString("utf-8")}encode(_,U,K=0){typeof _!="string"&&(_=String(_));const se=t.Buffer.from(_,"utf8"),le=se.length;if(0<=this.maxSpan&&this.maxSpan<le)throw new RangeError("text length exceeds maxSpan");if(K+le>U.length)throw new RangeError("encoding overruns Buffer");return se.copy(n(U),K),le}}he.UTF8=H;class P extends r{constructor(_,U){super(0,U),this.value=_}decode(_,U){return this.value}encode(_,U,K){return 0}}return he.Constant=P,he.greedy=((w,_)=>new c(w,_)),he.offset=((w,_,U)=>new u(w,_,U)),he.u8=(w=>new f(1,w)),he.u16=(w=>new f(2,w)),he.u24=(w=>new f(3,w)),he.u32=(w=>new f(4,w)),he.u40=(w=>new f(5,w)),he.u48=(w=>new f(6,w)),he.nu64=(w=>new k(w)),he.u16be=(w=>new h(2,w)),he.u24be=(w=>new h(3,w)),he.u32be=(w=>new h(4,w)),he.u40be=(w=>new h(5,w)),he.u48be=(w=>new h(6,w)),he.nu64be=(w=>new M(w)),he.s8=(w=>new g(1,w)),he.s16=(w=>new g(2,w)),he.s24=(w=>new g(3,w)),he.s32=(w=>new g(4,w)),he.s40=(w=>new g(5,w)),he.s48=(w=>new g(6,w)),he.ns64=(w=>new L(w)),he.s16be=(w=>new y(2,w)),he.s24be=(w=>new y(3,w)),he.s32be=(w=>new y(4,w)),he.s40be=(w=>new y(5,w)),he.s48be=(w=>new y(6,w)),he.ns64be=(w=>new I(w)),he.f32=(w=>new W(w)),he.f32be=(w=>new q(w)),he.f64=(w=>new J(w)),he.f64be=(w=>new te(w)),he.struct=((w,_,U)=>new z(w,_,U)),he.bits=((w,_,U)=>new E(w,_,U)),he.seq=((w,_,U)=>new ne(w,_,U)),he.union=((w,_,U)=>new Z(w,_,U)),he.unionLayoutDiscriminator=((w,_)=>new X(w,_)),he.blob=((w,_)=>new B(w,_)),he.cstr=(w=>new V(w)),he.utf8=((w,_)=>new H(w,_)),he.constant=((w,_)=>new P(w,_)),he}var re=gj(),yj=8078e3,wj=8078001,vj=8078004,bj=8078005,xj=8078006,Sj=8078011;function NT(t){return Array.isArray(t)?"%5B"+t.map(NT).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function _j([t,e]){return`${t}=${NT(e)}`}function Ej(t){const e=Object.entries(t).map(_j).join("&");return btoa(e)}function kj(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Ej(e)}'`),`${n}\``}}var pl=class extends Error{cause=this.cause;context;constructor(...[t,e]){let n,r;if(e){const{cause:i,...a}=e;i&&(r={cause:i}),Object.keys(a).length>0&&(n=a)}const s=kj(t,n);super(s,r),this.context={__code:t,...n},this.name="SolanaError"}};function Aj(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Tj(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(Aj(e,t));return t.write(e,n,0),n}})}function Cj(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Fa(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function Rj(t,e){if(Fa(t)!==Fa(e))throw new pl(vj);if(Fa(t)&&Fa(e)&&t.fixedSize!==e.fixedSize)throw new pl(bj,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Fa(t)&&!Fa(e)&&t.maxSize!==e.maxSize)throw new pl(xj,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function Pj(t,e,n=0){if(e.length-n<=0)throw new pl(yj,{codecDescription:t})}function Ij(t,e,n,r=0){const s=n.length-r;if(s<e)throw new pl(wj,{bytesLength:s,codecDescription:t,expected:e})}function Mj(t,e,n,r){if(r<e||r>n)throw new pl(Sj,{codecDescription:t,max:n,min:e,value:r})}function OT(t){return t?.endian!==1}function Nj(t){return Tj({fixedSize:t.size,write(e,n,r){t.range&&Mj(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,OT(t.config)),n.set(new Uint8Array(s),r),r+t.size}})}function Oj(t){return Cj({fixedSize:t.size,read(e,n=0){Pj(t.name,e,n),Ij(t.name,t.size,e,n);const r=new DataView(Lj(e,n,t.size));return[t.get(r,OT(t.config)),n+t.size]}})}function Lj(t,e,n){const r=t.byteOffset+(e??0),s=n??t.byteLength;return t.buffer.slice(r,r+s)}var Bj=(t={})=>Nj({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),jj=(t={})=>Oj({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),Dj=(t={})=>Rj(Bj(t),jj(t));class Uj extends TypeError{constructor(e,n){let r;const{message:s,explanation:i,...a}=e,{path:c}=e,u=c.length===0?s:`At path: ${c.join(".")} -- ${s}`;super(i??u),i!=null&&(this.cause=u),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function Fj(t){return Mu(t)&&typeof t[Symbol.iterator]=="function"}function Mu(t){return typeof t=="object"&&t!=null}function oh(t){return Mu(t)&&!Array.isArray(t)}function As(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function zj(t){const{done:e,value:n}=t.next();return e?void 0:n}function $j(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:a}=n,{refinement:c,message:u=`Expected a value of type \`${a}\`${c?` with refinement \`${c}\``:""}, but received: \`${As(r)}\``}=t;return{value:r,type:a,refinement:c,key:s[s.length-1],path:s,branch:i,...t,message:u}}function*d_(t,e,n,r){Fj(t)||(t=[t]);for(const s of t){const i=$j(s,e,n,r);i&&(yield i)}}function*qw(t,e,n={}){const{path:r=[],branch:s=[t],coerce:i=!1,mask:a=!1}=n,c={path:r,branch:s,mask:a};i&&(t=e.coercer(t,c));let u="valid";for(const f of e.validator(t,c))f.explanation=n.message,u="not_valid",yield[f,void 0];for(let[f,h,g]of e.entries(t,c)){const y=qw(h,g,{path:f===void 0?r:[...r,f],branch:f===void 0?s:[...s,h],coerce:i,mask:a,message:n.message});for(const v of y)v[0]?(u=v[0].refinement!=null?"not_refined":"not_valid",yield[v[0],void 0]):i&&(h=v[1],f===void 0?t=h:t instanceof Map?t.set(f,h):t instanceof Set?t.add(h):Mu(t)&&(h!==void 0||f in t)&&(t[f]=h))}if(u!=="not_valid")for(const f of e.refiner(t,c))f.explanation=n.message,u="not_refined",yield[f,void 0];u==="valid"&&(yield[void 0,t])}let Ws=class{constructor(e){const{type:n,schema:r,validator:s,refiner:i,coercer:a=u=>u,entries:c=function*(){}}=e;this.type=n,this.schema=r,this.entries=c,this.coercer=a,s?this.validator=(u,f)=>{const h=s(u,f);return d_(h,f,this,u)}:this.validator=()=>[],i?this.refiner=(u,f)=>{const h=i(u,f);return d_(h,f,this,u)}:this.refiner=()=>[]}assert(e,n){return Wj(e,this,n)}create(e,n){return Te(e,this,n)}is(e){return LT(e,this)}mask(e,n){return Vj(e,this,n)}validate(e,n={}){return Nu(e,this,n)}};function Wj(t,e,n){const r=Nu(t,e,{message:n});if(r[0])throw r[0]}function Te(t,e,n){const r=Nu(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Vj(t,e,n){const r=Nu(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function LT(t,e){return!Nu(t,e)[0]}function Nu(t,e,n={}){const r=qw(t,e,n),s=zj(r);return s[0]?[new Uj(s[0],function*(){for(const a of r)a[0]&&(yield a[0])}),void 0]:[void 0,s[1]]}function la(t,e){return new Ws({type:t,schema:null,validator:e})}function qj(){return la("any",()=>!0)}function Re(t){return new Ws({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${As(e)}`}})}function zs(){return la("boolean",t=>typeof t=="boolean")}function Kw(t){return la("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${As(e)}`)}function sn(t){const e=As(t),n=typeof t;return new Ws({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${As(r)}`}})}function Kj(){return la("never",()=>!1)}function Pe(t){return new Ws({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function de(){return la("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${As(t)}`)}function $e(t){return new Ws({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function BT(t,e){return new Ws({type:"record",schema:null,*entries(n){if(Mu(n))for(const r in n){const s=n[r];yield[r,r,t],yield[r,s,e]}},validator(n){return oh(n)||`Expected an object, but received: ${As(n)}`},coercer(n){return oh(n)?{...n}:n}})}function Ae(){return la("string",t=>typeof t=="string"||`Expected a string, but received: ${As(t)}`)}function Hw(t){const e=Kj();return new Ws({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],t[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${As(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Se(t){const e=Object.keys(t);return new Ws({type:"type",schema:t,*entries(n){if(Mu(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return oh(n)||`Expected an object, but received: ${As(n)}`},coercer(n){return oh(n)?{...n}:n}})}function pr(t){const e=t.map(n=>n.type).join(" | ");return new Ws({type:"union",schema:null,coercer(n,r){for(const s of t){const[i,a]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return a}return n},validator(n,r){const s=[];for(const i of t){const[...a]=qw(n,i,r),[c]=a;if(c[0])for(const[u]of a)u&&s.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${As(n)}`,...s]}})}function Ll(){return la("unknown",()=>!0)}function Ou(t,e,n){return new Ws({...t,coercer:(r,s)=>LT(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}var nf,Hj=new Uint8Array(16);function jT(){if(!nf&&(nf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!nf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nf(Hj)}const Gj=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function zh(t){return typeof t=="string"&&Gj.test(t)}var zn=[];for(var v0=0;v0<256;++v0)zn.push((v0+256).toString(16).substr(1));function $h(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(zn[t[e+0]]+zn[t[e+1]]+zn[t[e+2]]+zn[t[e+3]]+"-"+zn[t[e+4]]+zn[t[e+5]]+"-"+zn[t[e+6]]+zn[t[e+7]]+"-"+zn[t[e+8]]+zn[t[e+9]]+"-"+zn[t[e+10]]+zn[t[e+11]]+zn[t[e+12]]+zn[t[e+13]]+zn[t[e+14]]+zn[t[e+15]]).toLowerCase();if(!zh(n))throw TypeError("Stringified UUID is invalid");return n}var f_,b0,x0=0,S0=0;function Yj(t,e,n){var r=e&&n||0,s=e||new Array(16);t=t||{};var i=t.node||f_,a=t.clockseq!==void 0?t.clockseq:b0;if(i==null||a==null){var c=t.random||(t.rng||jT)();i==null&&(i=f_=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),a==null&&(a=b0=(c[6]<<8|c[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:S0+1,h=u-x0+(f-S0)/1e4;if(h<0&&t.clockseq===void 0&&(a=a+1&16383),(h<0||u>x0)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");x0=u,S0=f,b0=a,u+=122192928e5;var g=((u&268435455)*1e4+f)%4294967296;s[r++]=g>>>24&255,s[r++]=g>>>16&255,s[r++]=g>>>8&255,s[r++]=g&255;var y=u/4294967296*1e4&268435455;s[r++]=y>>>8&255,s[r++]=y&255,s[r++]=y>>>24&15|16,s[r++]=y>>>16&255,s[r++]=a>>>8|128,s[r++]=a&255;for(var v=0;v<6;++v)s[r+v]=i[v];return e||$h(s)}function DT(t){if(!zh(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function Qj(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var Jj="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Zj="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function UT(t,e,n){function r(s,i,a,c){if(typeof s=="string"&&(s=Qj(s)),typeof i=="string"&&(i=DT(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+s.length);if(u.set(i),u.set(s,i.length),u=n(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){c=c||0;for(var f=0;f<16;++f)a[c+f]=u[f];return a}return $h(u)}try{r.name=t}catch{}return r.DNS=Jj,r.URL=Zj,r}function Xj(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return e8(t8(n8(t),t.length*8))}function e8(t){for(var e=[],n=t.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=t[s>>5]>>>s%32&255,a=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(a)}return e}function FT(t){return(t+64>>>9<<4)+14+1}function t8(t,e){t[e>>5]|=128<<e%32,t[FT(e)-1]=e;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,a=0;a<t.length;a+=16){var c=n,u=r,f=s,h=i;n=er(n,r,s,i,t[a],7,-680876936),i=er(i,n,r,s,t[a+1],12,-389564586),s=er(s,i,n,r,t[a+2],17,606105819),r=er(r,s,i,n,t[a+3],22,-1044525330),n=er(n,r,s,i,t[a+4],7,-176418897),i=er(i,n,r,s,t[a+5],12,1200080426),s=er(s,i,n,r,t[a+6],17,-1473231341),r=er(r,s,i,n,t[a+7],22,-45705983),n=er(n,r,s,i,t[a+8],7,1770035416),i=er(i,n,r,s,t[a+9],12,-1958414417),s=er(s,i,n,r,t[a+10],17,-42063),r=er(r,s,i,n,t[a+11],22,-1990404162),n=er(n,r,s,i,t[a+12],7,1804603682),i=er(i,n,r,s,t[a+13],12,-40341101),s=er(s,i,n,r,t[a+14],17,-1502002290),r=er(r,s,i,n,t[a+15],22,1236535329),n=tr(n,r,s,i,t[a+1],5,-165796510),i=tr(i,n,r,s,t[a+6],9,-1069501632),s=tr(s,i,n,r,t[a+11],14,643717713),r=tr(r,s,i,n,t[a],20,-373897302),n=tr(n,r,s,i,t[a+5],5,-701558691),i=tr(i,n,r,s,t[a+10],9,38016083),s=tr(s,i,n,r,t[a+15],14,-660478335),r=tr(r,s,i,n,t[a+4],20,-405537848),n=tr(n,r,s,i,t[a+9],5,568446438),i=tr(i,n,r,s,t[a+14],9,-1019803690),s=tr(s,i,n,r,t[a+3],14,-187363961),r=tr(r,s,i,n,t[a+8],20,1163531501),n=tr(n,r,s,i,t[a+13],5,-1444681467),i=tr(i,n,r,s,t[a+2],9,-51403784),s=tr(s,i,n,r,t[a+7],14,1735328473),r=tr(r,s,i,n,t[a+12],20,-1926607734),n=nr(n,r,s,i,t[a+5],4,-378558),i=nr(i,n,r,s,t[a+8],11,-2022574463),s=nr(s,i,n,r,t[a+11],16,1839030562),r=nr(r,s,i,n,t[a+14],23,-35309556),n=nr(n,r,s,i,t[a+1],4,-1530992060),i=nr(i,n,r,s,t[a+4],11,1272893353),s=nr(s,i,n,r,t[a+7],16,-155497632),r=nr(r,s,i,n,t[a+10],23,-1094730640),n=nr(n,r,s,i,t[a+13],4,681279174),i=nr(i,n,r,s,t[a],11,-358537222),s=nr(s,i,n,r,t[a+3],16,-722521979),r=nr(r,s,i,n,t[a+6],23,76029189),n=nr(n,r,s,i,t[a+9],4,-640364487),i=nr(i,n,r,s,t[a+12],11,-421815835),s=nr(s,i,n,r,t[a+15],16,530742520),r=nr(r,s,i,n,t[a+2],23,-995338651),n=rr(n,r,s,i,t[a],6,-198630844),i=rr(i,n,r,s,t[a+7],10,1126891415),s=rr(s,i,n,r,t[a+14],15,-1416354905),r=rr(r,s,i,n,t[a+5],21,-57434055),n=rr(n,r,s,i,t[a+12],6,1700485571),i=rr(i,n,r,s,t[a+3],10,-1894986606),s=rr(s,i,n,r,t[a+10],15,-1051523),r=rr(r,s,i,n,t[a+1],21,-2054922799),n=rr(n,r,s,i,t[a+8],6,1873313359),i=rr(i,n,r,s,t[a+15],10,-30611744),s=rr(s,i,n,r,t[a+6],15,-1560198380),r=rr(r,s,i,n,t[a+13],21,1309151649),n=rr(n,r,s,i,t[a+4],6,-145523070),i=rr(i,n,r,s,t[a+11],10,-1120210379),s=rr(s,i,n,r,t[a+2],15,718787259),r=rr(r,s,i,n,t[a+9],21,-343485551),n=io(n,c),r=io(r,u),s=io(s,f),i=io(i,h)}return[n,r,s,i]}function n8(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(FT(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function io(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function r8(t,e){return t<<e|t>>>32-e}function Wh(t,e,n,r,s,i){return io(r8(io(io(e,t),io(r,i)),s),n)}function er(t,e,n,r,s,i,a){return Wh(e&n|~e&r,t,e,s,i,a)}function tr(t,e,n,r,s,i,a){return Wh(e&r|n&~r,t,e,s,i,a)}function nr(t,e,n,r,s,i,a){return Wh(e^n^r,t,e,s,i,a)}function rr(t,e,n,r,s,i,a){return Wh(n^(e|~r),t,e,s,i,a)}var s8=UT("v3",48,Xj);function i8(t,e,n){t=t||{};var r=t.random||(t.rng||jT)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return $h(r)}function o8(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function _0(t,e){return t<<e|t>>>32-e}function a8(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var s=0;s<r.length;++s)t.push(r.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,a=Math.ceil(i/16),c=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),h=0;h<16;++h)f[h]=t[u*64+h*4]<<24|t[u*64+h*4+1]<<16|t[u*64+h*4+2]<<8|t[u*64+h*4+3];c[u]=f}c[a-1][14]=(t.length-1)*8/Math.pow(2,32),c[a-1][14]=Math.floor(c[a-1][14]),c[a-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<a;++g){for(var y=new Uint32Array(80),v=0;v<16;++v)y[v]=c[g][v];for(var S=16;S<80;++S)y[S]=_0(y[S-3]^y[S-8]^y[S-14]^y[S-16],1);for(var x=n[0],k=n[1],M=n[2],L=n[3],I=n[4],W=0;W<80;++W){var q=Math.floor(W/20),J=_0(x,5)+o8(q,k,M,L)+I+e[q]+y[W]>>>0;I=L,L=M,M=_0(k,30)>>>0,k=x,x=J}n[0]=n[0]+x>>>0,n[1]=n[1]+k>>>0,n[2]=n[2]+M>>>0,n[3]=n[3]+L>>>0,n[4]=n[4]+I>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var l8=UT("v5",80,a8);const c8="00000000-0000-0000-0000-000000000000";function u8(t){if(!zh(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const d8=Object.freeze(Object.defineProperty({__proto__:null,NIL:c8,parse:DT,stringify:$h,v1:Yj,v3:s8,v4:i8,v5:l8,validate:zh,version:u8},Symbol.toStringTag,{value:"Module"})),zT=By(d8);var E0,h_;function f8(){if(h_)return E0;h_=1;const t=zT.v4;return E0=function(n,r,s,i){if(typeof n!="string")throw new TypeError(n+" must be a string");i=i||{};const a=typeof i.version=="number"?i.version:2;if(a!==1&&a!==2)throw new TypeError(a+" must be 1 or 2");const c={method:n};if(a===2&&(c.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");c.params=r}if(typeof s>"u"){const u=typeof i.generator=="function"?i.generator:function(){return t()};c.id=u(c,i)}else a===2&&s===null?i.notificationIdNull&&(c.id=null):c.id=s;return c},E0}var k0,p_;function h8(){if(p_)return k0;p_=1;const t=zT.v4,e=f8(),n=function(r,s){if(!(this instanceof n))return new n(r,s);s||(s={}),this.options={reviver:typeof s.reviver<"u"?s.reviver:null,replacer:typeof s.replacer<"u"?s.replacer:null,generator:typeof s.generator<"u"?s.generator:function(){return t()},version:typeof s.version<"u"?s.version:2,notificationIdNull:typeof s.notificationIdNull=="boolean"?s.notificationIdNull:!1},this.callServer=r};return k0=n,n.prototype.request=function(r,s,i,a){const c=this;let u=null;const f=Array.isArray(r)&&typeof s=="function";if(this.options.version===1&&f)throw new TypeError("JSON-RPC 1.0 does not support batching");if(f||!f&&r&&typeof r=="object"&&typeof s=="function")a=s,u=r;else{typeof i=="function"&&(a=i,i=void 0);const y=typeof a=="function";try{u=e(r,s,i,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(v){if(y){a(v);return}throw v}if(!y)return u}let g;try{g=JSON.stringify(u,this.options.replacer)}catch(y){a(y);return}return this.callServer(g,function(y,v){c._parseResponse(y,v,a)}),u},n.prototype._parseResponse=function(r,s,i){if(r){i(r);return}if(!s){i();return}let a;try{a=JSON.parse(s,this.options.reviver)}catch(c){i(c);return}if(i.length===3)if(Array.isArray(a)){const c=function(f){return typeof f.error<"u"},u=function(f){return!c(f)};i(null,a.filter(c),a.filter(u));return}else{i(null,a.error,a.result);return}i(null,a)},k0}var p8=h8();const m8=mo(p8);var A0={exports:{}},m_;function g8(){return m_||(m_=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function i(u,f,h,g,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new s(h,g||u,y),S=n?n+f:f;return u._events[S]?u._events[S].fn?u._events[S]=[u._events[S],v]:u._events[S].push(v):(u._events[S]=v,u._eventsCount++),u}function a(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)e.call(h,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=n?n+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,v=g.length,S=new Array(v);y<v;y++)S[y]=g[y].fn;return S},c.prototype.listenerCount=function(f){var h=n?n+f:f,g=this._events[h];return g?g.fn?1:g.length:0},c.prototype.emit=function(f,h,g,y,v,S){var x=n?n+f:f;if(!this._events[x])return!1;var k=this._events[x],M=arguments.length,L,I;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),M){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,h),!0;case 3:return k.fn.call(k.context,h,g),!0;case 4:return k.fn.call(k.context,h,g,y),!0;case 5:return k.fn.call(k.context,h,g,y,v),!0;case 6:return k.fn.call(k.context,h,g,y,v,S),!0}for(I=1,L=new Array(M-1);I<M;I++)L[I-1]=arguments[I];k.fn.apply(k.context,L)}else{var W=k.length,q;for(I=0;I<W;I++)switch(k[I].once&&this.removeListener(f,k[I].fn,void 0,!0),M){case 1:k[I].fn.call(k[I].context);break;case 2:k[I].fn.call(k[I].context,h);break;case 3:k[I].fn.call(k[I].context,h,g);break;case 4:k[I].fn.call(k[I].context,h,g,y);break;default:if(!L)for(q=1,L=new Array(M-1);q<M;q++)L[q-1]=arguments[q];k[I].fn.apply(k[I].context,L)}}return!0},c.prototype.on=function(f,h,g){return i(this,f,h,g,!1)},c.prototype.once=function(f,h,g){return i(this,f,h,g,!0)},c.prototype.removeListener=function(f,h,g,y){var v=n?n+f:f;if(!this._events[v])return this;if(!h)return a(this,v),this;var S=this._events[v];if(S.fn)S.fn===h&&(!y||S.once)&&(!g||S.context===g)&&a(this,v);else{for(var x=0,k=[],M=S.length;x<M;x++)(S[x].fn!==h||y&&!S[x].once||g&&S[x].context!==g)&&k.push(S[x]);k.length?this._events[v]=k.length===1?k[0]:k:a(this,v)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(A0)),A0.exports}var y8=g8();const $T=mo(y8);var w8=class extends $T{socket;constructor(t,e){super(),this.socket=new window.WebSocket(t,e.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(t,e,n){const r=n||e;try{this.socket.send(t),r()}catch(s){r(s)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,n){this.socket.addEventListener(t,e,n)}};function v8(t,e){return new w8(t,e)}var b8=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},x8=class extends $T{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:s=1e3,max_reconnects:i=5,...a}={},c,u){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=i,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new b8,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,n,r){return!r&&typeof n=="object"&&(r=n,n=null),new Promise((s,i)=>{if(!this.ready)return i(new Error("socket not ready"));const a=this.generate_request_id(t,e),c={jsonrpc:"2.0",method:t,params:e||void 0,id:a};this.socket.send(this.dataPack.encode(c),r,u=>{if(u)return i(u);this.queue[a]={promise:[s,i]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],i(new Error("reply timeout"))},n))})})}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const s={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(s),i=>{if(i)return r(i);n()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket&&this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=at.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const r=[n.notification];if(n.params.constructor===Object)r.push(n.params);else for(let s=0;s<n.params.length;s++)r.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,r)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:r})=>{this.ready&&setTimeout(()=>this.emit("close",n,r),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,r),1))})}};class WT extends oT{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,sT(e);const r=Dw(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),El(i)}update(e){return Zf(this),this.iHash.update(e),this}digestInto(e){Zf(this),oa(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const VT=(t,e,n)=>new WT(t,e).update(n).digest();VT.create=(t,e)=>new WT(t,e);const g_=(t,e)=>(t+(t>=0?e:-e)/qT)/e;function S8(t,e,n){const[[r,s],[i,a]]=e,c=g_(a*t,n),u=g_(-s*t,n);let f=t-c*r-u*i,h=-c*s-u*a;const g=f<li,y=h<li;g&&(f=-f),y&&(h=-h);const v=Ru(Math.ceil(hT(n)/2))+ml;if(f<li||f>=v||h<li||h>=v)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:g,k1:f,k2neg:y,k2:h}}function Jg(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function T0(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return sa(n.lowS,"lowS"),sa(n.prehash,"prehash"),n.format!==void 0&&Jg(n.format),n}class _8 extends Error{constructor(e=""){super(e)}}const ri={Err:_8,_tlv:{encode:(t,e)=>{const{Err:n}=ri;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=ef(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?ef(s.length/2|128):"";return ef(t)+i+s+e},decode(t,e){const{Err:n}=ri;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let a=0;if(!i)a=s;else{const u=s&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const f=e.subarray(r,r+u);if(f.length!==u)throw new n("tlv.decode: length bytes not complete");if(f[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of f)a=a<<8|h;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=ri;if(t<li)throw new e("integer: negative integers are not allowed");let n=ef(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ri;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Uh(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ri,s=pn("signature",t),{v:i,l:a}=r.decode(48,s);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,i),{v:f,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(f)}},hexFromSig(t){const{_tlv:e,_int:n}=ri,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},li=BigInt(0),ml=BigInt(1),qT=BigInt(2),rf=BigInt(3),E8=BigInt(4);function ll(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let s=pn("private key",e);try{r=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function k8(t,e={}){const n=RT("weierstrass",t,e),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:a,n:c}=i;Pu(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:u}=e;if(u&&(!r.is0(i.a)||typeof u.beta!="bigint"||!Array.isArray(u.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const f=HT(r,s);function h(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function g(Z,N,m){const{x:E,y:O}=N.toAffine(),j=r.toBytes(E);if(sa(m,"isCompressed"),m){h();const B=!r.isOdd(O);return Os(KT(B),j)}else return Os(Uint8Array.of(4),j,r.toBytes(O))}function y(Z){Ss(Z,void 0,"Point");const{publicKey:N,publicKeyUncompressed:m}=f,E=Z.length,O=Z[0],j=Z.subarray(1);if(E===N&&(O===2||O===3)){const B=r.fromBytes(j);if(!r.isValid(B))throw new Error("bad point: is not on curve, wrong x");const V=x(B);let H;try{H=r.sqrt(V)}catch(_){const U=_ instanceof Error?": "+_.message:"";throw new Error("bad point: is not on curve, sqrt error"+U)}h();const P=r.isOdd(H);return(O&1)===1!==P&&(H=r.neg(H)),{x:B,y:H}}else if(E===m&&O===4){const B=r.BYTES,V=r.fromBytes(j.subarray(0,B)),H=r.fromBytes(j.subarray(B,B*2));if(!k(V,H))throw new Error("bad point: is not on curve");return{x:V,y:H}}else throw new Error(`bad point: got length ${E}, expected compressed=${N} or uncompressed=${m}`)}const v=e.toBytes||g,S=e.fromBytes||y;function x(Z){const N=r.sqr(Z),m=r.mul(N,Z);return r.add(r.add(m,r.mul(Z,i.a)),i.b)}function k(Z,N){const m=r.sqr(N),E=x(Z);return r.eql(m,E)}if(!k(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const M=r.mul(r.pow(i.a,rf),E8),L=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(M,L)))throw new Error("bad curve params: a or b");function I(Z,N,m=!1){if(!r.isValid(N)||m&&r.is0(N))throw new Error(`bad point coordinate ${Z}`);return N}function W(Z){if(!(Z instanceof z))throw new Error("ProjectivePoint expected")}function q(Z){if(!u||!u.basises)throw new Error("no endo");return S8(Z,u.basises,s.ORDER)}const J=eh((Z,N)=>{const{X:m,Y:E,Z:O}=Z;if(r.eql(O,r.ONE))return{x:m,y:E};const j=Z.is0();N==null&&(N=j?r.ONE:r.inv(O));const B=r.mul(m,N),V=r.mul(E,N),H=r.mul(O,N);if(j)return{x:r.ZERO,y:r.ZERO};if(!r.eql(H,r.ONE))throw new Error("invZ was invalid");return{x:B,y:V}}),te=eh(Z=>{if(Z.is0()){if(e.allowInfinityPoint&&!r.is0(Z.Y))return;throw new Error("bad point: ZERO")}const{x:N,y:m}=Z.toAffine();if(!r.isValid(N)||!r.isValid(m))throw new Error("bad point: x or y not field elements");if(!k(N,m))throw new Error("bad point: equation left != right");if(!Z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ne(Z,N,m,E,O){return m=new z(r.mul(m.X,Z),m.Y,m.Z),N=th(E,N),m=th(O,m),N.add(m)}class z{constructor(N,m,E){this.X=I("x",N),this.Y=I("y",m,!0),this.Z=I("z",E),Object.freeze(this)}static CURVE(){return i}static fromAffine(N){const{x:m,y:E}=N||{};if(!N||!r.isValid(m)||!r.isValid(E))throw new Error("invalid affine point");if(N instanceof z)throw new Error("projective point not allowed");return r.is0(m)&&r.is0(E)?z.ZERO:new z(m,E,r.ONE)}static fromBytes(N){const m=z.fromAffine(S(Ss(N,void 0,"point")));return m.assertValidity(),m}static fromHex(N){return z.fromBytes(pn("pointHex",N))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(N=8,m=!0){return X.createCache(this,N),m||this.multiply(rf),this}assertValidity(){te(this)}hasEvenY(){const{y:N}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(N)}equals(N){W(N);const{X:m,Y:E,Z:O}=this,{X:j,Y:B,Z:V}=N,H=r.eql(r.mul(m,V),r.mul(j,O)),P=r.eql(r.mul(E,V),r.mul(B,O));return H&&P}negate(){return new z(this.X,r.neg(this.Y),this.Z)}double(){const{a:N,b:m}=i,E=r.mul(m,rf),{X:O,Y:j,Z:B}=this;let V=r.ZERO,H=r.ZERO,P=r.ZERO,w=r.mul(O,O),_=r.mul(j,j),U=r.mul(B,B),K=r.mul(O,j);return K=r.add(K,K),P=r.mul(O,B),P=r.add(P,P),V=r.mul(N,P),H=r.mul(E,U),H=r.add(V,H),V=r.sub(_,H),H=r.add(_,H),H=r.mul(V,H),V=r.mul(K,V),P=r.mul(E,P),U=r.mul(N,U),K=r.sub(w,U),K=r.mul(N,K),K=r.add(K,P),P=r.add(w,w),w=r.add(P,w),w=r.add(w,U),w=r.mul(w,K),H=r.add(H,w),U=r.mul(j,B),U=r.add(U,U),w=r.mul(U,K),V=r.sub(V,w),P=r.mul(U,_),P=r.add(P,P),P=r.add(P,P),new z(V,H,P)}add(N){W(N);const{X:m,Y:E,Z:O}=this,{X:j,Y:B,Z:V}=N;let H=r.ZERO,P=r.ZERO,w=r.ZERO;const _=i.a,U=r.mul(i.b,rf);let K=r.mul(m,j),se=r.mul(E,B),le=r.mul(O,V),ge=r.add(m,E),we=r.add(j,B);ge=r.mul(ge,we),we=r.add(K,se),ge=r.sub(ge,we),we=r.add(m,O);let Ve=r.add(j,V);return we=r.mul(we,Ve),Ve=r.add(K,le),we=r.sub(we,Ve),Ve=r.add(E,O),H=r.add(B,V),Ve=r.mul(Ve,H),H=r.add(se,le),Ve=r.sub(Ve,H),w=r.mul(_,we),H=r.mul(U,le),w=r.add(H,w),H=r.sub(se,w),w=r.add(se,w),P=r.mul(H,w),se=r.add(K,K),se=r.add(se,K),le=r.mul(_,le),we=r.mul(U,we),se=r.add(se,le),le=r.sub(K,le),le=r.mul(_,le),we=r.add(we,le),K=r.mul(se,we),P=r.add(P,K),K=r.mul(Ve,we),H=r.mul(ge,H),H=r.sub(H,K),K=r.mul(ge,se),w=r.mul(Ve,w),w=r.add(w,K),new z(H,P,w)}subtract(N){return this.add(N.negate())}is0(){return this.equals(z.ZERO)}multiply(N){const{endo:m}=e;if(!s.isValidNot0(N))throw new Error("invalid scalar: out of range");let E,O;const j=B=>X.cached(this,B,V=>Ko(z,V));if(m){const{k1neg:B,k1:V,k2neg:H,k2:P}=q(N),{p:w,f:_}=j(V),{p:U,f:K}=j(P);O=_.add(K),E=ne(m.beta,w,U,B,H)}else{const{p:B,f:V}=j(N);E=B,O=V}return Ko(z,[E,O])[0]}multiplyUnsafe(N){const{endo:m}=e,E=this;if(!s.isValid(N))throw new Error("invalid scalar: out of range");if(N===li||E.is0())return z.ZERO;if(N===ml)return E;if(X.hasCache(this))return this.multiply(N);if(m){const{k1neg:O,k1:j,k2neg:B,k2:V}=q(N),{p1:H,p2:P}=U6(z,E,j,V);return ne(m.beta,H,P,O,B)}else return X.unsafe(E,N)}multiplyAndAddUnsafe(N,m,E){const O=this.multiplyUnsafe(m).add(N.multiplyUnsafe(E));return O.is0()?void 0:O}toAffine(N){return J(this,N)}isTorsionFree(){const{isTorsionFree:N}=e;return a===ml?!0:N?N(z,this):X.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:N}=e;return a===ml?this:N?N(z,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(N=!0){return sa(N,"isCompressed"),this.assertValidity(),v(z,this,N)}toHex(N=!0){return ea(this.toBytes(N))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(N=!0){return this.toBytes(N)}_setWindowSize(N){this.precompute(N)}static normalizeZ(N){return Ko(z,N)}static msm(N,m){return CT(z,s,N,m)}static fromPrivateKey(N){return z.BASE.multiply(ll(s,N))}}z.BASE=new z(i.Gx,i.Gy,r.ONE),z.ZERO=new z(r.ZERO,r.ONE,r.ZERO),z.Fp=r,z.Fn=s;const G=s.BITS,X=new TT(z,e.endo?Math.ceil(G/2):G);return z.BASE.precompute(8),z}function KT(t){return Uint8Array.of(t?2:3)}function HT(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function A8(t,e={}){const{Fn:n}=t,r=e.randomBytes||Uw,s=Object.assign(HT(t.Fp,n),{seed:ET(n.ORDER)});function i(v){try{return!!ll(n,v)}catch{return!1}}function a(v,S){const{publicKey:x,publicKeyUncompressed:k}=s;try{const M=v.length;return S===!0&&M!==x||S===!1&&M!==k?!1:!!t.fromBytes(v)}catch{return!1}}function c(v=r(s.seed)){return B6(Ss(v,s.seed,"seed"),n.ORDER)}function u(v,S=!0){return t.BASE.multiply(ll(n,v)).toBytes(S)}function f(v){const S=c(v);return{secretKey:S,publicKey:u(S)}}function h(v){if(typeof v=="bigint")return!1;if(v instanceof t)return!0;const{secretKey:S,publicKey:x,publicKeyUncompressed:k}=s;if(n.allowedLengths||S===x)return;const M=pn("key",v).length;return M===x||M===k}function g(v,S,x=!0){if(h(v)===!0)throw new Error("first arg must be private key");if(h(S)===!1)throw new Error("second arg must be public key");const k=ll(n,v);return t.fromHex(S).multiply(k).toBytes(x)}return Object.freeze({getPublicKey:u,getSharedSecret:g,keygen:f,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:a,randomSecretKey:c,isValidPrivateKey:i,randomPrivateKey:c,normPrivateKeyToScalar:v=>ll(n,v),precompute(v=8,S=t.BASE){return S.precompute(v,!1)}},lengths:s})}function T8(t,e,n={}){sT(e),Pu(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Uw,s=n.hmac||((m,...E)=>VT(e,m,Os(...E))),{Fp:i,Fn:a}=t,{ORDER:c,BITS:u}=a,{keygen:f,getPublicKey:h,getSharedSecret:g,utils:y,lengths:v}=A8(t,n),S={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},x="compact";function k(m){const E=c>>ml;return m>E}function M(m,E){if(!a.isValidNot0(E))throw new Error(`invalid signature ${m}: out of range 1..Point.Fn.ORDER`);return E}function L(m,E){Jg(E);const O=v.signature,j=E==="compact"?O:E==="recovered"?O+1:void 0;return Ss(m,j,`${E} signature`)}class I{constructor(E,O,j){this.r=M("r",E),this.s=M("s",O),j!=null&&(this.recovery=j),Object.freeze(this)}static fromBytes(E,O=x){L(E,O);let j;if(O==="der"){const{r:P,s:w}=ri.toSig(Ss(E));return new I(P,w)}O==="recovered"&&(j=E[0],O="compact",E=E.subarray(1));const B=a.BYTES,V=E.subarray(0,B),H=E.subarray(B,B*2);return new I(a.fromBytes(V),a.fromBytes(H),j)}static fromHex(E,O){return this.fromBytes(Xf(E),O)}addRecoveryBit(E){return new I(this.r,this.s,E)}recoverPublicKey(E){const O=i.ORDER,{r:j,s:B,recovery:V}=this;if(V==null||![0,1,2,3].includes(V))throw new Error("recovery id invalid");if(c*qT<O&&V>1)throw new Error("recovery id is ambiguous for h>1 curve");const P=V===2||V===3?j+c:j;if(!i.isValid(P))throw new Error("recovery id 2 or 3 invalid");const w=i.toBytes(P),_=t.fromBytes(Os(KT((V&1)===0),w)),U=a.inv(P),K=q(pn("msgHash",E)),se=a.create(-K*U),le=a.create(B*U),ge=t.BASE.multiplyUnsafe(se).add(_.multiplyUnsafe(le));if(ge.is0())throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return k(this.s)}toBytes(E=x){if(Jg(E),E==="der")return Xf(ri.hexFromSig(this));const O=a.toBytes(this.r),j=a.toBytes(this.s);if(E==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Os(Uint8Array.of(this.recovery),O,j)}return Os(O,j)}toHex(E){return ea(this.toBytes(E))}assertValidity(){}static fromCompact(E){return I.fromBytes(pn("sig",E),"compact")}static fromDER(E){return I.fromBytes(pn("sig",E),"der")}normalizeS(){return this.hasHighS()?new I(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ea(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ea(this.toBytes("compact"))}}const W=n.bits2int||function(E){if(E.length>8192)throw new Error("input is too large");const O=Uh(E),j=E.length*8-u;return j>0?O>>BigInt(j):O},q=n.bits2int_modN||function(E){return a.create(W(E))},J=Ru(u);function te(m){return Qg("num < 2^"+u,m,li,J),a.toBytes(m)}function ne(m,E){return Ss(m,void 0,"message"),E?Ss(e(m),void 0,"prehashed message"):m}function z(m,E,O){if(["recovered","canonical"].some(se=>se in O))throw new Error("sign() legacy options not supported");const{lowS:j,prehash:B,extraEntropy:V}=T0(O,S);m=ne(m,B);const H=q(m),P=ll(a,E),w=[te(P),te(H)];if(V!=null&&V!==!1){const se=V===!0?r(v.secretKey):V;w.push(pn("extraEntropy",se))}const _=Os(...w),U=H;function K(se){const le=W(se);if(!a.isValidNot0(le))return;const ge=a.inv(le),we=t.BASE.multiply(le).toAffine(),Ve=a.create(we.x);if(Ve===li)return;const lt=a.create(ge*a.create(U+Ve*P));if(lt===li)return;let pt=(we.x===Ve?0:2)|Number(we.y&ml),Ft=lt;return j&&k(lt)&&(Ft=a.neg(lt),pt^=1),new I(Ve,Ft,pt)}return{seed:_,k2sig:K}}function G(m,E,O={}){m=pn("message",m);const{seed:j,k2sig:B}=z(m,E,O);return A6(e.outputLen,a.BYTES,s)(j,B)}function X(m){let E;const O=typeof m=="string"||Cu(m),j=!O&&m!==null&&typeof m=="object"&&typeof m.r=="bigint"&&typeof m.s=="bigint";if(!O&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(j)E=new I(m.r,m.s);else if(O){try{E=I.fromBytes(pn("sig",m),"der")}catch(B){if(!(B instanceof ri.Err))throw B}if(!E)try{E=I.fromBytes(pn("sig",m),"compact")}catch{return!1}}return E||!1}function Z(m,E,O,j={}){const{lowS:B,prehash:V,format:H}=T0(j,S);if(O=pn("publicKey",O),E=ne(pn("message",E),V),"strict"in j)throw new Error("options.strict was renamed to lowS");const P=H===void 0?X(m):I.fromBytes(pn("sig",m),H);if(P===!1)return!1;try{const w=t.fromBytes(O);if(B&&P.hasHighS())return!1;const{r:_,s:U}=P,K=q(E),se=a.inv(U),le=a.create(K*se),ge=a.create(_*se),we=t.BASE.multiplyUnsafe(le).add(w.multiplyUnsafe(ge));return we.is0()?!1:a.create(we.x)===_}catch{return!1}}function N(m,E,O={}){const{prehash:j}=T0(O,S);return E=ne(E,j),I.fromBytes(m,"recovered").recoverPublicKey(E).toBytes()}return Object.freeze({keygen:f,getPublicKey:h,getSharedSecret:g,utils:y,lengths:v,Point:t,sign:G,verify:Z,recoverPublicKey:N,Signature:I,hash:e})}function C8(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const s=aa(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function R8(t){const{CURVE:e,curveOpts:n}=C8(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function P8(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,ST(n.Fn.ORDER,n.Fn.BITS))})}function I8(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:s}=R8(t),i=k8(e,n),a=T8(i,r,s);return P8(t,a)}function M8(t,e){const n=r=>I8({...t,hash:r});return{...n(e),create:n}}const Gw={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},N8={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},y_=BigInt(2);function O8(t){const e=Gw.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),f=t*t*t%e,h=f*f*t%e,g=dn(h,n,e)*h%e,y=dn(g,n,e)*h%e,v=dn(y,y_,e)*f%e,S=dn(v,s,e)*v%e,x=dn(S,i,e)*S%e,k=dn(x,c,e)*x%e,M=dn(k,u,e)*k%e,L=dn(M,c,e)*x%e,I=dn(L,n,e)*h%e,W=dn(I,a,e)*S%e,q=dn(W,r,e)*f%e,J=dn(q,y_,e);if(!Zg.eql(Zg.sqr(J),t))throw new Error("Cannot find square root");return J}const Zg=aa(Gw.p,{sqrt:O8}),L8=M8({...Gw,Fp:Zg,lowS:!0,endo:N8},uT);Iu.utils.randomPrivateKey;Iu.getPublicKey;function w_(t){try{return Iu.ExtendedPoint.fromHex(t),!0}catch{return!1}}const GT=(t,e)=>Iu.sign(t,e.slice(0,32)),B8=Iu.verify,Vn=t=>at.Buffer.isBuffer(t)?t:t instanceof Uint8Array?at.Buffer.from(t.buffer,t.byteOffset,t.byteLength):at.Buffer.from(t);class j8{constructor(e){Object.assign(this,e)}encode(){return at.Buffer.from(w0.serialize(Sf,this))}static decode(e){return w0.deserialize(Sf,this,e)}static decodeUnchecked(e){return w0.deserializeUnchecked(Sf,this,e)}}const Sf=new Map;var YT;const D8=32,lo=32;function U8(t){return t._bn!==void 0}let v_=1;class We extends j8{constructor(e){if(super({}),this._bn=void 0,U8(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Kn.decode(e);if(n.length!=lo)throw new Error("Invalid public key input");this._bn=new s_(n)}else this._bn=new s_(e);if(this._bn.byteLength()>lo)throw new Error("Invalid public key input")}}static unique(){const e=new We(v_);return v_+=1,new We(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Kn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(at.Buffer);if(e.length===lo)return e;const n=at.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const s=at.Buffer.concat([e.toBuffer(),at.Buffer.from(n),r.toBuffer()]),i=l_(s);return new We(i)}static createProgramAddressSync(e,n){let r=at.Buffer.alloc(0);e.forEach(function(i){if(i.length>D8)throw new TypeError("Max seed length exceeded");r=at.Buffer.concat([r,Vn(i)])}),r=at.Buffer.concat([r,n.toBuffer(),at.Buffer.from("ProgramDerivedAddress")]);const s=l_(r);if(w_(s))throw new Error("Invalid seeds, address must fall off the curve");return new We(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,s;for(;r!=0;){try{const i=e.concat(at.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new We(e);return w_(n.toBytes())}}YT=We;We.default=new YT("11111111111111111111111111111111");Sf.set(We,{kind:"struct",fields:[["_bn","u256"]]});new We("BPFLoader1111111111111111111111111111111111");const gl=1232,Yw=127,ah=64;class QT extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(QT.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class JT extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(JT.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Bc extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Bc.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class lh{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,a)=>{r.set(i.toBase58(),a)});const s=i=>{const a=r.get(i.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(a=>s(a.pubkey)),data:i.data}))}}const dt=(t="publicKey")=>re.blob(32,t),F8=(t="signature")=>re.blob(64,t),cl=(t="string")=>{const e=re.struct([re.u32("length"),re.u32("lengthPadding"),re.blob(re.offset(re.u32(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,a)=>n(i,a).chars.toString(),s.encode=(i,a,c)=>{const u={chars:at.Buffer.from(i,"utf8")};return r(u,a,c)},s.alloc=i=>re.u32().span+re.u32().span+at.Buffer.from(i,"utf8").length,s},z8=(t="authorized")=>re.struct([dt("staker"),dt("withdrawer")],t),$8=(t="lockup")=>re.struct([re.ns64("unixTimestamp"),re.ns64("epoch"),dt("custodian")],t),W8=(t="voteInit")=>re.struct([dt("nodePubkey"),dt("authorizedVoter"),dt("authorizedWithdrawer"),re.u8("commission")],t),V8=(t="voteAuthorizeWithSeedArgs")=>re.struct([re.u32("voteAuthorizationType"),dt("currentAuthorityDerivedKeyOwnerPubkey"),cl("currentAuthorityDerivedKeySeed"),dt("newAuthorized")],t);function ZT(t,e){const n=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*n(s.elementLayout)}else if("fields"in s)return ZT({layout:s},e[s.property]);return 0};let r=0;return t.layout.fields.forEach(s=>{r+=n(s)}),r}function Dr(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,(r&128)===0)break}return e}function Ur(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Xt(t,e){if(!t)throw new Error(e||"Assertion failed")}class Vh{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,s=a=>{const c=a.toBase58();let u=r.get(c);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(c,u)),u},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const a of e){s(a.programId).isInvoked=!0;for(const c of a.keys){const u=s(c.pubkey);u.isSigner||=c.isSigner,u.isWritable||=c.isWritable}}return new Vh(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Xt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,u])=>u.isSigner&&u.isWritable),r=e.filter(([,u])=>u.isSigner&&!u.isWritable),s=e.filter(([,u])=>!u.isSigner&&u.isWritable),i=e.filter(([,u])=>!u.isSigner&&!u.isWritable),a={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Xt(n.length>0,"Expected at least one writable signer key");const[u]=n[0];Xt(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const c=[...n.map(([u])=>new We(u)),...r.map(([u])=>new We(u)),...s.map(([u])=>new We(u)),...i.map(([u])=>new We(u))];return[a,c]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){const r=new Array,s=new Array;for(const[i,a]of this.keyMetaMap.entries())if(n(a)){const c=new We(i),u=e.findIndex(f=>f.equals(c));u>=0&&(Xt(u<256,"Max lookup table index exceeded"),r.push(u),s.push(c),this.keyMetaMap.delete(i))}return[r,s]}}const XT="Reached end of buffer unexpectedly";function oi(t){if(t.length===0)throw new Error(XT);return t.shift()}function Fr(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(XT);return t.splice(...e)}class mi{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new We(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Kn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new lh(this.staticAccountKeys)}static compile(e){const n=Vh.compile(e.instructions,e.payerKey),[r,s]=n.getMessageComponents(),a=new lh(s).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:Kn.encode(c.data)}));return new mi({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Ur(n,e);const r=this.instructions.map(g=>{const{accounts:y,programIdIndex:v}=g,S=Array.from(Kn.decode(g.data));let x=[];Ur(x,y.length);let k=[];return Ur(k,S.length),{programIdIndex:v,keyIndicesCount:at.Buffer.from(x),keyIndices:y,dataLength:at.Buffer.from(k),data:S}});let s=[];Ur(s,r.length);let i=at.Buffer.alloc(gl);at.Buffer.from(s).copy(i);let a=s.length;r.forEach(g=>{const v=re.struct([re.u8("programIdIndex"),re.blob(g.keyIndicesCount.length,"keyIndicesCount"),re.seq(re.u8("keyIndex"),g.keyIndices.length,"keyIndices"),re.blob(g.dataLength.length,"dataLength"),re.seq(re.u8("userdatum"),g.data.length,"data")]).encode(g,i,a);a+=v}),i=i.slice(0,a);const c=re.struct([re.blob(1,"numRequiredSignatures"),re.blob(1,"numReadonlySignedAccounts"),re.blob(1,"numReadonlyUnsignedAccounts"),re.blob(n.length,"keyCount"),re.seq(dt("key"),e,"keys"),dt("recentBlockhash")]),u={numRequiredSignatures:at.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:at.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:at.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:at.Buffer.from(n),keys:this.accountKeys.map(g=>Vn(g.toBytes())),recentBlockhash:Kn.decode(this.recentBlockhash)};let f=at.Buffer.alloc(2048);const h=c.encode(u,f);return i.copy(f,h),f.slice(0,h+i.length)}static from(e){let n=[...e];const r=oi(n);if(r!==(r&Yw))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=oi(n),i=oi(n),a=Dr(n);let c=[];for(let y=0;y<a;y++){const v=Fr(n,0,lo);c.push(new We(at.Buffer.from(v)))}const u=Fr(n,0,lo),f=Dr(n);let h=[];for(let y=0;y<f;y++){const v=oi(n),S=Dr(n),x=Fr(n,0,S),k=Dr(n),M=Fr(n,0,k),L=Kn.encode(at.Buffer.from(M));h.push({programIdIndex:v,accounts:x,data:L})}const g={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Kn.encode(at.Buffer.from(u)),accountKeys:c,instructions:h};return new mi(g)}}class uu{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new lh(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((a,c)=>a+c.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-n,a=r-n-this.header.numReadonlyUnsignedAccounts;return s<a}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Vh.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const h of i){const g=n.extractTableLookup(h);if(g!==void 0){const[y,{writable:v,readonly:S}]=g;r.push(y),s.writable.push(...v),s.readonly.push(...S)}}const[a,c]=n.getMessageComponents(),f=new lh(c,s).compileInstructions(e.instructions);return new uu({header:a,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:f,addressTableLookups:r})}serialize(){const e=Array();Ur(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Ur(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Ur(i,this.addressTableLookups.length);const a=re.struct([re.u8("prefix"),re.struct([re.u8("numRequiredSignatures"),re.u8("numReadonlySignedAccounts"),re.u8("numReadonlyUnsignedAccounts")],"header"),re.blob(e.length,"staticAccountKeysLength"),re.seq(dt(),this.staticAccountKeys.length,"staticAccountKeys"),dt("recentBlockhash"),re.blob(r.length,"instructionsLength"),re.blob(n.length,"serializedInstructions"),re.blob(i.length,"addressTableLookupsLength"),re.blob(s.length,"serializedAddressTableLookups")]),c=new Uint8Array(gl),f=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(h=>h.toBytes()),recentBlockhash:Kn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},c);return c.slice(0,f)}serializeInstructions(){let e=0;const n=new Uint8Array(gl);for(const r of this.compiledInstructions){const s=Array();Ur(s,r.accountKeyIndexes.length);const i=Array();Ur(i,r.data.length);const a=re.struct([re.u8("programIdIndex"),re.blob(s.length,"encodedAccountKeyIndexesLength"),re.seq(re.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),re.blob(i.length,"encodedDataLength"),re.blob(r.data.length,"data")]);e+=a.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(gl);for(const r of this.addressTableLookups){const s=Array();Ur(s,r.writableIndexes.length);const i=Array();Ur(i,r.readonlyIndexes.length);const a=re.struct([dt("accountKey"),re.blob(s.length,"encodedWritableIndexesLength"),re.seq(re.u8(),r.writableIndexes.length,"writableIndexes"),re.blob(i.length,"encodedReadonlyIndexesLength"),re.seq(re.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=a.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=oi(n),s=r&Yw;Xt(r!==s,"Expected versioned message but received legacy message");const i=s;Xt(i===0,`Expected versioned message with version 0 but found version ${i}`);const a={numRequiredSignatures:oi(n),numReadonlySignedAccounts:oi(n),numReadonlyUnsignedAccounts:oi(n)},c=[],u=Dr(n);for(let S=0;S<u;S++)c.push(new We(Fr(n,0,lo)));const f=Kn.encode(Fr(n,0,lo)),h=Dr(n),g=[];for(let S=0;S<h;S++){const x=oi(n),k=Dr(n),M=Fr(n,0,k),L=Dr(n),I=new Uint8Array(Fr(n,0,L));g.push({programIdIndex:x,accountKeyIndexes:M,data:I})}const y=Dr(n),v=[];for(let S=0;S<y;S++){const x=new We(Fr(n,0,lo)),k=Dr(n),M=Fr(n,0,k),L=Dr(n),I=Fr(n,0,L);v.push({accountKey:x,writableIndexes:M,readonlyIndexes:I})}return new uu({header:a,staticAccountKeys:c,recentBlockhash:f,compiledInstructions:g,addressTableLookups:v})}}const Qw={deserializeMessageVersion(t){const e=t[0],n=e&Yw;return n===e?"legacy":n},deserialize:t=>{const e=Qw.deserializeMessageVersion(t);if(e==="legacy")return mi.from(t);if(e===0)return uu.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Gi=(function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t})({});const q8=at.Buffer.alloc(ah).fill(0);class ys{constructor(e){this.keys=void 0,this.programId=void 0,this.data=at.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class kr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new ys(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<n.length;x++)if(n[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const s=[],i=[];n.forEach(x=>{x.keys.forEach(M=>{i.push({...M})});const k=x.programId.toString();s.includes(k)||s.push(k)}),s.forEach(x=>{i.push({pubkey:new We(x),isSigner:!1,isWritable:!1})});const a=[];i.forEach(x=>{const k=x.pubkey.toString(),M=a.findIndex(L=>L.pubkey.toString()===k);M>-1?(a[M].isWritable=a[M].isWritable||x.isWritable,a[M].isSigner=a[M].isSigner||x.isSigner):a.push(x)}),a.sort(function(x,k){if(x.isSigner!==k.isSigner)return x.isSigner?-1:1;if(x.isWritable!==k.isWritable)return x.isWritable?-1:1;const M={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",M)});const c=a.findIndex(x=>x.pubkey.equals(r));if(c>-1){const[x]=a.splice(c,1);x.isSigner=!0,x.isWritable=!0,a.unshift(x)}else a.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const x of this.signatures){const k=a.findIndex(M=>M.pubkey.equals(x.publicKey));if(k>-1)a[k].isSigner||(a[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let u=0,f=0,h=0;const g=[],y=[];a.forEach(({pubkey:x,isSigner:k,isWritable:M})=>{k?(g.push(x.toString()),u+=1,M||(f+=1)):(y.push(x.toString()),M||(h+=1))});const v=g.concat(y),S=n.map(x=>{const{data:k,programId:M}=x;return{programIdIndex:v.indexOf(M.toString()),accounts:x.keys.map(L=>v.indexOf(L.pubkey.toString())),data:Kn.encode(k)}});return S.forEach(x=>{Xt(x.programIdIndex>=0),x.accounts.forEach(k=>Xt(k>=0))}),new mi({header:{numRequiredSignatures:u,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:h},accountKeys:v,recentBlockhash:e,instructions:S})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const a=i.publicKey.toString();n.has(a)||(n.add(a),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const a=i.publicKey.toString();n.has(a)||(n.add(a),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(s=>{const i=GT(r,s.secretKey);this._addSignature(s.publicKey,Vn(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Xt(n.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=at.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||=[]).push(i):B8(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let a="Signature verification failed.";throw i.invalid&&(a+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),i.missing&&(a+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(a)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,r=[];Ur(r,n.length);const s=r.length+n.length*64+e.length,i=at.Buffer.alloc(s);return Xt(n.length<256),at.Buffer.from(r).copy(i,0),n.forEach(({signature:a},c)=>{a!==null&&(Xt(a.length===64,"signature has invalid length"),at.Buffer.from(a).copy(i,r.length+c*64))}),e.copy(i,r.length+n.length*64),Xt(i.length<=gl,`Transaction too large: ${i.length} > ${gl}`),i}get keys(){return Xt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Xt(this.instructions.length===1),this.instructions[0].programId}get data(){return Xt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Dr(n);let s=[];for(let i=0;i<r;i++){const a=Fr(n,0,ah);s.push(Kn.encode(at.Buffer.from(a)))}return kr.populate(mi.from(n),s)}static populate(e,n=[]){const r=new kr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((s,i)=>{const a={signature:s==Kn.encode(q8)?null:Kn.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(a)}),e.instructions.forEach(s=>{const i=s.accounts.map(a=>{const c=e.accountKeys[a];return{pubkey:c,isSigner:r.signatures.some(u=>u.publicKey.toString()===c.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});r.instructions.push(new ys({keys:i,programId:e.accountKeys[s.programIdIndex],data:Kn.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class du{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Xt(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(ah));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Ur(n,this.signatures.length);const r=re.struct([re.blob(n.length,"encodedSignaturesLength"),re.seq(F8(),this.signatures.length,"signatures"),re.blob(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let n=[...e];const r=[],s=Dr(n);for(let a=0;a<s;a++)r.push(new Uint8Array(Fr(n,0,ah)));const i=Qw.deserialize(new Uint8Array(n));return new du(i,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(a=>a.equals(s.publicKey));Xt(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=GT(n,s.secretKey)}}addSignature(e,n){Xt(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Xt(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const K8=160,H8=64,G8=K8/H8,Y8=1e3/G8;new We("SysvarC1ock11111111111111111111111111111111");new We("SysvarEpochSchedu1e111111111111111111111111");new We("Sysvar1nstructions1111111111111111111111111");const C0=new We("SysvarRecentB1ockHashes11111111111111111111"),b_=new We("SysvarRent111111111111111111111111111111111");new We("SysvarRewards111111111111111111111111111111");new We("SysvarS1otHashes111111111111111111111111111");new We("SysvarS1otHistory11111111111111111111111111");new We("SysvarStakeHistory1111111111111111111111111");class x_ extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let c;switch(e){case"send":c=`Transaction ${n} resulted in an error. 
${r}. `+i+a;break;case"simulate":c=`Simulation failed. 
Message: ${r}. 
`+i+a;break;default:c=`Unknown action '${(u=>u)(e)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class ze extends Error{constructor({code:e,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function Ga(t){return new Promise(e=>setTimeout(e,t))}function es(t,e){const n=t.layout.span>=0?t.layout.span:ZT(t,e),r=at.Buffer.alloc(n),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,r),r}const Q8=re.nu64("lamportsPerSignature"),eC=re.struct([re.u32("version"),re.u32("state"),dt("authorizedPubkey"),dt("nonce"),re.struct([Q8],"feeCalculator")]),S_=eC.span;class Jw{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=eC.decode(Vn(e),0);return new Jw({authorizedPubkey:new We(n.authorizedPubkey),nonce:new We(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Tl(t){const e=re.blob(8,t),n=e.decode.bind(e),r=e.encode.bind(e),s=e,i=Dj();return s.decode=(a,c)=>{const u=n(a,c);return i.decode(u)},s.encode=(a,c,u)=>{const f=i.encode(a);return r(f,c,u)},s}const ts=Object.freeze({Create:{index:0,layout:re.struct([re.u32("instruction"),re.ns64("lamports"),re.ns64("space"),dt("programId")])},Assign:{index:1,layout:re.struct([re.u32("instruction"),dt("programId")])},Transfer:{index:2,layout:re.struct([re.u32("instruction"),Tl("lamports")])},CreateWithSeed:{index:3,layout:re.struct([re.u32("instruction"),dt("base"),cl("seed"),re.ns64("lamports"),re.ns64("space"),dt("programId")])},AdvanceNonceAccount:{index:4,layout:re.struct([re.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:re.struct([re.u32("instruction"),dt("authorized")])},AuthorizeNonceAccount:{index:7,layout:re.struct([re.u32("instruction"),dt("authorized")])},Allocate:{index:8,layout:re.struct([re.u32("instruction"),re.ns64("space")])},AllocateWithSeed:{index:9,layout:re.struct([re.u32("instruction"),dt("base"),cl("seed"),re.ns64("space"),dt("programId")])},AssignWithSeed:{index:10,layout:re.struct([re.u32("instruction"),dt("base"),cl("seed"),dt("programId")])},TransferWithSeed:{index:11,layout:re.struct([re.u32("instruction"),Tl("lamports"),cl("seed"),dt("programId")])},UpgradeNonceAccount:{index:12,layout:re.struct([re.u32("instruction")])}});class Cl{constructor(){}static createAccount(e){const n=ts.Create,r=es(n,{lamports:e.lamports,space:e.space,programId:Vn(e.programId.toBuffer())});return new ys({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const s=ts.TransferWithSeed;n=es(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Vn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=ts.Transfer;n=es(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ys({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const s=ts.AssignWithSeed;n=es(s,{base:Vn(e.basePubkey.toBuffer()),seed:e.seed,programId:Vn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ts.Assign;n=es(s,{programId:Vn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ys({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=ts.CreateWithSeed,r=es(n,{base:Vn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Vn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ys({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const n=new kr;"basePubkey"in e&&"seed"in e?n.add(Cl.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:S_,programId:this.programId})):n.add(Cl.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:S_,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=ts.InitializeNonceAccount,r=es(n,{authorized:Vn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:C0,isSigner:!1,isWritable:!1},{pubkey:b_,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ys(s)}static nonceAdvance(e){const n=ts.AdvanceNonceAccount,r=es(n),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:C0,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ys(s)}static nonceWithdraw(e){const n=ts.WithdrawNonceAccount,r=es(n,{lamports:e.lamports});return new ys({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:C0,isSigner:!1,isWritable:!1},{pubkey:b_,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=ts.AuthorizeNonceAccount,r=es(n,{authorized:Vn(e.newAuthorizedPubkey.toBuffer())});return new ys({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const s=ts.AllocateWithSeed;n=es(s,{base:Vn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Vn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ts.Allocate;n=es(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ys({keys:r,programId:this.programId,data:n})}}Cl.programId=new We("11111111111111111111111111111111");new We("BPFLoader2111111111111111111111111111111111");function J8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R0,__;function Z8(){if(__)return R0;__=1;var t=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function n(r,s){var i,a,c,u,f,h,g;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(g=t.call(r),g==="[object Array]"){for(c="[",a=r.length-1,i=0;i<a;i++)c+=n(r[i],!0)+",";return a>-1&&(c+=n(r[i],!0)),c+"]"}else if(g==="[object Object]"){for(u=e(r).sort(),a=u.length,c="",i=0;i<a;)f=u[i],h=n(r[f],!1),h!==void 0&&(c&&(c+=","),c+=JSON.stringify(f)+":"+h),i++;return"{"+c+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return R0=function(r){var s=n(r,!1);if(s!==void 0)return""+s},R0}var X8=Z8(),E_=J8(X8);const Cc=32;function P0(t){let e=0;for(;t>1;)t/=2,e++;return e}function eD(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class tD{constructor(e,n,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=P0(eD(e+Cc+1))-P0(Cc)-1,r=this.getSlotsInEpoch(n),s=e-(r-Cc);return[n,s]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Cc:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+P0(Cc)):this.slotsPerEpoch}}var nD=globalThis.fetch;class rD extends x8{constructor(e,n,r){const s=i=>{const a=v8(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in a?this.underlyingSocket=a.socket:this.underlyingSocket=a,a};super(s,e,n,r),this.underlyingSocket=void 0}call(...e){const n=this.underlyingSocket?.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function sD(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const k_=56;class A_{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=sD(iD,e),r=e.length-k_;Xt(r>=0,"lookup table is invalid"),Xt(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=re.struct([re.seq(dt(),s,"addresses")]).decode(e.slice(k_));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new We(n.authority[0]):void 0,addresses:i.map(a=>new We(a))}}}const iD={index:1,layout:re.struct([re.u32("typeIndex"),Tl("deactivationSlot"),re.nu64("lastExtendedSlot"),re.u8("lastExtendedStartIndex"),re.u8(),re.seq(dt(),re.offset(re.u8(),-1),"authority")])},oD=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function aD(t){const e=t.match(oD);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,s,i]=e,a=t.startsWith("https:")?"wss:":"ws:",c=s==null?null:parseInt(s.slice(1),10),u=c==null?"":`:${c+1}`;return`${a}//${r}${u}${i}`}const an=Ou(Kw(We),Ae(),t=>new We(t)),tC=Hw([Ae(),sn("base64")]),Zw=Ou(Kw(at.Buffer),tC,t=>at.Buffer.from(t[0],"base64")),lD=30*1e3;function cD(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function $t(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...s}=t;e=r,n=s}return{commitment:e,config:n}}function T_(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function nC(t){return pr([Se({jsonrpc:sn("2.0"),id:Ae(),result:t}),Se({jsonrpc:sn("2.0"),id:Ae(),error:Se({code:Ll(),message:Ae(),data:$e(qj())})})])}const uD=nC(Ll());function ct(t){return Ou(nC(t),uD,e=>"error"in e?e:{...e,result:Te(e.result,t)})}function wn(t){return ct(Se({context:Se({slot:de()}),value:t}))}function qh(t){return Se({context:Se({slot:de()}),value:t})}function I0(t,e){return t===0?new uu({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new We(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Kn.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new mi(e)}const dD=Se({foundation:de(),foundationTerm:de(),initial:de(),taper:de(),terminal:de()}),fD=ct(Re(Pe(Se({epoch:de(),effectiveSlot:de(),amount:de(),postBalance:de(),commission:$e(Pe(de()))})))),hD=Re(Se({slot:de(),prioritizationFee:de()})),pD=Se({total:de(),validator:de(),foundation:de(),epoch:de()}),mD=Se({epoch:de(),slotIndex:de(),slotsInEpoch:de(),absoluteSlot:de(),blockHeight:$e(de()),transactionCount:$e(de())}),gD=Se({slotsPerEpoch:de(),leaderScheduleSlotOffset:de(),warmup:zs(),firstNormalEpoch:de(),firstNormalSlot:de()}),yD=BT(Ae(),Re(de())),ca=Pe(pr([Se({}),Ae()])),wD=Se({err:ca}),vD=sn("receivedSignature"),bD=Se({"solana-core":Ae(),"feature-set":$e(de())}),xD=Se({program:Ae(),programId:an,parsed:Ll()}),SD=Se({programId:an,accounts:Re(an),data:Ae()}),C_=wn(Se({err:Pe(pr([Se({}),Ae()])),logs:Pe(Re(Ae())),accounts:$e(Pe(Re(Pe(Se({executable:zs(),owner:Ae(),lamports:de(),data:Re(Ae()),rentEpoch:$e(de())}))))),unitsConsumed:$e(de()),returnData:$e(Pe(Se({programId:Ae(),data:Hw([Ae(),sn("base64")])}))),innerInstructions:$e(Pe(Re(Se({index:de(),instructions:Re(pr([xD,SD]))}))))})),_D=wn(Se({byIdentity:BT(Ae(),Re(de())),range:Se({firstSlot:de(),lastSlot:de()})}));function ED(t,e,n,r,s,i){const a=n||nD;let c;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return r&&(u=async(h,g)=>{const y=await new Promise((v,S)=>{try{r(h,g,(x,k)=>v([x,k]))}catch(x){S(x)}});return await a(...y)}),new m8(async(h,g)=>{const y={method:"POST",body:h,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},EU)};try{let v=5,S,x=500;for(;u?S=await u(t,y):S=await a(t,y),!(S.status!==429||s===!0||(v-=1,v===0));)console.error(`Server responded with ${S.status} ${S.statusText}.  Retrying after ${x}ms delay...`),await Ga(x),x*=2;const k=await S.text();S.ok?g(null,k):g(new Error(`${S.status} ${S.statusText}: ${k}`))}catch(v){v instanceof Error&&g(v)}},{})}function kD(t){return(e,n)=>new Promise((r,s)=>{t.request(e,n,(i,a)=>{if(i){s(i);return}r(a)})})}function AD(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const s=e.map(i=>t.request(i.methodName,i.args));t.request(s,(i,a)=>{if(i){r(i);return}n(a)})})}const TD=ct(dD),CD=ct(pD),RD=ct(hD),PD=ct(mD),ID=ct(gD),MD=ct(yD),ND=ct(de()),OD=wn(Se({total:de(),circulating:de(),nonCirculating:de(),nonCirculatingAccounts:Re(an)})),Xg=Se({amount:Ae(),uiAmount:Pe(de()),decimals:de(),uiAmountString:$e(Ae())}),LD=wn(Re(Se({address:an,amount:Ae(),uiAmount:Pe(de()),decimals:de(),uiAmountString:$e(Ae())}))),BD=wn(Re(Se({pubkey:an,account:Se({executable:zs(),owner:an,lamports:de(),data:Zw,rentEpoch:de()})}))),ey=Se({program:Ae(),parsed:Ll(),space:de()}),jD=wn(Re(Se({pubkey:an,account:Se({executable:zs(),owner:an,lamports:de(),data:ey,rentEpoch:de()})}))),DD=wn(Re(Se({lamports:de(),address:an}))),fu=Se({executable:zs(),owner:an,lamports:de(),data:Zw,rentEpoch:de()}),UD=Se({pubkey:an,account:fu}),FD=Ou(pr([Kw(at.Buffer),ey]),pr([tC,ey]),t=>Array.isArray(t)?Te(t,Zw):t),ty=Se({executable:zs(),owner:an,lamports:de(),data:FD,rentEpoch:de()}),zD=Se({pubkey:an,account:ty}),$D=Se({state:pr([sn("active"),sn("inactive"),sn("activating"),sn("deactivating")]),active:de(),inactive:de()}),WD=ct(Re(Se({signature:Ae(),slot:de(),err:ca,memo:Pe(Ae()),blockTime:$e(Pe(de()))}))),VD=ct(Re(Se({signature:Ae(),slot:de(),err:ca,memo:Pe(Ae()),blockTime:$e(Pe(de()))}))),qD=Se({subscription:de(),result:qh(fu)}),KD=Se({pubkey:an,account:fu}),HD=Se({subscription:de(),result:qh(KD)}),GD=Se({parent:de(),slot:de(),root:de()}),YD=Se({subscription:de(),result:GD}),QD=pr([Se({type:pr([sn("firstShredReceived"),sn("completed"),sn("optimisticConfirmation"),sn("root")]),slot:de(),timestamp:de()}),Se({type:sn("createdBank"),parent:de(),slot:de(),timestamp:de()}),Se({type:sn("frozen"),slot:de(),timestamp:de(),stats:Se({numTransactionEntries:de(),numSuccessfulTransactions:de(),numFailedTransactions:de(),maxTransactionsPerEntry:de()})}),Se({type:sn("dead"),slot:de(),timestamp:de(),err:Ae()})]),JD=Se({subscription:de(),result:QD}),ZD=Se({subscription:de(),result:qh(pr([wD,vD]))}),XD=Se({subscription:de(),result:de()}),eU=Se({pubkey:Ae(),gossip:Pe(Ae()),tpu:Pe(Ae()),rpc:Pe(Ae()),version:Pe(Ae())}),R_=Se({votePubkey:Ae(),nodePubkey:Ae(),activatedStake:de(),epochVoteAccount:zs(),epochCredits:Re(Hw([de(),de(),de()])),commission:de(),lastVote:de(),rootSlot:Pe(de())}),tU=ct(Se({current:Re(R_),delinquent:Re(R_)})),nU=pr([sn("processed"),sn("confirmed"),sn("finalized")]),rU=Se({slot:de(),confirmations:Pe(de()),err:ca,confirmationStatus:$e(nU)}),sU=wn(Re(Pe(rU))),iU=ct(de()),rC=Se({accountKey:an,writableIndexes:Re(de()),readonlyIndexes:Re(de())}),Xw=Se({signatures:Re(Ae()),message:Se({accountKeys:Re(Ae()),header:Se({numRequiredSignatures:de(),numReadonlySignedAccounts:de(),numReadonlyUnsignedAccounts:de()}),instructions:Re(Se({accounts:Re(de()),data:Ae(),programIdIndex:de()})),recentBlockhash:Ae(),addressTableLookups:$e(Re(rC))})}),sC=Se({pubkey:an,signer:zs(),writable:zs(),source:$e(pr([sn("transaction"),sn("lookupTable")]))}),iC=Se({accountKeys:Re(sC),signatures:Re(Ae())}),oC=Se({parsed:Ll(),program:Ae(),programId:an}),aC=Se({accounts:Re(an),data:Ae(),programId:an}),oU=pr([aC,oC]),aU=pr([Se({parsed:Ll(),program:Ae(),programId:Ae()}),Se({accounts:Re(Ae()),data:Ae(),programId:Ae()})]),lC=Ou(oU,aU,t=>"accounts"in t?Te(t,aC):Te(t,oC)),cC=Se({signatures:Re(Ae()),message:Se({accountKeys:Re(sC),instructions:Re(lC),recentBlockhash:Ae(),addressTableLookups:$e(Pe(Re(rC)))})}),ch=Se({accountIndex:de(),mint:Ae(),owner:$e(Ae()),programId:$e(Ae()),uiTokenAmount:Xg}),uC=Se({writable:Re(an),readonly:Re(an)}),Kh=Se({err:ca,fee:de(),innerInstructions:$e(Pe(Re(Se({index:de(),instructions:Re(Se({accounts:Re(de()),data:Ae(),programIdIndex:de()}))})))),preBalances:Re(de()),postBalances:Re(de()),logMessages:$e(Pe(Re(Ae()))),preTokenBalances:$e(Pe(Re(ch))),postTokenBalances:$e(Pe(Re(ch))),loadedAddresses:$e(uC),computeUnitsConsumed:$e(de()),costUnits:$e(de())}),ev=Se({err:ca,fee:de(),innerInstructions:$e(Pe(Re(Se({index:de(),instructions:Re(lC)})))),preBalances:Re(de()),postBalances:Re(de()),logMessages:$e(Pe(Re(Ae()))),preTokenBalances:$e(Pe(Re(ch))),postTokenBalances:$e(Pe(Re(ch))),loadedAddresses:$e(uC),computeUnitsConsumed:$e(de()),costUnits:$e(de())}),Bl=pr([sn(0),sn("legacy")]),ua=Se({pubkey:Ae(),lamports:de(),postBalance:Pe(de()),rewardType:Pe(Ae()),commission:$e(Pe(de()))}),lU=ct(Pe(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:de(),transactions:Re(Se({transaction:Xw,meta:Pe(Kh),version:$e(Bl)})),rewards:$e(Re(ua)),blockTime:Pe(de()),blockHeight:Pe(de())}))),cU=ct(Pe(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:de(),rewards:$e(Re(ua)),blockTime:Pe(de()),blockHeight:Pe(de())}))),uU=ct(Pe(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:de(),transactions:Re(Se({transaction:iC,meta:Pe(Kh),version:$e(Bl)})),rewards:$e(Re(ua)),blockTime:Pe(de()),blockHeight:Pe(de())}))),dU=ct(Pe(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:de(),transactions:Re(Se({transaction:cC,meta:Pe(ev),version:$e(Bl)})),rewards:$e(Re(ua)),blockTime:Pe(de()),blockHeight:Pe(de())}))),fU=ct(Pe(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:de(),transactions:Re(Se({transaction:iC,meta:Pe(ev),version:$e(Bl)})),rewards:$e(Re(ua)),blockTime:Pe(de()),blockHeight:Pe(de())}))),hU=ct(Pe(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:de(),rewards:$e(Re(ua)),blockTime:Pe(de()),blockHeight:Pe(de())}))),pU=ct(Pe(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:de(),transactions:Re(Se({transaction:Xw,meta:Pe(Kh)})),rewards:$e(Re(ua)),blockTime:Pe(de())}))),P_=ct(Pe(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:de(),signatures:Re(Ae()),blockTime:Pe(de())}))),M0=ct(Pe(Se({slot:de(),meta:Pe(Kh),blockTime:$e(Pe(de())),transaction:Xw,version:$e(Bl)}))),sf=ct(Pe(Se({slot:de(),transaction:cC,meta:Pe(ev),blockTime:$e(Pe(de())),version:$e(Bl)}))),mU=wn(Se({blockhash:Ae(),lastValidBlockHeight:de()})),gU=wn(zs()),yU=Se({slot:de(),numTransactions:de(),numSlots:de(),samplePeriodSecs:de()}),wU=ct(Re(yU)),vU=wn(Pe(Se({feeCalculator:Se({lamportsPerSignature:de()})}))),bU=ct(Ae()),xU=ct(Ae()),SU=Se({err:ca,logs:Re(Ae()),signature:Ae()}),_U=Se({result:qh(SU),subscription:de()}),EU={"solana-client":"js/1.0.0-maintenance"};class kU{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const f={};return async h=>{const{commitment:g,config:y}=$t(h),v=this._buildArgs([],g,void 0,y),S=E_(v);return f[S]=f[S]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",v),k=Te(x,ct(de()));if("error"in k)throw new ze(k.error,"failed to get block height information");return k.result}finally{delete f[S]}})(),await f[S]}})();let r,s,i,a,c,u;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,i=n.fetch,a=n.fetchMiddleware,c=n.disableRetryOnRateLimit,u=n.httpAgent),this._rpcEndpoint=cD(e),this._rpcWsEndpoint=r||aD(e),this._rpcClient=ED(e,s,i,a,c,u),this._rpcRequest=kD(this._rpcClient),this._rpcBatchRequest=AD(this._rpcClient),this._rpcWebSocket=new rD(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:s}=$t(n),i=this._buildArgs([e.toBase58()],r,void 0,s),a=await this._rpcRequest("getBalance",i),c=Te(a,wn(de()));if("error"in c)throw new ze(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=Te(n,ct(Pe(de())));if("error"in r)throw new ze(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=Te(e,ct(de()));if("error"in n)throw new ze(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=Te(e,ND);if("error"in n)throw new ze(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=Te(r,OD);if("error"in s)throw new ze(s.error,"failed to get supply");return s.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),i=Te(s,wn(Xg));if("error"in i)throw new ze(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),i=Te(s,wn(Xg));if("error"in i)throw new ze(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,n,r){const{commitment:s,config:i}=$t(r);let a=[e.toBase58()];"mint"in n?a.push({mint:n.mint.toBase58()}):a.push({programId:n.programId.toBase58()});const c=this._buildArgs(a,s,"base64",i),u=await this._rpcRequest("getTokenAccountsByOwner",c),f=Te(u,BD);if("error"in f)throw new ze(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getParsedTokenAccountsByOwner(e,n,r){let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",i),c=Te(a,jD);if("error"in c)throw new ze(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),i=Te(s,DD);if("error"in i)throw new ze(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),i=Te(s,LD);if("error"in i)throw new ze(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:s}=$t(n),i=this._buildArgs([e.toBase58()],r,"base64",s),a=await this._rpcRequest("getAccountInfo",i),c=Te(a,wn(Pe(fu)));if("error"in c)throw new ze(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,n){const{commitment:r,config:s}=$t(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),a=await this._rpcRequest("getAccountInfo",i),c=Te(a,wn(Pe(ty)));if("error"in c)throw new ze(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:s}=$t(n),i=e.map(f=>f.toBase58()),a=this._buildArgs([i],r,"jsonParsed",s),c=await this._rpcRequest("getMultipleAccounts",a),u=Te(c,wn(Re(Pe(ty))));if("error"in u)throw new ze(u.error,`failed to get info for accounts ${i}`);return u.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:s}=$t(n),i=e.map(f=>f.toBase58()),a=this._buildArgs([i],r,"base64",s),c=await this._rpcRequest("getMultipleAccounts",a),u=Te(c,wn(Re(Pe(fu))));if("error"in u)throw new ze(u.error,`failed to get info for accounts ${i}`);return u.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:s,config:i}=$t(n),a=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??i?.epoch}),c=await this._rpcRequest("getStakeActivation",a),u=Te(c,ct($D));if("error"in u)throw new ze(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,n){const{commitment:r,config:s}=$t(n),{encoding:i,...a}=s||{},c=this._buildArgs([e.toBase58()],r,i||"base64",{...a,...a.filters?{filters:T_(a.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",c),f=Re(UD),h=a.withContext===!0?Te(u,wn(f)):Te(u,ct(f));if("error"in h)throw new ze(h.error,`failed to get accounts owned by program ${e.toBase58()}`);return h.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:s}=$t(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),a=await this._rpcRequest("getProgramAccounts",i),c=Te(a,ct(Re(zD)));if("error"in c)throw new ze(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,n){let r;if(typeof e=="string")r=e;else{const i=e;if(i.abortSignal?.aborted)return Promise.reject(i.abortSignal.reason);r=i.signature}let s;try{s=Kn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Xt(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,s,i=!1;const a=new Promise((u,f)=>{try{r=this.onSignature(n,(g,y)=>{r=void 0;const v={context:y,value:g};u({__type:Gi.PROCESSED,response:v})},e);const h=new Promise(g=>{r==null?g():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&g()})});(async()=>{if(await h,i)return;const g=await this.getSignatureStatus(n);if(i||g==null)return;const{context:y,value:v}=g;if(v!=null)if(v?.err)f(v.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(v.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(v.confirmationStatus==="processed"||v.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,u({__type:Gi.PROCESSED,response:{context:y,value:v}})}})()}catch(h){f(h)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:a}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let i=!1;const a=new Promise(g=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let v=await y();if(!i){for(;v<=r;)if(await Ga(1e3),i||(v=await y(),i))return;g({__type:Gi.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),f=this.getCancellationPromise(n);let h;try{const g=await Promise.race([f,u,a]);if(g.__type===Gi.PROCESSED)h=g.response;else throw new QT(s)}finally{i=!0,c()}return h}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:a}}){let c=!1;const u=new Promise(v=>{let S=i,x=null;const k=async()=>{try{const{context:M,value:L}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return x=M.slot,L?.nonce}catch{return S}};(async()=>{if(S=await k(),!c)for(;;){if(i!==S){v({__type:Gi.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await Ga(2e3),c||(S=await k(),c))return}})()}),{abortConfirmation:f,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),g=this.getCancellationPromise(n);let y;try{const v=await Promise.race([g,h,u]);if(v.__type===Gi.PROCESSED)y=v.response;else{let S;for(;;){const x=await this.getSignatureStatus(a);if(x==null)break;if(x.context.slot<(v.slotInWhichNonceDidAdvance??r)){await Ga(400);continue}S=x;break}if(S?.value){const x=e||"finalized",{confirmationStatus:k}=S.value;switch(x){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new Bc(a);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new Bc(a);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new Bc(a);break;default:}y={context:S.context,value:{err:S.value.err}}}else throw new Bc(a)}}finally{c=!0,f()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const s=new Promise(u=>{let f=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{f=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>u({__type:Gi.TIMED_OUT,timeoutMs:f}),f)}),{abortConfirmation:i,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let c;try{const u=await Promise.race([a,s]);if(u.__type===Gi.PROCESSED)c=u.response;else throw new JT(n,u.timeoutMs/1e3)}finally{clearTimeout(r),i()}return c}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=Te(e,ct(Re(eU)));if("error"in n)throw new ze(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),s=Te(r,tU);if("error"in s)throw new ze(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:n,config:r}=$t(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",s),a=Te(i,ct(de()));if("error"in a)throw new ze(a.error,"failed to get slot");return a.result}async getSlotLeader(e){const{commitment:n,config:r}=$t(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",s),a=Te(i,ct(Ae()));if("error"in a)throw new ze(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,n){const r=[e,n],s=await this._rpcRequest("getSlotLeaders",r),i=Te(s,ct(Re(an)));if("error"in i)throw new ze(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,n){const{context:r,value:s}=await this.getSignatureStatuses([e],n);Xt(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),i=Te(s,sU);if("error"in i)throw new ze(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:n,config:r}=$t(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",s),a=Te(i,ct(de()));if("error"in a)throw new ze(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),s=Te(r,TD);if("error"in s)throw new ze(s.error,"failed to get inflation");return s.result}async getInflationReward(e,n,r){const{commitment:s,config:i}=$t(r),a=this._buildArgs([e.map(f=>f.toBase58())],s,void 0,{...i,epoch:n??i?.epoch}),c=await this._rpcRequest("getInflationReward",a),u=Te(c,fD);if("error"in u)throw new ze(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=Te(e,CD);if("error"in n)throw new ze(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=$t(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",s),a=Te(i,PD);if("error"in a)throw new ze(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=Te(e,ID);if("error"in n)throw new ze(n.error,"failed to get epoch schedule");const r=n.result;return new tD(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=Te(e,MD);if("error"in n)throw new ze(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=Te(s,iU);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=Te(n,wU);if("error"in r)throw new ze(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=Te(s,vU);if("error"in i)throw new ze(i.error,"failed to get fee calculator");const{context:a,value:c}=i.result;return{context:a,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,n){const r=Vn(e.serialize()).toString("base64"),s=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",s),a=Te(i,wn(Pe(de())));if("error"in a)throw new ze(a.error,"failed to get fee for message");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){const n=e?.lockedWritableAccounts?.map(a=>a.toBase58()),r=n?.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=Te(s,RD);if("error"in i)throw new ze(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=$t(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),a=Te(i,mU);if("error"in a)throw new ze(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,n){const{commitment:r,config:s}=$t(n),i=this._buildArgs([e],r,void 0,s),a=await this._rpcRequest("isBlockhashValid",i),c=Te(a,gU);if("error"in c)throw new ze(c.error,"failed to determine if the blockhash `"+e+"`is valid");return c.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=Te(e,ct(bD));if("error"in n)throw new ze(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=Te(e,ct(Ae()));if("error"in n)throw new ze(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:s}=$t(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),a=await this._rpcRequest("getBlock",i);try{switch(s?.transactionDetails){case"accounts":{const c=Te(a,uU);if("error"in c)throw c.error;return c.result}case"none":{const c=Te(a,cU);if("error"in c)throw c.error;return c.result}default:{const c=Te(a,lU);if("error"in c)throw c.error;const{result:u}=c;return u?{...u,transactions:u.transactions.map(({transaction:f,meta:h,version:g})=>({meta:h,transaction:{...f,message:I0(g,f.message)},version:g}))}:null}}}catch(c){throw new ze(c,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:s}=$t(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),a=await this._rpcRequest("getBlock",i);try{switch(s?.transactionDetails){case"accounts":{const c=Te(a,fU);if("error"in c)throw c.error;return c.result}case"none":{const c=Te(a,hU);if("error"in c)throw c.error;return c.result}default:{const c=Te(a,dU);if("error"in c)throw c.error;return c.result}}}catch(c){throw new ze(c,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:c,...u}=e;r=c,n=u}const s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",s),a=Te(i,_D);if("error"in a)throw new ze(a.error,"failed to get block production information");return a.result}async getTransaction(e,n){const{commitment:r,config:s}=$t(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),a=await this._rpcRequest("getTransaction",i),c=Te(a,M0);if("error"in c)throw new ze(c.error,"failed to get transaction");const u=c.result;return u&&{...u,transaction:{...u.transaction,message:I0(u.version,u.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:s}=$t(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),a=await this._rpcRequest("getTransaction",i),c=Te(a,sf);if("error"in c)throw new ze(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,n){const{commitment:r,config:s}=$t(n),i=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(u=>{const f=Te(u,sf);if("error"in f)throw new ze(f.error,"failed to get transactions");return f.result})}async getTransactions(e,n){const{commitment:r,config:s}=$t(n),i=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(u=>{const f=Te(u,M0);if("error"in f)throw new ze(f.error,"failed to get transactions");const h=f.result;return h&&{...h,transaction:{...h.transaction,message:I0(h.version,h.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getBlock",r),i=Te(s,pU);if("error"in i)throw new ze(i.error,"failed to get confirmed block");const a=i.result;if(!a)throw new Error("Confirmed block "+e+" not found");const c={...a,transactions:a.transactions.map(({transaction:u,meta:f})=>{const h=new mi(u.message);return{meta:f,transaction:{...u,message:h}}})};return{...c,transactions:c.transactions.map(({transaction:u,meta:f})=>({meta:f,transaction:kr.populate(u.message,u.signatures)}))}}async getBlocks(e,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),i=await this._rpcRequest("getBlocks",s),a=Te(i,ct(Re(de())));if("error"in a)throw new ze(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=Te(s,P_);if("error"in i)throw new ze(i.error,"failed to get block");const a=i.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=Te(s,P_);if("error"in i)throw new ze(i.error,"failed to get confirmed block");const a=i.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getTransaction",r),i=Te(s,M0);if("error"in i)throw new ze(i.error,"failed to get transaction");const a=i.result;if(!a)return a;const c=new mi(a.transaction.message),u=a.transaction.signatures;return{...a,transaction:kr.populate(c,u)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=Te(s,sf);if("error"in i)throw new ze(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,n){const r=e.map(a=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([a],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(a=>{const c=Te(a,sf);if("error"in c)throw new ze(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,n,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<i));)try{const u=await this.getConfirmedBlockSignatures(n,"finalized");u.signatures.length>0&&(s.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let a=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>a));)try{const u=await this.getConfirmedBlockSignatures(r);u.signatures.length>0&&(s.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),a=Te(i,WD);if("error"in a)throw new ze(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",s),a=Te(i,VD);if("error"in a)throw new ze(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=new A_({key:e,state:A_.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=Jw.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),s=Te(r,bU);if("error"in s)throw new ze(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Ga(100);const r=Date.now()-this._blockhashInfo.lastFetch>=lD;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Ga(Y8/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=$t(e),s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),a=Te(i,wn(de()));if("error"in a)throw new ze(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,n,r){if("message"in e){const x=e.serialize(),k=at.Buffer.from(x).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const M=n||{};M.encoding="base64","commitment"in M||(M.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(M.innerInstructions=n.innerInstructions);const L=[k,M],I=await this._rpcRequest("simulateTransaction",L),W=Te(I,C_);if("error"in W)throw new Error("failed to simulate transaction: "+W.error.message);return W.result}let s;if(e instanceof kr){let S=e;s=new kr,s.feePayer=S.feePayer,s.instructions=e.instructions,s.nonceInfo=S.nonceInfo,s.signatures=S.signatures}else s=kr.populate(e),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(s.nonceInfo&&i)s.sign(...i);else{let S=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(S);if(s.lastValidBlockHeight=x.lastValidBlockHeight,s.recentBlockhash=x.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const k=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else S=!0}}const a=s._compile(),c=a.serialize(),f=s._serialize(c).toString("base64"),h={encoding:"base64",commitment:this.commitment};if(r){const S=(Array.isArray(r)?r:a.nonProgramIds()).map(x=>x.toBase58());h.accounts={encoding:"base64",addresses:S}}i&&(h.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(h.innerInstructions=n.innerInstructions);const g=[f,h],y=await this._rpcRequest("simulateTransaction",g),v=Te(y,C_);if("error"in v){let S;if("data"in v.error&&(S=v.error.data.logs,S&&Array.isArray(S))){const x=`
    `,k=x+S.join(x);console.error(v.error.message,k)}throw new x_({action:"simulate",signature:"",transactionMessage:v.error.message,logs:S})}return v.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const a=e.serialize();return await this.sendRawTransaction(a,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(e.nonceInfo)e.sign(...s);else{let a=this._disableBlockhashCaching;for(;;){const c=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))a=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,n){const r=Vn(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},s=n&&n.skipPreflight,i=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const a=[e,r],c=await this._rpcRequest("sendTransaction",a),u=Te(c,xU);if("error"in u){let f;throw"data"in u.error&&(f=u.error.data.logs),new x_({action:s?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:f})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){const r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(i=>{try{i(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:a}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const c=await this._rpcWebSocket.call(a,i);this._setSubscription(r,{...s,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=s.callbacks,await this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${a}\``,{args:i,error:c}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:a}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(a,[i])}catch(c){if(c instanceof Error&&console.error(`${a} error:`,c.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=Te(e,qD);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,s=E_([e.method,n]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const a=this._subscriptionsByHash[s];Xt(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:s,config:i}=$t(r),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},a)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=Te(e,HD);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,s){const{commitment:i,config:a}=$t(r),c=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",a||(s?{filters:T_(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=Te(e,_U);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=Te(e,YD);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=Te(e,JD);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,s){const i=n||this._commitment;if(i||r||s){let a={};r&&(a.encoding=r),i&&(a.commitment=i),s&&(a=Object.assign(a,s)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,n,r,s){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,s)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=Te(e,ZD);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(a,c)=>{if(a.type==="status"){n(a.result,c);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,n,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},a=this._buildArgs([e],s,void 0,i),c=this._makeSubscription({callback:(u,f)=>{n(u,f);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=Te(e,XD);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:re.struct([re.u32("instruction"),Tl("recentSlot"),re.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:re.struct([re.u32("instruction")])},ExtendLookupTable:{index:2,layout:re.struct([re.u32("instruction"),Tl(),re.seq(dt(),re.offset(re.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:re.struct([re.u32("instruction")])},CloseLookupTable:{index:4,layout:re.struct([re.u32("instruction")])}});new We("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:re.struct([re.u8("instruction"),re.u32("units"),re.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:re.struct([re.u8("instruction"),re.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:re.struct([re.u8("instruction"),re.u32("units")])},SetComputeUnitPrice:{index:3,layout:re.struct([re.u8("instruction"),Tl("microLamports")])}});new We("ComputeBudget111111111111111111111111111111");re.struct([re.u8("numSignatures"),re.u8("padding"),re.u16("signatureOffset"),re.u16("signatureInstructionIndex"),re.u16("publicKeyOffset"),re.u16("publicKeyInstructionIndex"),re.u16("messageDataOffset"),re.u16("messageDataSize"),re.u16("messageInstructionIndex")]);new We("Ed25519SigVerify111111111111111111111111111");L8.utils.isValidPrivateKey;re.struct([re.u8("numSignatures"),re.u16("signatureOffset"),re.u8("signatureInstructionIndex"),re.u16("ethAddressOffset"),re.u8("ethAddressInstructionIndex"),re.u16("messageDataOffset"),re.u16("messageDataSize"),re.u8("messageInstructionIndex"),re.blob(20,"ethAddress"),re.blob(64,"signature"),re.u8("recoveryId")]);new We("KeccakSecp256k11111111111111111111111111111");var dC;new We("StakeConfig11111111111111111111111111111111");class fC{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}dC=fC;fC.default=new dC(0,0,We.default);Object.freeze({Initialize:{index:0,layout:re.struct([re.u32("instruction"),z8(),$8()])},Authorize:{index:1,layout:re.struct([re.u32("instruction"),dt("newAuthorized"),re.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:re.struct([re.u32("instruction")])},Split:{index:3,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},Withdraw:{index:4,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},Deactivate:{index:5,layout:re.struct([re.u32("instruction")])},Merge:{index:7,layout:re.struct([re.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:re.struct([re.u32("instruction"),dt("newAuthorized"),re.u32("stakeAuthorizationType"),cl("authoritySeed"),dt("authorityOwner")])}});new We("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:re.struct([re.u32("instruction"),W8()])},Authorize:{index:1,layout:re.struct([re.u32("instruction"),dt("newAuthorized"),re.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:re.struct([re.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:re.struct([re.u32("instruction"),V8()])}});new We("Vote111111111111111111111111111111111111111");new We("Va1idator1nfo111111111111111111111111111111");Se({name:Ae(),website:$e(Ae()),details:$e(Ae()),iconUrl:$e(Ae()),keybaseUsername:$e(Ae())});new We("Vote111111111111111111111111111111111111111");re.struct([dt("nodePubkey"),dt("authorizedWithdrawer"),re.u8("commission"),re.nu64(),re.seq(re.struct([re.nu64("slot"),re.u32("confirmationCount")]),re.offset(re.u32(),-8),"votes"),re.u8("rootSlotValid"),re.nu64("rootSlot"),re.nu64(),re.seq(re.struct([re.nu64("epoch"),dt("authorizedVoter")]),re.offset(re.u32(),-8),"authorizedVoters"),re.struct([re.seq(re.struct([dt("authorizedPubkey"),re.nu64("epochOfLastAuthorizedSwitch"),re.nu64("targetEpoch")]),32,"buf"),re.nu64("idx"),re.u8("isEmpty")],"priorVoters"),re.nu64(),re.seq(re.struct([re.nu64("epoch"),re.nu64("credits"),re.nu64("prevCredits")]),re.offset(re.u32(),-8),"epochCredits"),re.struct([re.nu64("slot"),re.nu64("timestamp")],"lastTimestamp")]);const N0=1e9,hC=D.createContext({});function AU(){return D.useContext(hC)}const TU=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=D.useMemo(()=>new kU(e,n),[e,n]);return _e.createElement(hC.Provider,{value:{connection:r}},t)};var O0={exports:{}},I_;function CU(){return I_||(I_=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function i(u,f,h,g,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new s(h,g||u,y),S=n?n+f:f;return u._events[S]?u._events[S].fn?u._events[S]=[u._events[S],v]:u._events[S].push(v):(u._events[S]=v,u._eventsCount++),u}function a(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)e.call(h,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=n?n+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,v=g.length,S=new Array(v);y<v;y++)S[y]=g[y].fn;return S},c.prototype.listenerCount=function(f){var h=n?n+f:f,g=this._events[h];return g?g.fn?1:g.length:0},c.prototype.emit=function(f,h,g,y,v,S){var x=n?n+f:f;if(!this._events[x])return!1;var k=this._events[x],M=arguments.length,L,I;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),M){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,h),!0;case 3:return k.fn.call(k.context,h,g),!0;case 4:return k.fn.call(k.context,h,g,y),!0;case 5:return k.fn.call(k.context,h,g,y,v),!0;case 6:return k.fn.call(k.context,h,g,y,v,S),!0}for(I=1,L=new Array(M-1);I<M;I++)L[I-1]=arguments[I];k.fn.apply(k.context,L)}else{var W=k.length,q;for(I=0;I<W;I++)switch(k[I].once&&this.removeListener(f,k[I].fn,void 0,!0),M){case 1:k[I].fn.call(k[I].context);break;case 2:k[I].fn.call(k[I].context,h);break;case 3:k[I].fn.call(k[I].context,h,g);break;case 4:k[I].fn.call(k[I].context,h,g,y);break;default:if(!L)for(q=1,L=new Array(M-1);q<M;q++)L[q-1]=arguments[q];k[I].fn.apply(k[I].context,L)}}return!0},c.prototype.on=function(f,h,g){return i(this,f,h,g,!1)},c.prototype.once=function(f,h,g){return i(this,f,h,g,!0)},c.prototype.removeListener=function(f,h,g,y){var v=n?n+f:f;if(!this._events[v])return this;if(!h)return a(this,v),this;var S=this._events[v];if(S.fn)S.fn===h&&(!y||S.once)&&(!g||S.context===g)&&a(this,v);else{for(var x=0,k=[],M=S.length;x<M;x++)(S[x].fn!==h||y&&!S[x].once||g&&S[x].context!==g)&&k.push(S[x]);k.length?this._events[v]=k.length===1?k[0]:k:a(this,v)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(O0)),O0.exports}var RU=CU();const PU=mo(RU);class ar extends Error{constructor(e,n){super(e),this.error=n}}class Rl extends ar{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class jc extends ar{constructor(){super(...arguments),this.name="WalletConfigError"}}class hu extends ar{constructor(){super(...arguments),this.name="WalletConnectionError"}}class pC extends ar{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class mC extends ar{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Ho extends ar{constructor(){super(...arguments),this.name="WalletAccountError"}}class uh extends ar{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Cr extends ar{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class oo extends ar{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class ci extends ar{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class tv extends ar{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class M_ extends ar{constructor(){super(...arguments),this.name="WalletSignInError"}}var St;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(St||(St={}));class gC extends PU{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const s=this.publicKey;if(!s)throw new Cr;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function IU(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const i of e)i()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function MU(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function ao(t){return"version"in t}class NU extends gC{async sendTransaction(e,n,r={}){let s=!0;try{if(ao(e)){if(!this.supportedTransactionVersions)throw new oo("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new oo(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof ci?(s=!1,i):new oo(i?.message,i)}}else try{const{signers:i,...a}=r;e=await this.prepareTransaction(e,n,a),i?.length&&e.partialSign(...i),e=await this.signTransaction(e);const c=e.serialize();return await n.sendRawTransaction(c,a)}catch(i){throw i instanceof ci?(s=!1,i):new oo(i?.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(e){for(const r of e)if(ao(r)){if(!this.supportedTransactionVersions)throw new ci("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new ci(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class yC extends NU{}class OU extends yC{}const Ar="solana:signAndSendTransaction",ta="solana:signIn",no="solana:signMessage",rn="solana:signTransaction",nv="standard:connect",ny="standard:disconnect",rv="standard:events";function LU(t){return nv in t.features&&rv in t.features&&(Ar in t.features||rn in t.features)}class N_ extends ar{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const BU=[],Hh={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){vs("call","select")},connect(){return Promise.reject(vs("call","connect"))},disconnect(){return Promise.reject(vs("call","disconnect"))},sendTransaction(){return Promise.reject(vs("call","sendTransaction"))},signTransaction(){return Promise.reject(vs("call","signTransaction"))},signAllTransactions(){return Promise.reject(vs("call","signAllTransactions"))},signMessage(){return Promise.reject(vs("call","signMessage"))},signIn(){return Promise.reject(vs("call","signIn"))}};Object.defineProperty(Hh,"wallets",{get(){return vs("read","wallets"),BU}});Object.defineProperty(Hh,"wallet",{get(){return vs("read","wallet"),null}});Object.defineProperty(Hh,"publicKey",{get(){return vs("read","publicKey"),null}});function vs(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const wC=D.createContext(Hh);function sv(){return D.useContext(wC)}function jU(t,e){const n=D.useState(()=>{try{const i=localStorage.getItem(t);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return e}),r=n[0],s=D.useRef(!0);return D.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,t]),n}var za={},L0,O_;function DU(){return O_||(O_=1,L0=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),L0}var B0={},Yi={},L_;function da(){if(L_)return Yi;L_=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Yi.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Yi.getSymbolTotalCodewords=function(r){return e[r]},Yi.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Yi.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},Yi.isKanjiModeEnabled=function(){return typeof t<"u"},Yi.toSJIS=function(r){return t(r)},Yi}var j0={},B_;function iv(){return B_||(B_=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(j0)),j0}var D0,j_;function UU(){if(j_)return D0;j_=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},D0=t,D0}var U0,D_;function FU(){if(D_)return U0;D_=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,s){const i=e*this.size+n;this.data[i]=r,s&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},U0=t,U0}var F0={},U_;function zU(){return U_||(U_=1,(function(t){const e=da().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),a=i===145?26:Math.ceil((i-13)/(2*s-2))*2,c=[i-7];for(let u=1;u<s-1;u++)c[u]=c[u-1]-a;return c.push(6),c.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),a=i.length;for(let c=0;c<a;c++)for(let u=0;u<a;u++)c===0&&u===0||c===0&&u===a-1||c===a-1&&u===0||s.push([i[c],i[u]]);return s}})(F0)),F0}var z0={},F_;function $U(){if(F_)return z0;F_=1;const t=da().getSymbolSize,e=7;return z0.getPositions=function(r){const s=t(r);return[[0,0],[s-e,0],[0,s-e]]},z0}var $0={},z_;function WU(){return z_||(z_=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let a=0,c=0,u=0,f=null,h=null;for(let g=0;g<i;g++){c=u=0,f=h=null;for(let y=0;y<i;y++){let v=s.get(g,y);v===f?c++:(c>=5&&(a+=e.N1+(c-5)),f=v,c=1),v=s.get(y,g),v===h?u++:(u>=5&&(a+=e.N1+(u-5)),h=v,u=1)}c>=5&&(a+=e.N1+(c-5)),u>=5&&(a+=e.N1+(u-5))}return a},t.getPenaltyN2=function(s){const i=s.size;let a=0;for(let c=0;c<i-1;c++)for(let u=0;u<i-1;u++){const f=s.get(c,u)+s.get(c,u+1)+s.get(c+1,u)+s.get(c+1,u+1);(f===4||f===0)&&a++}return a*e.N2},t.getPenaltyN3=function(s){const i=s.size;let a=0,c=0,u=0;for(let f=0;f<i;f++){c=u=0;for(let h=0;h<i;h++)c=c<<1&2047|s.get(f,h),h>=10&&(c===1488||c===93)&&a++,u=u<<1&2047|s.get(h,f),h>=10&&(u===1488||u===93)&&a++}return a*e.N3},t.getPenaltyN4=function(s){let i=0;const a=s.data.length;for(let u=0;u<a;u++)i+=s.data[u];return Math.abs(Math.ceil(i*100/a/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const a=i.size;for(let c=0;c<a;c++)for(let u=0;u<a;u++)i.isReserved(u,c)||i.xor(u,c,n(s,u,c))},t.getBestMask=function(s,i){const a=Object.keys(t.Patterns).length;let c=0,u=1/0;for(let f=0;f<a;f++){i(f),t.applyMask(f,s);const h=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(f,s),h<u&&(u=h,c=f)}return c}})($0)),$0}var of={},$_;function vC(){if($_)return of;$_=1;const t=iv(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return of.getBlocksCount=function(s,i){switch(i){case t.L:return e[(s-1)*4+0];case t.M:return e[(s-1)*4+1];case t.Q:return e[(s-1)*4+2];case t.H:return e[(s-1)*4+3];default:return}},of.getTotalCodewordsCount=function(s,i){switch(i){case t.L:return n[(s-1)*4+0];case t.M:return n[(s-1)*4+1];case t.Q:return n[(s-1)*4+2];case t.H:return n[(s-1)*4+3];default:return}},of}var W0={},Rc={},W_;function VU(){if(W_)return Rc;W_=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let s=0;s<255;s++)t[s]=r,e[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)t[s]=t[s-255]})(),Rc.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Rc.exp=function(r){return t[r]},Rc.mul=function(r,s){return r===0||s===0?0:t[e[r]+e[s]]},Rc}var V_;function qU(){return V_||(V_=1,(function(t){const e=VU();t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let a=0;a<r.length;a++)for(let c=0;c<s.length;c++)i[a+c]^=e.mul(r[a],s[c]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const a=i[0];for(let u=0;u<s.length;u++)i[u]^=e.mul(s[u],a);let c=0;for(;c<i.length&&i[c]===0;)c++;i=i.slice(c)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(W0)),W0}var V0,q_;function KU(){if(q_)return V0;q_=1;const t=qU();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const i=t.mod(s,this.genPoly),a=this.degree-i.length;if(a>0){const c=new Uint8Array(this.degree);return c.set(i,a),c}return i},V0=e,V0}var q0={},K0={},H0={},K_;function bC(){return K_||(K_=1,H0.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),H0}var Ns={},H_;function xC(){if(H_)return Ns;H_=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Ns.KANJI=new RegExp(n,"g"),Ns.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ns.BYTE=new RegExp(r,"g"),Ns.NUMERIC=new RegExp(t,"g"),Ns.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+n+"$"),i=new RegExp("^"+t+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ns.testKanji=function(u){return s.test(u)},Ns.testNumeric=function(u){return i.test(u)},Ns.testAlphanumeric=function(u){return a.test(u)},Ns}var G_;function fa(){return G_||(G_=1,(function(t){const e=bC(),n=xC();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,a){if(t.isValid(i))return i;try{return r(i)}catch{return a}}})(K0)),K0}var Y_;function HU(){return Y_||(Y_=1,(function(t){const e=da(),n=vC(),r=iv(),s=fa(),i=bC(),a=7973,c=e.getBCHDigit(a);function u(y,v,S){for(let x=1;x<=40;x++)if(v<=t.getCapacity(x,S,y))return x}function f(y,v){return s.getCharCountIndicator(y,v)+4}function h(y,v){let S=0;return y.forEach(function(x){const k=f(x.mode,v);S+=k+x.getBitsLength()}),S}function g(y,v){for(let S=1;S<=40;S++)if(h(y,S)<=t.getCapacity(S,v,s.MIXED))return S}t.from=function(v,S){return i.isValid(v)?parseInt(v,10):S},t.getCapacity=function(v,S,x){if(!i.isValid(v))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=s.BYTE);const k=e.getSymbolTotalCodewords(v),M=n.getTotalCodewordsCount(v,S),L=(k-M)*8;if(x===s.MIXED)return L;const I=L-f(x,v);switch(x){case s.NUMERIC:return Math.floor(I/10*3);case s.ALPHANUMERIC:return Math.floor(I/11*2);case s.KANJI:return Math.floor(I/13);case s.BYTE:default:return Math.floor(I/8)}},t.getBestVersionForData=function(v,S){let x;const k=r.from(S,r.M);if(Array.isArray(v)){if(v.length>1)return g(v,k);if(v.length===0)return 1;x=v[0]}else x=v;return u(x.mode,x.getLength(),k)},t.getEncodedBits=function(v){if(!i.isValid(v)||v<7)throw new Error("Invalid QR Code version");let S=v<<12;for(;e.getBCHDigit(S)-c>=0;)S^=a<<e.getBCHDigit(S)-c;return v<<12|S}})(q0)),q0}var G0={},Q_;function GU(){if(Q_)return G0;Q_=1;const t=da(),e=1335,n=21522,r=t.getBCHDigit(e);return G0.getEncodedBits=function(i,a){const c=i.bit<<3|a;let u=c<<10;for(;t.getBCHDigit(u)-r>=0;)u^=e<<t.getBCHDigit(u)-r;return(c<<10|u)^n},G0}var Y0={},Q0,J_;function YU(){if(J_)return Q0;J_=1;const t=fa();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let s,i,a;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),a=parseInt(i,10),r.put(a,10);const c=this.data.length-s;c>0&&(i=this.data.substr(s),a=parseInt(i,10),r.put(a,c*3+1))},Q0=e,Q0}var J0,Z_;function QU(){if(Z_)return J0;Z_=1;const t=fa(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let i;for(i=0;i+2<=this.data.length;i+=2){let a=e.indexOf(this.data[i])*45;a+=e.indexOf(this.data[i+1]),s.put(a,11)}this.data.length%2&&s.put(e.indexOf(this.data[i]),6)},J0=n,J0}var Z0,X_;function JU(){if(X_)return Z0;X_=1;const t=fa();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,s=this.data.length;r<s;r++)n.put(this.data[r],8)},Z0=e,Z0}var X0,eE;function ZU(){if(eE)return X0;eE=1;const t=fa(),e=da();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(s){return s*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let s;for(s=0;s<this.data.length;s++){let i=e.toSJIS(this.data[s]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},X0=n,X0}var eg={exports:{}},tE;function XU(){return tE||(tE=1,(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},a={};a[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var u,f,h,g,y,v,S,x,k;!c.empty();){u=c.pop(),f=u.value,g=u.cost,y=n[f]||{};for(h in y)y.hasOwnProperty(h)&&(v=y[h],S=g+v,x=a[h],k=typeof a[h]>"u",(k||x>S)&&(a[h]=S,c.push(h,S),i[h]=f))}if(typeof s<"u"&&typeof a[s]>"u"){var M=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(M)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(eg)),eg.exports}var nE;function eF(){return nE||(nE=1,(function(t){const e=fa(),n=YU(),r=QU(),s=JU(),i=ZU(),a=xC(),c=da(),u=XU();function f(M){return unescape(encodeURIComponent(M)).length}function h(M,L,I){const W=[];let q;for(;(q=M.exec(I))!==null;)W.push({data:q[0],index:q.index,mode:L,length:q[0].length});return W}function g(M){const L=h(a.NUMERIC,e.NUMERIC,M),I=h(a.ALPHANUMERIC,e.ALPHANUMERIC,M);let W,q;return c.isKanjiModeEnabled()?(W=h(a.BYTE,e.BYTE,M),q=h(a.KANJI,e.KANJI,M)):(W=h(a.BYTE_KANJI,e.BYTE,M),q=[]),L.concat(I,W,q).sort(function(te,ne){return te.index-ne.index}).map(function(te){return{data:te.data,mode:te.mode,length:te.length}})}function y(M,L){switch(L){case e.NUMERIC:return n.getBitsLength(M);case e.ALPHANUMERIC:return r.getBitsLength(M);case e.KANJI:return i.getBitsLength(M);case e.BYTE:return s.getBitsLength(M)}}function v(M){return M.reduce(function(L,I){const W=L.length-1>=0?L[L.length-1]:null;return W&&W.mode===I.mode?(L[L.length-1].data+=I.data,L):(L.push(I),L)},[])}function S(M){const L=[];for(let I=0;I<M.length;I++){const W=M[I];switch(W.mode){case e.NUMERIC:L.push([W,{data:W.data,mode:e.ALPHANUMERIC,length:W.length},{data:W.data,mode:e.BYTE,length:W.length}]);break;case e.ALPHANUMERIC:L.push([W,{data:W.data,mode:e.BYTE,length:W.length}]);break;case e.KANJI:L.push([W,{data:W.data,mode:e.BYTE,length:f(W.data)}]);break;case e.BYTE:L.push([{data:W.data,mode:e.BYTE,length:f(W.data)}])}}return L}function x(M,L){const I={},W={start:{}};let q=["start"];for(let J=0;J<M.length;J++){const te=M[J],ne=[];for(let z=0;z<te.length;z++){const G=te[z],X=""+J+z;ne.push(X),I[X]={node:G,lastCount:0},W[X]={};for(let Z=0;Z<q.length;Z++){const N=q[Z];I[N]&&I[N].node.mode===G.mode?(W[N][X]=y(I[N].lastCount+G.length,G.mode)-y(I[N].lastCount,G.mode),I[N].lastCount+=G.length):(I[N]&&(I[N].lastCount=G.length),W[N][X]=y(G.length,G.mode)+4+e.getCharCountIndicator(G.mode,L))}}q=ne}for(let J=0;J<q.length;J++)W[q[J]].end=0;return{map:W,table:I}}function k(M,L){let I;const W=e.getBestModeForData(M);if(I=e.from(L,W),I!==e.BYTE&&I.bit<W.bit)throw new Error('"'+M+'" cannot be encoded with mode '+e.toString(I)+`.
 Suggested mode is: `+e.toString(W));switch(I===e.KANJI&&!c.isKanjiModeEnabled()&&(I=e.BYTE),I){case e.NUMERIC:return new n(M);case e.ALPHANUMERIC:return new r(M);case e.KANJI:return new i(M);case e.BYTE:return new s(M)}}t.fromArray=function(L){return L.reduce(function(I,W){return typeof W=="string"?I.push(k(W,null)):W.data&&I.push(k(W.data,W.mode)),I},[])},t.fromString=function(L,I){const W=g(L,c.isKanjiModeEnabled()),q=S(W),J=x(q,I),te=u.find_path(J.map,"start","end"),ne=[];for(let z=1;z<te.length-1;z++)ne.push(J.table[te[z]].node);return t.fromArray(v(ne))},t.rawSplit=function(L){return t.fromArray(g(L,c.isKanjiModeEnabled()))}})(Y0)),Y0}var rE;function tF(){if(rE)return B0;rE=1;const t=da(),e=iv(),n=UU(),r=FU(),s=zU(),i=$U(),a=WU(),c=vC(),u=KU(),f=HU(),h=GU(),g=fa(),y=eF();function v(J,te){const ne=J.size,z=i.getPositions(te);for(let G=0;G<z.length;G++){const X=z[G][0],Z=z[G][1];for(let N=-1;N<=7;N++)if(!(X+N<=-1||ne<=X+N))for(let m=-1;m<=7;m++)Z+m<=-1||ne<=Z+m||(N>=0&&N<=6&&(m===0||m===6)||m>=0&&m<=6&&(N===0||N===6)||N>=2&&N<=4&&m>=2&&m<=4?J.set(X+N,Z+m,!0,!0):J.set(X+N,Z+m,!1,!0))}}function S(J){const te=J.size;for(let ne=8;ne<te-8;ne++){const z=ne%2===0;J.set(ne,6,z,!0),J.set(6,ne,z,!0)}}function x(J,te){const ne=s.getPositions(te);for(let z=0;z<ne.length;z++){const G=ne[z][0],X=ne[z][1];for(let Z=-2;Z<=2;Z++)for(let N=-2;N<=2;N++)Z===-2||Z===2||N===-2||N===2||Z===0&&N===0?J.set(G+Z,X+N,!0,!0):J.set(G+Z,X+N,!1,!0)}}function k(J,te){const ne=J.size,z=f.getEncodedBits(te);let G,X,Z;for(let N=0;N<18;N++)G=Math.floor(N/3),X=N%3+ne-8-3,Z=(z>>N&1)===1,J.set(G,X,Z,!0),J.set(X,G,Z,!0)}function M(J,te,ne){const z=J.size,G=h.getEncodedBits(te,ne);let X,Z;for(X=0;X<15;X++)Z=(G>>X&1)===1,X<6?J.set(X,8,Z,!0):X<8?J.set(X+1,8,Z,!0):J.set(z-15+X,8,Z,!0),X<8?J.set(8,z-X-1,Z,!0):X<9?J.set(8,15-X-1+1,Z,!0):J.set(8,15-X-1,Z,!0);J.set(z-8,8,1,!0)}function L(J,te){const ne=J.size;let z=-1,G=ne-1,X=7,Z=0;for(let N=ne-1;N>0;N-=2)for(N===6&&N--;;){for(let m=0;m<2;m++)if(!J.isReserved(G,N-m)){let E=!1;Z<te.length&&(E=(te[Z]>>>X&1)===1),J.set(G,N-m,E),X--,X===-1&&(Z++,X=7)}if(G+=z,G<0||ne<=G){G-=z,z=-z;break}}}function I(J,te,ne){const z=new n;ne.forEach(function(m){z.put(m.mode.bit,4),z.put(m.getLength(),g.getCharCountIndicator(m.mode,J)),m.write(z)});const G=t.getSymbolTotalCodewords(J),X=c.getTotalCodewordsCount(J,te),Z=(G-X)*8;for(z.getLengthInBits()+4<=Z&&z.put(0,4);z.getLengthInBits()%8!==0;)z.putBit(0);const N=(Z-z.getLengthInBits())/8;for(let m=0;m<N;m++)z.put(m%2?17:236,8);return W(z,J,te)}function W(J,te,ne){const z=t.getSymbolTotalCodewords(te),G=c.getTotalCodewordsCount(te,ne),X=z-G,Z=c.getBlocksCount(te,ne),N=z%Z,m=Z-N,E=Math.floor(z/Z),O=Math.floor(X/Z),j=O+1,B=E-O,V=new u(B);let H=0;const P=new Array(Z),w=new Array(Z);let _=0;const U=new Uint8Array(J.buffer);for(let we=0;we<Z;we++){const Ve=we<m?O:j;P[we]=U.slice(H,H+Ve),w[we]=V.encode(P[we]),H+=Ve,_=Math.max(_,Ve)}const K=new Uint8Array(z);let se=0,le,ge;for(le=0;le<_;le++)for(ge=0;ge<Z;ge++)le<P[ge].length&&(K[se++]=P[ge][le]);for(le=0;le<B;le++)for(ge=0;ge<Z;ge++)K[se++]=w[ge][le];return K}function q(J,te,ne,z){let G;if(Array.isArray(J))G=y.fromArray(J);else if(typeof J=="string"){let E=te;if(!E){const O=y.rawSplit(J);E=f.getBestVersionForData(O,ne)}G=y.fromString(J,E||40)}else throw new Error("Invalid data");const X=f.getBestVersionForData(G,ne);if(!X)throw new Error("The amount of data is too big to be stored in a QR Code");if(!te)te=X;else if(te<X)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+X+`.
`);const Z=I(te,ne,G),N=t.getSymbolSize(te),m=new r(N);return v(m,te),S(m),x(m,te),M(m,ne,0),te>=7&&k(m,te),L(m,Z),isNaN(z)&&(z=a.getBestMask(m,M.bind(null,m,ne))),a.applyMask(z,m),M(m,ne,z),{modules:m,version:te,errorCorrectionLevel:ne,maskPattern:z,segments:G}}return B0.create=function(te,ne){if(typeof te>"u"||te==="")throw new Error("No input text");let z=e.M,G,X;return typeof ne<"u"&&(z=e.from(ne.errorCorrectionLevel,e.M),G=f.from(ne.version),X=a.from(ne.maskPattern),ne.toSJISFunc&&t.setToSJISFunction(ne.toSJISFunc)),q(te,G,z,X)},B0}var tg={},ng={},sE;function SC(){return sE||(sE=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:i,scale:i?4:a,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const a=s.modules.size,c=s.modules.data,u=t.getScale(a,i),f=Math.floor((a+i.margin*2)*u),h=i.margin*u,g=[i.color.light,i.color.dark];for(let y=0;y<f;y++)for(let v=0;v<f;v++){let S=(y*f+v)*4,x=i.color.light;if(y>=h&&v>=h&&y<f-h&&v<f-h){const k=Math.floor((y-h)/u),M=Math.floor((v-h)/u);x=g[c[k*a+M]?1:0]}r[S++]=x.r,r[S++]=x.g,r[S++]=x.b,r[S]=x.a}}})(ng)),ng}var iE;function nF(){return iE||(iE=1,(function(t){const e=SC();function n(s,i,a){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,a,c){let u=c,f=a;typeof u>"u"&&(!a||!a.getContext)&&(u=a,a=void 0),a||(f=r()),u=e.getOptions(u);const h=e.getImageWidth(i.modules.size,u),g=f.getContext("2d"),y=g.createImageData(h,h);return e.qrToImageData(y.data,i,u),n(g,f,h),g.putImageData(y,0,0),f},t.renderToDataURL=function(i,a,c){let u=c;typeof u>"u"&&(!a||!a.getContext)&&(u=a,a=void 0),u||(u={});const f=t.render(i,a,u),h=u.type||"image/png",g=u.rendererOpts||{};return f.toDataURL(h,g.quality)}})(tg)),tg}var rg={},oE;function rF(){if(oE)return rg;oE=1;const t=SC();function e(s,i){const a=s.a/255,c=i+'="'+s.hex+'"';return a<1?c+" "+i+'-opacity="'+a.toFixed(2).slice(1)+'"':c}function n(s,i,a){let c=s+i;return typeof a<"u"&&(c+=" "+a),c}function r(s,i,a){let c="",u=0,f=!1,h=0;for(let g=0;g<s.length;g++){const y=Math.floor(g%i),v=Math.floor(g/i);!y&&!f&&(f=!0),s[g]?(h++,g>0&&y>0&&s[g-1]||(c+=f?n("M",y+a,.5+v+a):n("m",u,0),u=0,f=!1),y+1<i&&s[g+1]||(c+=n("h",h),h=0)):u++}return c}return rg.render=function(i,a,c){const u=t.getOptions(a),f=i.modules.size,h=i.modules.data,g=f+u.margin*2,y=u.color.light.a?"<path "+e(u.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",v="<path "+e(u.color.dark,"stroke")+' d="'+r(h,f,u.margin)+'"/>',S='viewBox="0 0 '+g+" "+g+'"',k='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+S+' shape-rendering="crispEdges">'+y+v+`</svg>
`;return typeof c=="function"&&c(null,k),k},rg}var aE;function sF(){if(aE)return za;aE=1;const t=DU(),e=tF(),n=nF(),r=rF();function s(i,a,c,u,f){const h=[].slice.call(arguments,1),g=h.length,y=typeof h[g-1]=="function";if(!y&&!t())throw new Error("Callback required as last argument");if(y){if(g<2)throw new Error("Too few arguments provided");g===2?(f=c,c=a,a=u=void 0):g===3&&(a.getContext&&typeof f>"u"?(f=u,u=void 0):(f=u,u=c,c=a,a=void 0))}else{if(g<1)throw new Error("Too few arguments provided");return g===1?(c=a,a=u=void 0):g===2&&!a.getContext&&(u=c,c=a,a=void 0),new Promise(function(v,S){try{const x=e.create(c,u);v(i(x,a,u))}catch(x){S(x)}})}try{const v=e.create(c,u);f(null,i(v,a,u))}catch(v){f(v)}}return za.create=e.create,za.toCanvas=s.bind(null,n.render),za.toDataURL=s.bind(null,n.renderToDataURL),za.toString=s.bind(null,function(i,a,c){return r.render(i,c)}),za}sF();function sg(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const dh="solana:mainnet",iF="solana:devnet",oF="solana:testnet",aF="solana:localnet",lF="https://api.mainnet-beta.solana.com";function cF(t){return t.includes(lF)?dh:/\bdevnet\b/i.test(t)?iF:/\btestnet\b/i.test(t)?oF:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?aF:dh}function uF(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}function dF(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}var fF=t=>dF({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let s=r.findIndex(u=>u!==0);s=s===-1?r.length:s;const i=t[0].repeat(s);if(s===r.length)return[i,e.length];const a=r.slice(s).reduce((u,f)=>u*256n+BigInt(f),0n),c=hF(a,t);return[i+c,e.length]}});function hF(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var pF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",mF=()=>fF(pF);const gi={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class yi extends Error{constructor(...e){const[n,r,s]=e;super(r),this.code=n,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class _C extends Error{constructor(...e){const[n,r,s,i]=e;super(s),this.code=r,this.data=i,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function En(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(h){try{f(r.next(h))}catch(g){a(g)}}function u(h){try{f(r.throw(h))}catch(g){a(g)}}function f(h){h.done?i(h.value):s(h.value).then(c,u)}f((r=r.apply(t,[])).next())})}function gF(t){return window.btoa(t)}function lE(t,e){return window.btoa(String.fromCharCode.call(null,...t))}function EC(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function ig(t,e){return En(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),s=new Uint8Array(n.byteLength+r.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(r),n.byteLength),s})}function yF(t){return uF(t)}function wF(t){return gF(yF(t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const vF="solana:signTransactions",cE="solana:cloneAuthorization";function bF(t){return mF().decode(t)}function xF(t){return bF(EC(t))}function SF(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(s){return En(this,void 0,void 0,function*(){const{method:i,params:a}=_F(r,s,t),c=yield e(i,a);return i==="authorize"&&a.sign_in_payload&&!c.sign_in_result&&(c.sign_in_result=yield kF(a.sign_in_payload,c,e)),EF(r,c,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function _F(t,e,n){let r=e,s=t.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:i}=r;if(n==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:a}=r;i&&(n==="legacy"?(s="reauthorize",r={auth_token:i,identity:a}):s="authorize");break}}return{method:s,params:r}}function EF(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const s=[vF];return r.supports_clone_authorization===!0&&s.push(cE),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(cE)})}}}return e}function kF(t,e,n){var r;return En(this,void 0,void 0,function*(){const s=(r=t.domain)!==null&&r!==void 0?r:window.location.host,i=e.accounts[0].address,a=wF(Object.assign(Object.assign({},t),{domain:s,address:xF(i)})),c=yield n("sign_messages",{addresses:[i],payloads:[a]}),u=EC(c.signed_payloads[0]),f=lE(u.slice(0,u.length-64)),h=lE(u.slice(u.length-64));return{address:i,signed_message:f.length==0?a:f,signature:h}})}const Go=4;function AF(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Go);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const ry=12,kC=65;function TF(t,e,n){return En(this,void 0,void 0,function*(){const r=AF(e),s=new Uint8Array(ry);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(TC(r,s),n,new TextEncoder().encode(t)),a=new Uint8Array(r.byteLength+s.byteLength+i.byteLength);return a.set(new Uint8Array(r),0),a.set(new Uint8Array(s),r.byteLength),a.set(new Uint8Array(i),r.byteLength+s.byteLength),a})}function AC(t,e){return En(this,void 0,void 0,function*(){const n=t.slice(0,Go),r=t.slice(Go,Go+ry),s=t.slice(Go+ry),i=yield crypto.subtle.decrypt(TC(n,r),e,s);return CF().decode(i)})}function TC(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let og;function CF(){return og===void 0&&(og=new TextDecoder("utf-8")),og}function RF(){return En(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function ag(){return En(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function PF(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let s=0;s<r;s++)e+=String.fromCharCode(n[s]);return window.btoa(e)}function IF(){return CC(49152+Math.floor(Math.random()*16384))}function CC(t){if(t<49152||t>65535)throw new yi(gi.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function MF(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const NF="solana-wallet";function uE(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function OF(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if(n?.protocol!=="https:")throw new yi(gi.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${NF}:/`));const r=t.startsWith("/")?t:[...uE(n.pathname),...uE(t)].join("/");return new URL(r,n)}function LF(t,e,n,r=["v1"]){return En(this,void 0,void 0,function*(){const s=CC(e),i=yield crypto.subtle.exportKey("raw",t),a=PF(i),c=OF("v1/associate/local",n);return c.searchParams.set("association",MF(a)),c.searchParams.set("port",`${s}`),r.forEach(u=>{c.searchParams.set("v",u)}),c})}function BF(t,e){return En(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return TF(n,r,e)})}function jF(t,e){return En(this,void 0,void 0,function*(){const n=yield AC(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new _C(r.id,r.error.code,r.error.message);return r})}function DF(t,e,n){return En(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,kC),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},n,256),a=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},a,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function UF(t,e){return En(this,void 0,void 0,function*(){const n=yield AC(t,e),r=JSON.parse(n);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new yi(gi.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}const fh={Firefox:0,Other:1};function FF(){return navigator.userAgent.indexOf("Firefox/")!==-1?fh.Firefox:fh.Other}function zF(){return new Promise((t,e)=>{function n(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const s=setTimeout(()=>{n(),e()},3e3)})}let Pc=null;function $F(t){Pc==null&&(Pc=document.createElement("iframe"),Pc.style.display="none",document.body.appendChild(Pc)),Pc.contentWindow.location.href=t.toString()}function WF(t){return En(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=FF();switch(e){case fh.Firefox:$F(t);break;case fh.Other:{const n=zF();window.location.assign(t),yield n;break}default:}}catch{throw new yi(gi.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function VF(t,e){return En(this,void 0,void 0,function*(){const n=IF(),r=yield LF(t,n,e);return yield WF(r),n})}const dE={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},qF="com.solana.mobilewalletadapter.v1";function KF(){if(typeof window>"u"||window.isSecureContext!==!0)throw new yi(gi.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function HF(t){let e;try{e=new URL(t)}catch{throw new yi(gi.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new yi(gi.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function fE(t){return new DataView(t).getUint32(0,!1)}function GF(t,e){return En(this,void 0,void 0,function*(){KF();const n=yield RF(),s=`ws://localhost:${yield VF(n.publicKey,e?.baseUri)}/solana-wallet`;let i;const a=(()=>{const h=[...dE.retryDelayScheduleMs];return()=>h.length>1?h.shift():h[0]})();let c=1,u=0,f={__type:"disconnected"};return new Promise((h,g)=>{let y;const v={},S=()=>En(this,void 0,void 0,function*(){if(f.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${f.__type}\`.`);return}y.removeEventListener("open",S);const{associationKeypair:q}=f,J=yield ag();y.send(yield ig(J.publicKey,q.privateKey)),f={__type:"hello_req_sent",associationPublicKey:q.publicKey,ecdhPrivateKey:J.privateKey}}),x=q=>{q.wasClean?f={__type:"disconnected"}:g(new yi(gi.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${q.code}: ${q.reason}).`,{closeEvent:q})),L()},k=q=>En(this,void 0,void 0,function*(){L(),Date.now()-i>=dE.timeoutMs?g(new yi(gi.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(J=>{const te=a();I=window.setTimeout(J,te)}),W())}),M=q=>En(this,void 0,void 0,function*(){const J=yield q.data.arrayBuffer();switch(f.__type){case"connecting":if(J.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const te=yield ag();y.send(yield ig(te.publicKey,n.privateKey)),f={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:te.privateKey};break;case"connected":try{const ne=J.slice(0,Go),z=fE(ne);if(z!==u+1)throw new Error("Encrypted message has invalid sequence number");u=z;const G=yield jF(J,f.sharedSecret),X=v[G.id];delete v[G.id],X.resolve(G.result)}catch(ne){if(ne instanceof _C){const z=v[ne.jsonRpcMessageId];delete v[ne.jsonRpcMessageId],z.reject(ne)}else throw ne}break;case"hello_req_sent":{if(J.byteLength===0){const Z=yield ag();y.send(yield ig(Z.publicKey,n.privateKey)),f={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:Z.privateKey};break}const ne=yield DF(J,f.associationPublicKey,f.ecdhPrivateKey),z=J.slice(kC),G=z.byteLength!==0?yield En(this,void 0,void 0,function*(){const Z=z.slice(0,Go),N=fE(Z);if(N!==u+1)throw new Error("Encrypted message has invalid sequence number");return u=N,UF(z,ne)}):{protocol_version:"legacy"};f={__type:"connected",sharedSecret:ne,sessionProperties:G};const X=SF(G.protocol_version,(Z,N)=>En(this,void 0,void 0,function*(){const m=c++;return y.send(yield BF({id:m,jsonrpc:"2.0",method:Z,params:N??{}},ne)),new Promise((E,O)=>{v[m]={resolve(j){switch(Z){case"authorize":case"reauthorize":{const{wallet_uri_base:B}=j;if(B!=null)try{HF(B)}catch(V){O(V);return}break}}E(j)},reject:O}})}));try{h(yield t(X))}catch(Z){g(Z)}finally{L(),y.close()}break}}});let L,I;const W=()=>{L&&L(),f={__type:"connecting",associationKeypair:n},i===void 0&&(i=Date.now()),y=new WebSocket(s,[qF]),y.addEventListener("open",S),y.addEventListener("close",x),y.addEventListener("error",k),y.addEventListener("message",M),L=()=>{window.clearTimeout(I),y.removeEventListener("open",S),y.removeEventListener("close",x),y.removeEventListener("error",k),y.removeEventListener("message",M)}};W()})})}var lg,hE;function YF(){if(hE)return lg;hE=1;function t(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),a=i.charCodeAt(0);if(n[a]!==255)throw new TypeError(i+" is ambiguous");n[a]=s}var c=e.length,u=e.charAt(0),f=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function g(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var x=0,k=0,M=0,L=S.length;M!==L&&S[M]===0;)M++,x++;for(var I=(L-M)*h+1>>>0,W=new Uint8Array(I);M!==L;){for(var q=S[M],J=0,te=I-1;(q!==0||J<k)&&te!==-1;te--,J++)q+=256*W[te]>>>0,W[te]=q%c>>>0,q=q/c>>>0;if(q!==0)throw new Error("Non-zero carry");k=J,M++}for(var ne=I-k;ne!==I&&W[ne]===0;)ne++;for(var z=u.repeat(x);ne<I;++ne)z+=e.charAt(W[ne]);return z}function y(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;for(var x=0,k=0,M=0;S[x]===u;)k++,x++;for(var L=(S.length-x)*f+1>>>0,I=new Uint8Array(L);S[x];){var W=S.charCodeAt(x);if(W>255)return;var q=n[W];if(q===255)return;for(var J=0,te=L-1;(q!==0||J<M)&&te!==-1;te--,J++)q+=c*I[te]>>>0,I[te]=q%256>>>0,q=q/256>>>0;if(q!==0)throw new Error("Non-zero carry");M=J,x++}for(var ne=L-M;ne!==L&&I[ne]===0;)ne++;for(var z=new Uint8Array(k+(L-ne)),G=k;ne!==L;)z[G++]=I[ne++];return z}function v(S){var x=y(S);if(x)return x;throw new Error("Non-base"+c+" character")}return{encode:g,decodeUnsafe:y,decode:v}}return lg=t,lg}var cg,pE;function QF(){return pE||(pE=1,cg=YF()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),cg}var JF=QF();const sy=mo(JF);function Zt(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(h){try{f(r.next(h))}catch(g){a(g)}}function u(h){try{f(r.throw(h))}catch(g){a(g)}}function f(h){h.done?i(h.value):s(h.value).then(c,u)}f((r=r.apply(t,[])).next())})}function ve(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function bn(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Dc,Rn,Bo,Ya,RC,PC,IC,_f;const ZF=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,XF=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,ez=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class tz{constructor(){Dc.add(this),Rn.set(this,null),Bo.set(this,{}),Ya.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),ve(this,Dc,"m",PC).call(this),ve(this,Rn,"f")&&(ve(this,Rn,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),ve(this,Dc,"m",IC).call(this),ve(this,Rn,"f")&&(ve(this,Rn,"f").style.display="none"),(n=ve(this,Bo,"f").close)===null||n===void 0||n.forEach(r=>r(e))},_f.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),bn(this,Rn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Zt(this,void 0,void 0,function*(){console.log("Injecting modal"),ve(this,Dc,"m",RC).call(this)})}addEventListener(e,n){var r;return!((r=ve(this,Bo,"f")[e])===null||r===void 0)&&r.push(n)||(ve(this,Bo,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;ve(this,Bo,"f")[e]=(r=ve(this,Bo,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)}}Rn=new WeakMap,Bo=new WeakMap,Ya=new WeakMap,_f=new WeakMap,Dc=new WeakSet,RC=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){ve(this,Rn,"f")||bn(this,Rn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}bn(this,Rn,document.createElement("div")),ve(this,Rn,"f").id="mobile-wallet-adapter-embedded-root-ui",ve(this,Rn,"f").innerHTML=ZF,ve(this,Rn,"f").style.display="none";const e=ve(this,Rn,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=XF+this.contentStyles;const r=document.createElement("div");r.innerHTML=ez,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(ve(this,Rn,"f")),document.body.appendChild(r)},PC=function(){if(!ve(this,Rn,"f")||ve(this,Ya,"f"))return;[...ve(this,Rn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n?.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",ve(this,_f,"f")),bn(this,Ya,!0)},IC=function(){if(!ve(this,Ya,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",ve(this,_f,"f")),!ve(this,Rn,"f")))return;[...ve(this,Rn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n?.removeEventListener("click",this.close)),bn(this,Ya,!1)};const nz="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function af(t){return window.btoa(String.fromCharCode.call(null,...t))}function Qi(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var Qa,Yo,iy,oy,ay,ly,Uc,sr,ti,Zi,Ja,jo,Ef,Fc,kf,cy,Af,MC,uy,Tf,Za,Cf,zc,Rf,Xa,$c,Pf,dy,fy,If,Mf,hy,py,Nf;const NC="Mobile Wallet Adapter",rz=64,sz=[Ar,rn,no,ta];class iz{constructor(e){Qa.add(this),Yo.set(this,{}),iy.set(this,"1.0.0"),oy.set(this,NC),ay.set(this,"https://solanamobile.com/wallets"),ly.set(this,nz),Uc.set(this,void 0),sr.set(this,void 0),ti.set(this,void 0),Zi.set(this,!1),Ja.set(this,0),jo.set(this,[]),Ef.set(this,void 0),Fc.set(this,void 0),kf.set(this,void 0),cy.set(this,(n,r)=>{var s;return!((s=ve(this,Yo,"f")[n])===null||s===void 0)&&s.push(r)||(ve(this,Yo,"f")[n]=[r]),()=>ve(this,Qa,"m",MC).call(this,n,r)}),uy.set(this,({silent:n}={})=>Zt(this,void 0,void 0,function*(){if(ve(this,Zi,"f")||this.connected)return{accounts:this.accounts};bn(this,Zi,!0);try{if(n){const r=yield ve(this,ti,"f").get();if(r)yield ve(this,Cf,"f").call(this,r.capabilities),yield ve(this,Za,"f").call(this,r);else return{accounts:this.accounts}}else yield ve(this,Tf,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{bn(this,Zi,!1)}return{accounts:this.accounts}})),Tf.set(this,n=>Zt(this,void 0,void 0,function*(){try{const r=yield ve(this,ti,"f").get();if(r)return ve(this,Za,"f").call(this,r),r;const s=yield ve(this,Ef,"f").select(ve(this,jo,"f"));return yield ve(this,Xa,"f").call(this,i=>Zt(this,void 0,void 0,function*(){const[a,c]=yield Promise.all([i.getCapabilities(),i.authorize({chain:s,identity:ve(this,Uc,"f"),sign_in_payload:n})]),u=ve(this,Pf,"f").call(this,c.accounts),f=Object.assign(Object.assign({},c),{accounts:u,chain:s,capabilities:a});return Promise.all([ve(this,Cf,"f").call(this,a),ve(this,ti,"f").set(f),ve(this,Za,"f").call(this,f)]),f}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Za.set(this,n=>Zt(this,void 0,void 0,function*(){var r;const s=ve(this,sr,"f")==null||((r=ve(this,sr,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||ve(this,sr,"f").accounts.some((i,a)=>i.address!==n.accounts[a].address);bn(this,sr,n),s&&ve(this,Qa,"m",Af).call(this,"change",{accounts:this.accounts})})),Cf.set(this,n=>Zt(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),s=n.supports_sign_and_send_transactions,i=Ar in this.features!==s||rn in this.features!==r;bn(this,Fc,Object.assign(Object.assign({},(s||!s&&!r)&&{[Ar]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ve(this,If,"f")}}),r&&{[rn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ve(this,Mf,"f")}})),i&&ve(this,Qa,"m",Af).call(this,"change",{features:this.features})})),zc.set(this,(n,r,s)=>Zt(this,void 0,void 0,function*(){var i,a;try{const[c,u]=yield Promise.all([(a=(i=ve(this,sr,"f"))===null||i===void 0?void 0:i.capabilities)!==null&&a!==void 0?a:yield n.getCapabilities(),n.authorize({auth_token:r,identity:ve(this,Uc,"f"),chain:s})]),f=ve(this,Pf,"f").call(this,u.accounts),h=Object.assign(Object.assign({},u),{accounts:f,chain:s,capabilities:c});Promise.all([ve(this,ti,"f").set(h),ve(this,Za,"f").call(this,h)])}catch(c){throw ve(this,Rf,"f").call(this),new Error(c instanceof Error&&c.message||"Unknown error")}})),Rf.set(this,()=>Zt(this,void 0,void 0,function*(){var n;ve(this,ti,"f").clear(),bn(this,Zi,!1),bn(this,Ja,(n=ve(this,Ja,"f"),n++,n)),bn(this,sr,void 0),ve(this,Qa,"m",Af).call(this,"change",{accounts:this.accounts})})),Xa.set(this,n=>Zt(this,void 0,void 0,function*(){var r;const s=(r=ve(this,sr,"f"))===null||r===void 0?void 0:r.wallet_uri_base,i=s?{baseUri:s}:void 0,a=ve(this,Ja,"f");try{return yield GF(n,i)}catch(c){throw ve(this,Ja,"f")!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield ve(this,kf,"f").call(this,this)),c}})),$c.set(this,()=>{if(!ve(this,sr,"f"))throw new Error("Wallet not connected");return{authToken:ve(this,sr,"f").auth_token,chain:ve(this,sr,"f").chain}}),Pf.set(this,n=>n.map(r=>{var s,i;const a=Qi(r.address);return{address:sy.encode(a),publicKey:a,label:r.label,icon:r.icon,chains:(s=r.chains)!==null&&s!==void 0?s:ve(this,jo,"f"),features:(i=r.features)!==null&&i!==void 0?i:sz}})),dy.set(this,n=>Zt(this,void 0,void 0,function*(){const{authToken:r,chain:s}=ve(this,$c,"f").call(this);try{const i=n.map(a=>af(a));return yield ve(this,Xa,"f").call(this,a=>Zt(this,void 0,void 0,function*(){return yield ve(this,zc,"f").call(this,a,r,s),(yield a.signTransactions({payloads:i})).signed_payloads.map(Qi)}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),fy.set(this,(n,r)=>Zt(this,void 0,void 0,function*(){const{authToken:s,chain:i}=ve(this,$c,"f").call(this);try{return yield ve(this,Xa,"f").call(this,a=>Zt(this,void 0,void 0,function*(){const[c,u]=yield Promise.all([a.getCapabilities(),ve(this,zc,"f").call(this,a,s,i)]);if(c.supports_sign_and_send_transactions){const f=af(n);return(yield a.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[f]}))).signatures.map(Qi)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),If.set(this,(...n)=>Zt(this,void 0,void 0,function*(){const r=[];for(const s of n){const i=yield ve(this,fy,"f").call(this,s.transaction,s.options);r.push({signature:i})}return r})),Mf.set(this,(...n)=>Zt(this,void 0,void 0,function*(){return(yield ve(this,dy,"f").call(this,n.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),hy.set(this,(...n)=>Zt(this,void 0,void 0,function*(){const{authToken:r,chain:s}=ve(this,$c,"f").call(this),i=n.map(({account:c})=>af(c.publicKey)),a=n.map(({message:c})=>af(c));try{return yield ve(this,Xa,"f").call(this,c=>Zt(this,void 0,void 0,function*(){return yield ve(this,zc,"f").call(this,c,r,s),(yield c.signMessages({addresses:i,payloads:a})).signed_payloads.map(Qi).map(f=>({signedMessage:f,signature:f.slice(-rz)}))}))}catch(c){throw new Error(c instanceof Error&&c.message||"Unknown error")}})),py.set(this,(...n)=>Zt(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const s of n)r.push(yield ve(this,Nf,"f").call(this,s));else return[yield ve(this,Nf,"f").call(this,n[0])];return r})),Nf.set(this,n=>Zt(this,void 0,void 0,function*(){var r,s,i;bn(this,Zi,!0);try{const a=yield ve(this,Tf,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n?.domain)!==null&&r!==void 0?r:window.location.host}));if(!a.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const c=a.sign_in_result.address,u=a.accounts.find(f=>f.address==c);return{account:Object.assign(Object.assign({},u??{address:sy.encode(Qi(c))}),{publicKey:Qi(c),chains:(s=u?.chains)!==null&&s!==void 0?s:ve(this,jo,"f"),features:(i=u?.features)!==null&&i!==void 0?i:a.capabilities.features}),signedMessage:Qi(a.sign_in_result.signed_message),signature:Qi(a.sign_in_result.signature)}}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}finally{bn(this,Zi,!1)}})),bn(this,ti,e.authorizationCache),bn(this,Uc,e.appIdentity),bn(this,jo,e.chains),bn(this,Ef,e.chainSelector),bn(this,kf,e.onWalletNotFound),bn(this,Fc,{[Ar]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ve(this,If,"f")},[rn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ve(this,Mf,"f")}})}get version(){return ve(this,iy,"f")}get name(){return ve(this,oy,"f")}get url(){return ve(this,ay,"f")}get icon(){return ve(this,ly,"f")}get chains(){return ve(this,jo,"f")}get features(){return Object.assign({[nv]:{version:"1.0.0",connect:ve(this,uy,"f")},[ny]:{version:"1.0.0",disconnect:ve(this,Rf,"f")},[rv]:{version:"1.0.0",on:ve(this,cy,"f")},[no]:{version:"1.0.0",signMessage:ve(this,hy,"f")},[ta]:{version:"1.0.0",signIn:ve(this,py,"f")}},ve(this,Fc,"f"))}get accounts(){var e,n;return(n=(e=ve(this,sr,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!ve(this,sr,"f")}get isAuthorized(){return!!ve(this,sr,"f")}get currentAuthorization(){return ve(this,sr,"f")}get cachedAuthorizationResult(){return ve(this,ti,"f").get()}}Yo=new WeakMap,iy=new WeakMap,oy=new WeakMap,ay=new WeakMap,ly=new WeakMap,Uc=new WeakMap,sr=new WeakMap,ti=new WeakMap,Zi=new WeakMap,Ja=new WeakMap,jo=new WeakMap,Ef=new WeakMap,Fc=new WeakMap,kf=new WeakMap,cy=new WeakMap,uy=new WeakMap,Tf=new WeakMap,Za=new WeakMap,Cf=new WeakMap,zc=new WeakMap,Rf=new WeakMap,Xa=new WeakMap,$c=new WeakMap,Pf=new WeakMap,dy=new WeakMap,fy=new WeakMap,If=new WeakMap,Mf=new WeakMap,hy=new WeakMap,py=new WeakMap,Nf=new WeakMap,Qa=new WeakSet,Af=function(e,...n){var r;(r=ve(this,Yo,"f")[e])===null||r===void 0||r.forEach(s=>s.apply(null,n))},MC=function(e,n){var r;ve(this,Yo,"f")[e]=(r=ve(this,Yo,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)};const oz="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",az="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class lz extends tz{constructor(){super(...arguments),this.contentStyles=uz,this.contentHtml=cz}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const s=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(s){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":s.innerHTML=oz,i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":s.innerHTML=az,i&&(i.style.display="none");return}s.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const cz=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,uz=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function dz(){return Zt(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new lz;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const ug="SolanaMobileWalletAdapterDefaultAuthorizationCache";function fz(){let t;try{t=window.localStorage}catch{}return{clear(){return Zt(this,void 0,void 0,function*(){if(t)try{t.removeItem(ug)}catch{}})},get(){return Zt(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(ug));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):sy.decode(r.address)}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return Zt(this,void 0,void 0,function*(){if(t)try{t.setItem(ug,JSON.stringify(e))}catch{}})}}}function hz(){return{select(t){return Zt(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(dh)?dh:t[0]})}}}function Vt(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(h){try{f(r.next(h))}catch(g){a(g)}}function u(h){try{f(r.throw(h))}catch(g){a(g)}}function f(h){h.done?i(h.value):s(h.value).then(c,u)}f((r=r.apply(t,[])).next())})}function Ge(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Br(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const my="standard:connect",pz="standard:disconnect",mz="standard:events";function dg(t){return window.btoa(String.fromCharCode.call(null,...t))}function gz(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var On,nn,ro,ai,Of,si,Do,gy,yy,OC,hh,Lf,eo;const Bf=NC,yz=64;function wz(t){return"version"in t}function LC(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class vz extends OU{constructor(e,n){super(),On.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),nn.set(this,void 0),ro.set(this,!1),ai.set(this,gz()?St.Loadable:St.Unsupported),Of.set(this,void 0),si.set(this,void 0),Do.set(this,void 0),gy.set(this,r=>Vt(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Ge(this,On,"m",OC).call(this);const s=yield Ge(this,Of,"f").call(this,r.accounts);s!==Ge(this,si,"f")&&(Br(this,si,s),Br(this,Do,void 0),this.emit("connect",this.publicKey))}})),Br(this,Of,r=>Vt(this,void 0,void 0,function*(){var s;const i=yield n.addressSelector.select(r.map(({publicKey:a})=>dg(a)));return(s=r.find(({publicKey:a})=>dg(a)===i))!==null&&s!==void 0?s:r[0]})),Br(this,nn,e),Ge(this,nn,"f").features[mz].on("change",Ge(this,gy,"f")),this.name=Ge(this,nn,"f").name,this.icon=Ge(this,nn,"f").icon,this.url=Ge(this,nn,"f").url}get publicKey(){var e;if(!Ge(this,Do,"f")&&Ge(this,si,"f"))try{Br(this,Do,new We(Ge(this,si,"f").publicKey),"f")}catch(n){throw new uh(n instanceof Error&&n?.message||"Unknown error",n)}return(e=Ge(this,Do,"f"))!==null&&e!==void 0?e:null}get connected(){return Ge(this,nn,"f").connected}get connecting(){return Ge(this,ro,"f")}get readyState(){return Ge(this,ai,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Vt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Vt(this,void 0,void 0,function*(){Ge(this,On,"m",yy).call(this,!0)})}connect(){return Vt(this,void 0,void 0,function*(){Ge(this,On,"m",yy).call(this)})}performAuthorization(e){return Vt(this,void 0,void 0,function*(){try{const n=yield Ge(this,nn,"f").cachedAuthorizationResult;return n?(yield Ge(this,nn,"f").features[my].connect({silent:!0}),n):(e?yield Ge(this,nn,"f").features[ta].signIn(e):yield Ge(this,nn,"f").features[my].connect(),yield yield Ge(this,nn,"f").cachedAuthorizationResult)}catch(n){throw new hu(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return Vt(this,void 0,void 0,function*(){return yield Ge(this,On,"m",eo).call(this,()=>Vt(this,void 0,void 0,function*(){Br(this,ro,!1),Br(this,Do,void 0),Br(this,si,void 0),yield Ge(this,nn,"f").features[pz].disconnect(),this.emit("disconnect")}))})}signIn(e){return Vt(this,void 0,void 0,function*(){return Ge(this,On,"m",eo).call(this,()=>Vt(this,void 0,void 0,function*(){var n;if(Ge(this,ai,"f")!==St.Installed&&Ge(this,ai,"f")!==St.Loadable)throw new Rl;Br(this,ro,!0);try{const r=yield Ge(this,nn,"f").features[ta].signIn(Object.assign(Object.assign({},e),{domain:(n=e?.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new hu(r instanceof Error&&r.message||"Unknown error",r)}finally{Br(this,ro,!1)}}))})}signMessage(e){return Vt(this,void 0,void 0,function*(){return yield Ge(this,On,"m",eo).call(this,()=>Vt(this,void 0,void 0,function*(){const n=Ge(this,On,"m",hh).call(this);try{return(yield Ge(this,nn,"f").features[no].signMessage({account:n,message:e}))[0].signature}catch(r){throw new tv(r?.message,r)}}))})}sendTransaction(e,n,r){return Vt(this,void 0,void 0,function*(){return yield Ge(this,On,"m",eo).call(this,()=>Vt(this,void 0,void 0,function*(){const s=Ge(this,On,"m",hh).call(this);try{let a=function(){let c;switch(n.commitment){case"confirmed":case"finalized":case"processed":c=n.commitment;break;default:c="finalized"}let u;switch(r?.preflightCommitment){case"confirmed":case"finalized":case"processed":u=r.preflightCommitment;break;case void 0:u=c;break;default:u="finalized"}return(u==="finalized"?2:u==="confirmed"?1:0)<(c==="finalized"?2:c==="confirmed"?1:0)?u:c};var i=a;if(Ar in Ge(this,nn,"f").features){const c=LC(Ge(this,nn,"f").currentAuthorization.chain),[u]=(yield Ge(this,nn,"f").features[Ar].signAndSendTransaction({account:s,transaction:e.serialize(),chain:c,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map((f=>dg(f.signature)));return u}else{const[c]=yield Ge(this,On,"m",Lf).call(this,[e]);if(wz(c))return yield n.sendTransaction(c);{const u=c.serialize();return yield n.sendRawTransaction(u,Object.assign(Object.assign({},r),{preflightCommitment:a()}))}}}catch(a){throw new oo(a?.message,a)}}))})}signTransaction(e){return Vt(this,void 0,void 0,function*(){return yield Ge(this,On,"m",eo).call(this,()=>Vt(this,void 0,void 0,function*(){const[n]=yield Ge(this,On,"m",Lf).call(this,[e]);return n}))})}signAllTransactions(e){return Vt(this,void 0,void 0,function*(){return yield Ge(this,On,"m",eo).call(this,()=>Vt(this,void 0,void 0,function*(){return yield Ge(this,On,"m",Lf).call(this,e)}))})}}nn=new WeakMap,ro=new WeakMap,ai=new WeakMap,Of=new WeakMap,si=new WeakMap,Do=new WeakMap,gy=new WeakMap,On=new WeakSet,yy=function(e=!1){return Vt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Ge(this,On,"m",eo).call(this,()=>Vt(this,void 0,void 0,function*(){if(Ge(this,ai,"f")!==St.Installed&&Ge(this,ai,"f")!==St.Loadable)throw new Rl;Br(this,ro,!0);try{yield Ge(this,nn,"f").features[my].connect({silent:e})}catch(n){throw new hu(n instanceof Error&&n.message||"Unknown error",n)}finally{Br(this,ro,!1)}}))})},OC=function(){Ge(this,ai,"f")!==St.Installed&&this.emit("readyStateChange",Br(this,ai,St.Installed))},hh=function(){if(!Ge(this,nn,"f").isAuthorized||!Ge(this,si,"f"))throw new Cr;return Ge(this,si,"f")},Lf=function(e){return Vt(this,void 0,void 0,function*(){const n=Ge(this,On,"m",hh).call(this);try{if(rn in Ge(this,nn,"f").features)return Ge(this,nn,"f").features[rn].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(s=>{const i=s.signedTransaction,c=i[0]*yz+1;return Qw.deserializeMessageVersion(i.slice(c,i.length))==="legacy"?kr.from(i):du.deserialize(i)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new ci(r?.message,r)}})},eo=function(e){return Vt(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class bz extends vz{constructor(e){var n;const r=LC((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new iz({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Vt(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:hz(),onWalletNotFound:()=>Vt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class xz extends bz{}function Sz(){return{select(t){return Vt(this,void 0,void 0,function*(){return t[0]})}}}function _z(){return fz()}function Ez(t){return Vt(this,void 0,void 0,function*(){return dz()})}function kz(){return Ez}function Az(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Tz(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let f=0;f<e.length;f++)e[f]=255;for(let f=0;f<t.length;f++){const h=t.charAt(f),g=h.charCodeAt(0);if(e[g]!==255)throw new TypeError(h+" is ambiguous");e[g]=f}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";let h=0,g=0,y=0;const v=f.length;for(;y!==v&&f[y]===0;)y++,h++;const S=(v-y)*i+1>>>0,x=new Uint8Array(S);for(;y!==v;){let L=f[y],I=0;for(let W=S-1;(L!==0||I<g)&&W!==-1;W--,I++)L+=256*x[W]>>>0,x[W]=L%n>>>0,L=L/n>>>0;if(L!==0)throw new Error("Non-zero carry");g=I,y++}let k=S-g;for(;k!==S&&x[k]===0;)k++;let M=r.repeat(h);for(;k<S;++k)M+=t.charAt(x[k]);return M}function c(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;let h=0,g=0,y=0;for(;f[h]===r;)g++,h++;const v=(f.length-h)*s+1>>>0,S=new Uint8Array(v);for(;h<f.length;){const L=f.charCodeAt(h);if(L>255)return;let I=e[L];if(I===255)return;let W=0;for(let q=v-1;(I!==0||W<y)&&q!==-1;q--,W++)I+=n*S[q]>>>0,S[q]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");y=W,h++}let x=v-y;for(;x!==v&&S[x]===0;)x++;const k=new Uint8Array(g+(v-x));let M=g;for(;x!==v;)k[M++]=S[x++];return k}function u(f){const h=c(f);if(h)return h;throw new Error("Non-base"+n+" character")}return{encode:a,decodeUnsafe:c,decode:u}}var Cz="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Rz=Tz(Cz);var De=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},xn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},qn,Er,Qo,Jo,Uo,Wc,ph,vt,mh,wy,jf,vy,Qc,by,mE,gE,yE,wE;class Pz extends gC{get name(){return De(this,vt,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return De(this,vt,"f").icon}get readyState(){return De(this,mh,"f")}get publicKey(){return De(this,Qo,"f")}get connecting(){return De(this,Jo,"f")}get supportedTransactionVersions(){return De(this,ph,"f")}get wallet(){return De(this,vt,"f")}get standard(){return!0}constructor({wallet:e}){super(),qn.add(this),Er.set(this,void 0),Qo.set(this,void 0),Jo.set(this,void 0),Uo.set(this,void 0),Wc.set(this,void 0),ph.set(this,void 0),vt.set(this,void 0),mh.set(this,typeof window>"u"||typeof document>"u"?St.Unsupported:St.Installed),by.set(this,n=>{if("accounts"in n){const r=De(this,vt,"f").accounts[0];De(this,Er,"f")&&!De(this,Uo,"f")&&r!==De(this,Er,"f")&&(r?De(this,qn,"m",jf).call(this,r):(this.emit("error",new pC),De(this,qn,"m",vy).call(this)))}"features"in n&&De(this,qn,"m",Qc).call(this)}),xn(this,vt,e,"f"),xn(this,Er,null,"f"),xn(this,Qo,null,"f"),xn(this,Jo,!1,"f"),xn(this,Uo,!1,"f"),xn(this,Wc,De(this,vt,"f").features[rv].on("change",De(this,by,"f")),"f"),De(this,qn,"m",Qc).call(this)}destroy(){xn(this,Er,null,"f"),xn(this,Qo,null,"f"),xn(this,Jo,!1,"f"),xn(this,Uo,!1,"f");const e=De(this,Wc,"f");e&&(xn(this,Wc,null,"f"),e())}async autoConnect(){return De(this,qn,"m",wy).call(this,{silent:!0})}async connect(){return De(this,qn,"m",wy).call(this)}async disconnect(){if(ny in De(this,vt,"f").features)try{xn(this,Uo,!0,"f"),await De(this,vt,"f").features[ny].disconnect()}catch(e){this.emit("error",new mC(e?.message,e))}finally{xn(this,Uo,!1,"f")}De(this,qn,"m",vy).call(this)}async sendTransaction(e,n,r={}){try{const s=De(this,Er,"f");if(!s)throw new Cr;let i;if(Ar in De(this,vt,"f").features)if(s.features.includes(Ar))i=Ar;else if(rn in De(this,vt,"f").features&&s.features.includes(rn))i=rn;else throw new Ho;else if(rn in De(this,vt,"f").features){if(!s.features.includes(rn))throw new Ho;i=rn}else throw new jc;const a=cF(n.rpcEndpoint);if(!s.chains.includes(a))throw new oo;try{const{signers:c,...u}=r;let f;if(ao(e)?(c?.length&&e.sign(c),f=e.serialize()):(e=await this.prepareTransaction(e,n,u),c?.length&&e.partialSign(...c),f=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===Ar){const[h]=await De(this,vt,"f").features[Ar].signAndSendTransaction({account:s,chain:a,transaction:f,options:{preflightCommitment:sg(u.preflightCommitment||n.commitment),skipPreflight:u.skipPreflight,maxRetries:u.maxRetries,minContextSlot:u.minContextSlot}});return Rz.encode(h.signature)}else{const[h]=await De(this,vt,"f").features[rn].signTransaction({account:s,chain:a,transaction:f,options:{preflightCommitment:sg(u.preflightCommitment||n.commitment),minContextSlot:u.minContextSlot}});return await n.sendRawTransaction(h.signedTransaction,{...u,preflightCommitment:sg(u.preflightCommitment||n.commitment)})}}catch(c){throw c instanceof ar?c:new oo(c?.message,c)}}catch(s){throw this.emit("error",s),s}}}Er=new WeakMap,Qo=new WeakMap,Jo=new WeakMap,Uo=new WeakMap,Wc=new WeakMap,ph=new WeakMap,vt=new WeakMap,mh=new WeakMap,by=new WeakMap,qn=new WeakSet,wy=async function(e){try{if(this.connected||this.connecting)return;if(De(this,mh,"f")!==St.Installed)throw new Rl;if(xn(this,Jo,!0,"f"),!De(this,vt,"f").accounts.length)try{await De(this,vt,"f").features[nv].connect(e)}catch(r){throw new hu(r?.message,r)}const n=De(this,vt,"f").accounts[0];if(!n)throw new Ho;De(this,qn,"m",jf).call(this,n)}catch(n){throw this.emit("error",n),n}finally{xn(this,Jo,!1,"f")}},jf=function(e){let n;try{n=new We(e.address)}catch(r){throw new uh(r?.message,r)}xn(this,Er,e,"f"),xn(this,Qo,n,"f"),De(this,qn,"m",Qc).call(this),this.emit("connect",n)},vy=function(){xn(this,Er,null,"f"),xn(this,Qo,null,"f"),De(this,qn,"m",Qc).call(this),this.emit("disconnect")},Qc=function(){const e=Ar in De(this,vt,"f").features?De(this,vt,"f").features[Ar].supportedTransactionVersions:De(this,vt,"f").features[rn].supportedTransactionVersions;xn(this,ph,Az(e,["legacy"])?null:new Set(e),"f"),rn in De(this,vt,"f").features&&De(this,Er,"f")?.features.includes(rn)?(this.signTransaction=De(this,qn,"m",mE),this.signAllTransactions=De(this,qn,"m",gE)):(delete this.signTransaction,delete this.signAllTransactions),no in De(this,vt,"f").features&&De(this,Er,"f")?.features.includes(no)?this.signMessage=De(this,qn,"m",yE):delete this.signMessage,ta in De(this,vt,"f").features?this.signIn=De(this,qn,"m",wE):delete this.signIn},mE=async function(e){try{const n=De(this,Er,"f");if(!n)throw new Cr;if(!(rn in De(this,vt,"f").features))throw new jc;if(!n.features.includes(rn))throw new Ho;try{const s=(await De(this,vt,"f").features[rn].signTransaction({account:n,transaction:ao(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return ao(e)?du.deserialize(s):kr.from(s)}catch(r){throw r instanceof ar?r:new ci(r?.message,r)}}catch(n){throw this.emit("error",n),n}},gE=async function(e){try{const n=De(this,Er,"f");if(!n)throw new Cr;if(!(rn in De(this,vt,"f").features))throw new jc;if(!n.features.includes(rn))throw new Ho;try{const r=await De(this,vt,"f").features[rn].signTransaction(...e.map(s=>({account:n,transaction:ao(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((s,i)=>{const a=r[i].signedTransaction;return ao(s)?du.deserialize(a):kr.from(a)})}catch(r){throw new ci(r?.message,r)}}catch(n){throw this.emit("error",n),n}},yE=async function(e){try{const n=De(this,Er,"f");if(!n)throw new Cr;if(!(no in De(this,vt,"f").features))throw new jc;if(!n.features.includes(no))throw new Ho;try{return(await De(this,vt,"f").features[no].signMessage({account:n,message:e}))[0].signature}catch(r){throw new tv(r?.message,r)}}catch(n){throw this.emit("error",n),n}},wE=async function(e={}){try{if(!(ta in De(this,vt,"f").features))throw new jc;let n;try{[n]=await De(this,vt,"f").features[ta].signIn(e)}catch(r){throw new M_(r?.message,r)}if(!n)throw new M_;return De(this,qn,"m",jf).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const Iz=LU;var Mz=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Nz=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Df;let jr;const Gh=new Set;function Oz(t){Jc=void 0,Gh.add(t)}function Lz(t){Jc=void 0,Gh.delete(t)}const ul={};function Bz(){if(jr||(jr=Object.freeze({register:vE,get:jz,on:Dz}),typeof window>"u"))return jr;const t=Object.freeze({register:vE});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Uz(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return jr}function vE(...t){return t=t.filter(e=>!Gh.has(e)),t.length?(t.forEach(e=>Oz(e)),ul.register?.forEach(e=>xy(()=>e(...t))),function(){t.forEach(n=>Lz(n)),ul.unregister?.forEach(n=>xy(()=>n(...t)))}):()=>{}}let Jc;function jz(){return Jc||(Jc=[...Gh]),Jc}function Dz(t,e){return ul[t]?.push(e)||(ul[t]=[e]),function(){ul[t]=ul[t]?.filter(r=>e!==r)}}function xy(t){try{t()}catch(e){console.error(e)}}class Uz extends Event{get detail(){return Mz(this,Df,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Df.set(this,void 0),Nz(this,Df,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Df=new WeakMap;function Fz(){if(jr||(jr=Bz(),typeof window>"u"))return jr;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),jr;const{register:e}=jr,n=(...r)=>r.forEach(s=>xy(()=>s({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),jr}return n(...t),jr}function zz(t){const e=bE(()=>new Set),{get:n,on:r}=bE(()=>Fz()),[s,i]=D.useState(()=>xE(n()));D.useEffect(()=>{const c=[r("register",(...u)=>i(f=>[...f,...xE(u)])),r("unregister",(...u)=>i(f=>f.filter(h=>u.some(g=>g===h.wallet))))];return()=>c.forEach(u=>u())},[r]);const a=$z(s);return D.useEffect(()=>{if(!a)return;const c=new Set(s);new Set(a.filter(f=>!c.has(f))).forEach(f=>f.destroy())},[a,s]),D.useEffect(()=>()=>s.forEach(c=>c.destroy()),[]),D.useMemo(()=>[...s,...t.filter(({name:c})=>s.some(u=>u.name===c)?(e.has(c)||(e.add(c),console.warn(`${c} was registered as a Standard Wallet. The Wallet Adapter for ${c} can be removed from your app.`)),!1):!0)],[s,t,e])}function bE(t){const e=D.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function $z(t){const e=D.useRef(void 0);return D.useEffect(()=>{e.current=t}),e.current}function xE(t){return t.filter(Iz).map(e=>new Pz({wallet:e}))}var yl;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(yl||(yl={}));function Wz(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function Vz({adapters:t,userAgentString:e}){return t.some(n=>n.name!==Bf&&n.readyState===St.Installed)?yl.DESKTOP_WEB:e&&/android/i.test(e)&&!Wz(e)?yl.MOBILE_WEB:yl.DESKTOP_WEB}function qz(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function Kz({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:i,onError:a,onSelectWallet:c}){const u=D.useRef(!1),[f,h]=D.useState(!1),g=D.useRef(!1),[y,v]=D.useState(!1),[S,x]=D.useState(()=>n?.publicKey??null),[k,M]=D.useState(()=>n?.connected??!1),L=D.useRef(a);D.useEffect(()=>(L.current=a,()=>{L.current=void 0}),[a]);const I=D.useRef((E,O)=>(r.current||(L.current?L.current(E,O):(console.error(E,O),E instanceof Rl&&typeof window<"u"&&O&&window.open(O.url,"_blank"))),E)),[W,q]=D.useState(()=>e.map(E=>({adapter:E,readyState:E.readyState})).filter(({readyState:E})=>E!==St.Unsupported));D.useEffect(()=>{q(O=>e.map((j,B)=>{const V=O[B];return V&&V.adapter===j&&V.readyState===j.readyState?V:{adapter:j,readyState:j.readyState}}).filter(({readyState:j})=>j!==St.Unsupported));function E(O){q(j=>{const B=j.findIndex(({adapter:H})=>H===this);if(B===-1)return j;const{adapter:V}=j[B];return[...j.slice(0,B),{adapter:V,readyState:O},...j.slice(B+1)].filter(({readyState:H})=>H!==St.Unsupported)})}return e.forEach(O=>O.on("readyStateChange",E,O)),()=>{e.forEach(O=>O.off("readyStateChange",E,O))}},[n,e]);const J=D.useMemo(()=>W.find(E=>E.adapter===n)??null,[n,W]);D.useEffect(()=>{if(!n)return;const E=B=>{x(B),u.current=!1,h(!1),M(!0),g.current=!1,v(!1)},O=()=>{r.current||(x(null),u.current=!1,h(!1),M(!1),g.current=!1,v(!1))},j=B=>{I.current(B,n)};return n.on("connect",E),n.on("disconnect",O),n.on("error",j),()=>{n.off("connect",E),n.off("disconnect",O),n.off("error",j),O()}},[n,r]);const te=D.useRef(!1);D.useEffect(()=>()=>{te.current=!1},[n]),D.useEffect(()=>{te.current||u.current||k||!s||!(J?.readyState===St.Installed||J?.readyState===St.Loadable)||(u.current=!0,h(!0),te.current=!0,(async function(){try{await s()}catch{i()}finally{h(!1),u.current=!1}})())},[k,s,i,J]);const ne=D.useCallback(async(E,O,j)=>{if(!n)throw I.current(new N_);if(!k)throw I.current(new Cr,n);return await n.sendTransaction(E,O,j)},[n,k]),z=D.useMemo(()=>n&&"signTransaction"in n?async E=>{if(!k)throw I.current(new Cr,n);return await n.signTransaction(E)}:void 0,[n,k]),G=D.useMemo(()=>n&&"signAllTransactions"in n?async E=>{if(!k)throw I.current(new Cr,n);return await n.signAllTransactions(E)}:void 0,[n,k]),X=D.useMemo(()=>n&&"signMessage"in n?async E=>{if(!k)throw I.current(new Cr,n);return await n.signMessage(E)}:void 0,[n,k]),Z=D.useMemo(()=>n&&"signIn"in n?async E=>await n.signIn(E):void 0,[n]),N=D.useCallback(async()=>{if(u.current||g.current||J?.adapter.connected)return;if(!J)throw I.current(new N_);const{adapter:E,readyState:O}=J;if(!(O===St.Installed||O===St.Loadable))throw I.current(new Rl,E);u.current=!0,h(!0);try{await E.connect()}catch(j){throw i(),j}finally{h(!1),u.current=!1}},[i,J]),m=D.useCallback(async()=>{if(!g.current&&n){g.current=!0,v(!0);try{await n.disconnect()}finally{v(!1),g.current=!1}}},[n]);return _e.createElement(wC.Provider,{value:{autoConnect:!!s,wallets:W,wallet:J,publicKey:S,connected:k,connecting:f,disconnecting:y,select:c,connect:N,disconnect:m,sendTransaction:ne,signTransaction:z,signAllTransactions:G,signMessage:X,signIn:Z}},t)}let fg;function Hz(){return fg===void 0&&(fg=globalThis.navigator?.userAgent??null),fg}function SE(t){const e=Hz();return Vz({adapters:t,userAgentString:e})===yl.MOBILE_WEB}function Gz(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function Yz({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:s}){const{connection:i}=AU(),a=zz(e),c=D.useMemo(()=>{if(!SE(a))return null;const L=a.find(I=>I.name===Bf);return L||new xz({addressSelector:Sz(),appIdentity:{uri:Gz()},authorizationResultCache:_z(),cluster:qz(i?.rpcEndpoint),onWalletNotFound:kz()})},[a,i?.rpcEndpoint]),u=D.useMemo(()=>c==null||a.indexOf(c)!==-1?a:[c,...a],[a,c]),[f,h]=jU(r,null),g=D.useMemo(()=>u.find(L=>L.name===f)??null,[u,f]),y=D.useCallback(L=>{f!==L&&(g&&g.name!==Bf&&g.disconnect(),h(L))},[g,h,f]);D.useEffect(()=>{if(!g)return;function L(){x.current||h(null)}return g.on("disconnect",L),()=>{g.off("disconnect",L)}},[g,a,h,f]);const v=D.useRef(!1),S=D.useMemo(()=>{if(!(!n||!g))return async()=>{(n===!0||await n(g))&&(v.current?await g.connect():await g.autoConnect())}},[n,g]),x=D.useRef(!1);D.useEffect(()=>{if(f===Bf&&SE(a)){x.current=!1;return}function L(){x.current=!0}return window.addEventListener("beforeunload",L),()=>{window.removeEventListener("beforeunload",L)}},[a,f]);const k=D.useCallback(()=>{g&&y(null)},[g,y]),M=D.useCallback(L=>{v.current=!0,y(L)},[y]);return _e.createElement(Kz,{wallets:u,adapter:g,isUnloadingRef:x,onAutoConnectRequest:S,onConnectError:k,onError:s,onSelectWallet:M},t)}const BC={setVisible(t){console.error(jC("call","setVisible"))},visible:!1};Object.defineProperty(BC,"visible",{get(){return console.error(jC("read","visible")),!1}});function jC(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const DC=D.createContext(BC);function UC(){return D.useContext(DC)}function Qz({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:s,disconnecting:i,publicKey:a,select:c,wallet:u,wallets:f}=sv();let h;r?h="connecting":n?h="connected":i?h="disconnecting":u?h="has-wallet":h="no-wallet";const g=D.useCallback(()=>{e().catch(()=>{})},[e]),y=D.useCallback(()=>{s().catch(()=>{})},[s]),v=D.useCallback(()=>{t({onSelectWallet:c,wallets:f})},[t,c,f]);return{buttonState:h,onConnect:h==="has-wallet"?g:void 0,onDisconnect:h!=="disconnecting"&&h!=="no-wallet"?y:void 0,onSelectWallet:v,publicKey:a??void 0,walletIcon:u?.adapter.icon,walletName:u?.adapter.name}}const FC=t=>_e.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&_e.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&_e.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),zC=({wallet:t,...e})=>t&&_e.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function Jz({walletIcon:t,walletName:e,...n}){return _e.createElement(FC,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?_e.createElement(zC,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function Zz({children:t,labels:e,...n}){const{setVisible:r}=UC(),{buttonState:s,onConnect:i,onDisconnect:a,publicKey:c,walletIcon:u,walletName:f}=Qz({onSelectWallet(){r(!0)}}),[h,g]=D.useState(!1),[y,v]=D.useState(!1),S=D.useRef(null);D.useEffect(()=>{const k=M=>{const L=S.current;!L||L.contains(M.target)||v(!1)};return document.addEventListener("mousedown",k),document.addEventListener("touchstart",k),()=>{document.removeEventListener("mousedown",k),document.removeEventListener("touchstart",k)}},[]);const x=D.useMemo(()=>{if(t)return t;if(c){const k=c.toBase58();return k.slice(0,4)+".."+k.slice(-4)}else return s==="connecting"||s==="has-wallet"?e[s]:e["no-wallet"]},[s,t,e,c]);return _e.createElement("div",{className:"wallet-adapter-dropdown"},_e.createElement(Jz,{...n,"aria-expanded":y,style:{pointerEvents:y?"none":"auto",...n.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":v(!0);break}},walletIcon:u,walletName:f},x),_e.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${y&&"wallet-adapter-dropdown-list-active"}`,ref:S,role:"menu"},c?_e.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(c.toBase58()),g(!0),setTimeout(()=>g(!1),400)},role:"menuitem"},h?e.copied:e["copy-address"]):null,_e.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),v(!1)},role:"menuitem"},e["change-wallet"]),a?_e.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{a(),v(!1)},role:"menuitem"},e.disconnect):null))}const _E=({id:t,children:e,expanded:n=!1})=>{const r=D.useRef(null),s=D.useRef(!0),i="height 250ms ease-out",a=()=>{const u=r.current;u&&requestAnimationFrame(()=>{u.style.height=u.scrollHeight+"px"})},c=()=>{const u=r.current;u&&requestAnimationFrame(()=>{u.style.height=u.offsetHeight+"px",u.style.overflow="hidden",requestAnimationFrame(()=>{u.style.height="0"})})};return D.useLayoutEffect(()=>{n?a():c()},[n]),D.useLayoutEffect(()=>{const u=r.current;if(!u)return;function f(){u&&(u.style.overflow=n?"initial":"hidden",n&&(u.style.height="auto"))}function h(g){u&&g.target===u&&g.propertyName==="height"&&f()}return s.current&&(f(),s.current=!1),u.addEventListener("transitionend",h),()=>u.removeEventListener("transitionend",h)},[n]),_e.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:s.current?void 0:i}},e)},hg=({handleClick:t,tabIndex:e,wallet:n})=>_e.createElement("li",null,_e.createElement(FC,{onClick:t,startIcon:_e.createElement(zC,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===St.Installed&&_e.createElement("span",null,"Detected"))),Xz=()=>_e.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_e.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),_e.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),_e.createElement("g",{clipPath:"url(#clip0_880_5115)"},_e.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),_e.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),_e.createElement("defs",null,_e.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},_e.createElement("stop",{stopColor:"#9945FF"}),_e.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),_e.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),_e.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),_e.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),_e.createElement("stop",{offset:"1",stopColor:"#00D18C"})),_e.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},_e.createElement("stop",{stopColor:"#9945FF"}),_e.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),_e.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),_e.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),_e.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),_e.createElement("stop",{offset:"1",stopColor:"#00D18C"})),_e.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},_e.createElement("stop",{stopColor:"#9945FF"}),_e.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),_e.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),_e.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),_e.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),_e.createElement("stop",{offset:"1",stopColor:"#00D18C"})),_e.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},_e.createElement("stop",{stopColor:"#9945FF"}),_e.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),_e.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),_e.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),_e.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),_e.createElement("stop",{offset:"1",stopColor:"#00D18C"})),_e.createElement("clipPath",{id:"clip0_880_5115"},_e.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),e$=({className:t="",container:e="body"})=>{const n=D.useRef(null),{wallets:r,select:s}=sv(),{setVisible:i}=UC(),[a,c]=D.useState(!1),[u,f]=D.useState(!1),[h,g]=D.useState(null),[y,v]=D.useMemo(()=>{const I=[],W=[];for(const q of r)q.readyState===St.Installed?I.push(q):W.push(q);return I.length?[I,W]:[W,[]]},[r]),S=D.useCallback(()=>{f(!1),setTimeout(()=>i(!1),150)},[i]),x=D.useCallback(I=>{I.preventDefault(),S()},[S]),k=D.useCallback((I,W)=>{s(W),x(I)},[s,x]),M=D.useCallback(()=>c(!a),[a]),L=D.useCallback(I=>{const W=n.current;if(!W)return;const q=W.querySelectorAll("button"),J=q[0],te=q[q.length-1];I.shiftKey?document.activeElement===J&&(te.focus(),I.preventDefault()):document.activeElement===te&&(J.focus(),I.preventDefault())},[n]);return D.useLayoutEffect(()=>{const I=q=>{q.key==="Escape"?S():q.key==="Tab"&&L(q)},{overflow:W}=window.getComputedStyle(document.body);return setTimeout(()=>f(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",I,!1),()=>{document.body.style.overflow=W,window.removeEventListener("keydown",I,!1)}},[S,L]),D.useLayoutEffect(()=>g(document.querySelector(e)),[e]),h&&Su.createPortal(_e.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${u&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},_e.createElement("div",{className:"wallet-adapter-modal-container"},_e.createElement("div",{className:"wallet-adapter-modal-wrapper"},_e.createElement("button",{onClick:x,className:"wallet-adapter-modal-button-close"},_e.createElement("svg",{width:"14",height:"14"},_e.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),y.length?_e.createElement(_e.Fragment,null,_e.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),_e.createElement("ul",{className:"wallet-adapter-modal-list"},y.map(I=>_e.createElement(hg,{key:I.adapter.name,handleClick:W=>k(W,I.adapter.name),wallet:I})),v.length?_e.createElement(_E,{expanded:a,id:"wallet-adapter-modal-collapse"},v.map(I=>_e.createElement(hg,{key:I.adapter.name,handleClick:W=>k(W,I.adapter.name),tabIndex:a?0:-1,wallet:I}))):null),v.length?_e.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:M,tabIndex:0},_e.createElement("span",null,a?"Less ":"More ","options"),_e.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${a?"wallet-adapter-modal-list-more-icon-rotate":""}`},_e.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):_e.createElement(_e.Fragment,null,_e.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),_e.createElement("div",{className:"wallet-adapter-modal-middle"},_e.createElement(Xz,null)),v.length?_e.createElement(_e.Fragment,null,_e.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:M,tabIndex:0},_e.createElement("span",null,a?"Hide ":"Already have a wallet? View ","options"),_e.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${a?"wallet-adapter-modal-list-more-icon-rotate":""}`},_e.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),_e.createElement(_E,{expanded:a,id:"wallet-adapter-modal-collapse"},_e.createElement("ul",{className:"wallet-adapter-modal-list"},v.map(I=>_e.createElement(hg,{key:I.adapter.name,handleClick:W=>k(W,I.adapter.name),tabIndex:a?0:-1,wallet:I}))))):null))),_e.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:x})),h)},t$=({children:t,...e})=>{const[n,r]=D.useState(!1);return _e.createElement(DC.Provider,{value:{visible:n,setVisible:r}},t,n&&_e.createElement(e$,{...e}))},n$={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function EE(t){return _e.createElement(Zz,{...t,labels:n$})}const r$="Phantom";class s$ extends yC{constructor(e={}){super(),this.name=r$,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?St.Unsupported:St.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new pC),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new We(n.toBytes())}catch(s){this.emit("error",new uh(s?.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==St.Unsupported&&(MU()?(this._readyState=St.Loadable,this.emit("readyStateChange",this._readyState)):IU(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=St.Installed,this.emit("readyStateChange",this._readyState),!0):!1))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===St.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===St.Loadable){const r=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${s}`;return}if(this.readyState!==St.Installed)throw new Rl;this._connecting=!0;const e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(r){throw new hu(r?.message,r)}if(!e.publicKey)throw new Ho;let n;try{n=new We(e.publicKey.toBytes())}catch(r){throw new uh(r?.message,r)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new mC(n?.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new Cr;try{const{signers:i,...a}=r;ao(e)?i?.length&&e.sign(i):(e=await this.prepareTransaction(e,n,a),i?.length&&e.partialSign(...i)),a.preflightCommitment=a.preflightCommitment||n.commitment;const{signature:c}=await s.signAndSendTransaction(e,a);return c}catch(i){throw i instanceof ar?i:new oo(i?.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Cr;try{return await n.signTransaction(e)||e}catch(r){throw new ci(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Cr;try{return await n.signAllTransactions(e)||e}catch(r){throw new ci(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Cr;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new tv(r?.message,r)}}catch(n){throw this.emit("error",n),n}}}const i$=Hy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_r=D.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?fM:"button";return R.jsx(a,{className:mr(i$({variant:e,size:n,className:t})),ref:i,...s})});_r.displayName="Button";const Sy=D.forwardRef(({className:t,...e},n)=>R.jsx("div",{ref:n,className:mr("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Sy.displayName="Card";const $C=D.forwardRef(({className:t,...e},n)=>R.jsx("div",{ref:n,className:mr("flex flex-col space-y-1.5 p-6",t),...e}));$C.displayName="CardHeader";const WC=D.forwardRef(({className:t,...e},n)=>R.jsx("div",{ref:n,className:mr("text-2xl font-semibold leading-none tracking-tight",t),...e}));WC.displayName="CardTitle";const o$=D.forwardRef(({className:t,...e},n)=>R.jsx("div",{ref:n,className:mr("text-sm text-muted-foreground",t),...e}));o$.displayName="CardDescription";const _y=D.forwardRef(({className:t,...e},n)=>R.jsx("div",{ref:n,className:mr("p-6 pt-0",t),...e}));_y.displayName="CardContent";const a$=D.forwardRef(({className:t,...e},n)=>R.jsx("div",{ref:n,className:mr("flex items-center p-6 pt-0",t),...e}));a$.displayName="CardFooter";const l$="/assets/logo_1770393823994-Bp221R2k.png";function jl(){return window.Telegram?.WebApp??null}function c$(){return jl()?.initDataUnsafe?.user?.id??null}function u$(){const e=jl()?.initDataUnsafe?.user;return e&&(e.username||e.first_name)||null}function d$(){const t=jl();t&&(t.ready(),t.expand())}function f$(){const t=jl();try{t?.HapticFeedback?.impactOccurred("light")}catch{}}function h$(){const t=jl();try{t?.HapticFeedback?.notificationOccurred("success")}catch{}}function p$(){const t=jl();try{t?.HapticFeedback?.notificationOccurred("error")}catch{}}function Yh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function m$(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(h){try{f(r.next(h))}catch(g){a(g)}}function u(h){try{f(r.throw(h))}catch(g){a(g)}}function f(h){h.done?i(h.value):s(h.value).then(c,u)}f((r=r.apply(t,e||[])).next())})}const g$=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ov extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class y$ extends ov{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kE extends ov{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class AE extends ov{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ey;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ey||(Ey={}));class w${constructor(e,{headers:n={},customFetch:r,region:s=Ey.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=g$(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return m$(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:c,method:u,body:f,signal:h,timeout:g}=r;let y={},{region:v}=r;v||(v=this.region);const S=new URL(`${this.url}/${n}`);v&&v!=="any"&&(y["x-region"]=v,S.searchParams.set("forceFunctionRegion",v));let x;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(y["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(y["Content-Type"]="application/json",x=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?x=JSON.stringify(f):x=f;let k=h;g&&(a=new AbortController,i=setTimeout(()=>a.abort(),g),h?(k=a.signal,h.addEventListener("abort",()=>a.abort())):k=a.signal);const M=yield this.fetch(S.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:x,signal:k}).catch(q=>{throw new y$(q)}),L=M.headers.get("x-relay-error");if(L&&L==="true")throw new kE(M);if(!M.ok)throw new AE(M);let I=((s=M.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),W;return I==="application/json"?W=yield M.json():I==="application/octet-stream"||I==="application/pdf"?W=yield M.blob():I==="text/event-stream"?W=M:I==="multipart/form-data"?W=yield M.formData():W=yield M.text(),{data:W,error:null,response:M}}catch(c){return{data:null,error:c,response:c instanceof AE||c instanceof kE?c.context:void 0}}finally{i&&clearTimeout(i)}})}}var v$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},b$=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,c=null,u=null,f=i.status,h=i.statusText;if(i.ok){var g,y;if(n.method!=="HEAD"){var v;const M=await i.text();M===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?c=M:c=JSON.parse(M))}const x=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),k=(y=i.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");x&&k&&k.length>1&&(u=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(a={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,u=null,f=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var S;const x=await i.text();try{a=JSON.parse(x),Array.isArray(a)&&i.status===404&&(c=[],a=null,f=200,h="OK")}catch{i.status===404&&x===""?(f=204,h="No Content"):a={message:x}}if(a&&n.isMaybeSingle&&(!(a==null||(S=a.details)===null||S===void 0)&&S.includes("0 rows"))&&(a=null,f=200,h="OK"),a&&n.shouldThrowOnError)throw new v$(a)}return{error:a,data:c,count:u,status:f,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let c="",u="",f="";const h=i?.cause;if(h){var g,y,v,S;const M=(g=h?.message)!==null&&g!==void 0?g:"",L=(y=h?.code)!==null&&y!==void 0?y:"";c=`${(v=i?.name)!==null&&v!==void 0?v:"FetchError"}: ${i?.message}`,c+=`

Caused by: ${(S=h?.name)!==null&&S!==void 0?S:"Error"}: ${M}`,L&&(c+=` (${L})`),h?.stack&&(c+=`
${h.stack}`)}else{var x;c=(x=i?.stack)!==null&&x!==void 0?x:""}const k=this.url.toString().length;return i?.name==="AbortError"||i?.code==="ABORT_ERR"?(f="",u="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(u+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(h?.name==="HeadersOverflowError"||h?.code==="UND_ERR_HEADERS_OVERFLOW")&&(f="",u="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(u+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i?.name)!==null&&a!==void 0?a:"FetchError"}: ${i?.message}`,details:c,hint:u,code:f},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},x$=class extends b${select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const TE=new RegExp("[,()]");var el=class extends x${eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&TE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&TE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},S$=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(f=>/\s/.test(f)&&!i?"":(f==='"'&&(i=!i),f)).join(""),{url:c,headers:u}=this.cloneRequestState();return c.searchParams.set("select",a),r&&u.append("Prefer",`count=${r}`),new el({method:s,url:c,headers:u,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);i.searchParams.set("columns",u.join(","))}}return new el({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST",{url:c,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),r&&u.append("Prefer",`count=${r}`),s||u.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(f.length>0){const h=[...new Set(f)].map(g=>`"${g}"`);c.searchParams.set("columns",h.join(","))}}return new el({method:a,url:c,headers:u,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new el({method:r,url:s,headers:i,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new el({method:n,url:r,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function _$(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E$(t){var e=_$(t,"string");return pu(e)=="symbol"?e:e+""}function k$(t,e,n){return(e=E$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(n),!0).forEach(function(r){k$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var A$=class VC{constructor(e,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=a;const c=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(u,f)=>{const h=new AbortController,g=setTimeout(()=>h.abort(),i),y=f?.signal;if(y){if(y.aborted)return clearTimeout(g),c(u,f);const v=()=>{clearTimeout(g),h.abort()};return y.addEventListener("abort",v,{once:!0}),c(u,lf(lf({},f),{},{signal:h.signal})).finally(()=>{clearTimeout(g),y.removeEventListener("abort",v)})}return c(u,lf(lf({},f),{},{signal:h.signal})).finally(()=>clearTimeout(g))}:this.fetch=c}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new S$(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new VC(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let c;const u=new URL(`${this.url}/rpc/${e}`);let f;const h=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(h)),g=r&&Object.values(n).some(h);g?(c="POST",f=n):r||s?(c=r?"HEAD":"GET",Object.entries(n).filter(([v,S])=>S!==void 0).map(([v,S])=>[v,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([v,S])=>{u.searchParams.append(v,S)})):(c="POST",f=n);const y=new Headers(this.headers);return g?y.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&y.set("Prefer",`count=${i}`),new el({method:c,url:u,headers:y,schema:this.schemaName,body:f,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class T${constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const C$="2.95.3",R$=`realtime-js/${C$}`,P$="1.0.0",qC="2.0.0",RE=qC,ky=1e4,I$=1e3,M$=100;var to;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(to||(to={}));var Cn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Cn||(Cn={}));var xs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xs||(xs={}));var Ay;(function(t){t.websocket="websocket"})(Ay||(Ay={}));var zo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zo||(zo={}));class N${constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var s,i;const a=e.topic,c=(s=e.ref)!==null&&s!==void 0?s:"",u=(i=e.join_ref)!==null&&i!==void 0?i:"",f=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+c.length+a.length+f.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(v),x=0;S.setUint8(x++,this.KINDS.userBroadcastPush),S.setUint8(x++,u.length),S.setUint8(x++,c.length),S.setUint8(x++,a.length),S.setUint8(x++,f.length),S.setUint8(x++,g.length),S.setUint8(x++,n),Array.from(u,M=>S.setUint8(x++,M.charCodeAt(0))),Array.from(c,M=>S.setUint8(x++,M.charCodeAt(0))),Array.from(a,M=>S.setUint8(x++,M.charCodeAt(0))),Array.from(f,M=>S.setUint8(x++,M.charCodeAt(0))),Array.from(g,M=>S.setUint8(x++,M.charCodeAt(0)));var k=new Uint8Array(v.byteLength+r.byteLength);return k.set(new Uint8Array(v),0),k.set(new Uint8Array(r),v.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,a,c,u]=r;return n({join_ref:s,ref:i,topic:a,event:c,payload:u})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,s)}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),c=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(e.slice(u,u+s));u=u+s;const h=r.decode(e.slice(u,u+i));u=u+i;const g=r.decode(e.slice(u,u+a));u=u+a;const y=e.slice(u,e.byteLength),v=c===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,S={type:this.BROADCAST_EVENT,event:h,payload:v};return a>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class KC{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Wt||(Wt={}));const PE=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=O$(a,t,e,s),i),{}):{}},O$=(t,e,n,r)=>{const s=e.find(c=>c.name===t),i=s?.type,a=n[t];return i&&!r.includes(i)?HC(i,a):Ty(a)},HC=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return D$(e,n)}switch(t){case Wt.bool:return L$(e);case Wt.float4:case Wt.float8:case Wt.int2:case Wt.int4:case Wt.int8:case Wt.numeric:case Wt.oid:return B$(e);case Wt.json:case Wt.jsonb:return j$(e);case Wt.timestamp:return U$(e);case Wt.abstime:case Wt.date:case Wt.daterange:case Wt.int4range:case Wt.int8range:case Wt.money:case Wt.reltime:case Wt.text:case Wt.time:case Wt.timestamptz:case Wt.timetz:case Wt.tsrange:case Wt.tstzrange:return Ty(e);default:return Ty(e)}},Ty=t=>t,L$=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},B$=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},j$=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},D$=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(c=>HC(e,c))}return t},U$=t=>typeof t=="string"?t.replace(" ","T"):t,GC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class pg{constructor(e,n,r={},s=ky){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var IE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(IE||(IE={}));class Zc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zc.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Zc.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zc.syncDiff(this.state,s,i,a),c())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),c={},u={};return this.map(i,(f,h)=>{a[f]||(u[f]=h)}),this.map(a,(f,h)=>{const g=i[f];if(g){const y=h.map(k=>k.presence_ref),v=g.map(k=>k.presence_ref),S=h.filter(k=>v.indexOf(k.presence_ref)<0),x=g.filter(k=>y.indexOf(k.presence_ref)<0);S.length>0&&(c[f]=S),x.length>0&&(u[f]=x)}else c[f]=h}),this.syncDiff(i,{joins:c,leaves:u},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(c,u)=>{var f;const h=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(u),h.length>0){const g=e[c].map(v=>v.presence_ref),y=h.filter(v=>g.indexOf(v.presence_ref)<0);e[c].unshift(...y)}r(c,h,u)}),this.map(a,(c,u)=>{let f=e[c];if(!f)return;const h=u.map(g=>g.presence_ref);f=f.filter(g=>h.indexOf(g.presence_ref)<0),e[c]=f,s(c,f,u),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ME;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ME||(ME={}));var Xc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Xc||(Xc={}));var ni;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ni||(ni={}));class dl{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pg(this,xs.join,this.params,this.timeout),this.rejoinTimer=new KC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xs.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new Zc(this),this.broadcastEndpointURL=GC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Cn.closed){const{config:{broadcast:a,presence:c,private:u}}=this.params,f=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Xc.PRESENCE]&&this.bindings[Xc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},y={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:h}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(ni.CHANNEL_ERROR,v)),this._onClose(()=>e?.(ni.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e?.(ni.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,k=(S=x?.length)!==null&&S!==void 0?S:0,M=[];for(let L=0;L<k;L++){const I=x[L],{filter:{event:W,schema:q,table:J,filter:te}}=I,ne=v&&v[L];if(ne&&ne.event===W&&dl.isFilterValueEqual(ne.schema,q)&&dl.isFilterValueEqual(ne.table,J)&&dl.isFilterValueEqual(ne.filter,te))M.push(Object.assign(Object.assign({},I),{id:ne.id}));else{this.unsubscribe(),this.state=Cn.errored,e?.(ni.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(ni.SUBSCRIBED);return}}).receive("error",v=>{this.state=Cn.errored,e?.(ni.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(ni.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Cn.joined&&e===Xc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const f=await c.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,c,u;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Cn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new pg(this,xs.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Cn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pg(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>M$){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:c,error:u,leave:f,join:h}=xs;if(r&&[c,u,f,h].indexOf(a)>=0&&r!==this._joinRef())return;let y=this._onMessage(a,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var S,x,k;return((S=v.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(x=v.filter)===null||x===void 0?void 0:x.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(v=>v.callback(y,r)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var S,x,k,M,L,I;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const W=v.id,q=(S=v.filter)===null||S===void 0?void 0:S.event;return W&&((x=n.ids)===null||x===void 0?void 0:x.includes(W))&&(q==="*"||q?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const W=(L=(M=v?.filter)===null||M===void 0?void 0:M.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return W==="*"||W===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:x,table:k,commit_timestamp:M,type:L,errors:I}=S;y=Object.assign(Object.assign({},{schema:x,table:k,commit_timestamp:M,eventType:L,new:{},old:{},errors:I}),this._getPayloadRecords(S))}v.callback(y,r)})}_isClosed(){return this.state===Cn.closed}_isJoined(){return this.state===Cn.joined}_isJoining(){return this.state===Cn.joining}_isLeaving(){return this.state===Cn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&dl.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xs.close,{},e)}_onError(e){this._on(xs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=PE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=PE(e.columns,e.old_record)),n}}const mg=()=>{},cf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},F$=[1e3,2e3,5e3,1e4],z$=1e4,$$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class W${constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ky,this.transport=null,this.heartbeatIntervalMs=cf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mg,this.ref=0,this.reconnectTimer=null,this.vsn=RE,this.logger=mg,this.conn=null,this.sendBuffer=[],this.serializer=new N$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ay.websocket}`,this.httpEndpoint=GC(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=T$.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case to.connecting:return zo.Connecting;case to.open:return zo.Open;case to.closing:return zo.Closing;default:return zo.Closed}}isConnected(){return this.connectionState()===zo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new dl(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(I$,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},cf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,c=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${s} ${c}`.trim(),i),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===to.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===to.open||this.conn.readyState===to.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(xs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([$$],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:R$};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(xs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new KC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,c,u,f,h,g,y,v;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:ky,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:cf.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:mg,this.vsn=(u=e?.vsn)!==null&&u!==void 0?u:RE,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(S=>F$[S-1]||z$),this.vsn){case P$:this.encode=(h=e?.encode)!==null&&h!==void 0?h:((S,x)=>x(JSON.stringify(S))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:((S,x)=>x(JSON.parse(S)));break;case qC:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var mu=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function V$(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function q$(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function K$(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const c=V$(t.baseUrl,r,s),u=await q$(t.auth),f=await e(c,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...u,...a},body:i?JSON.stringify(i):void 0}),h=await f.text(),g=(f.headers.get("content-type")||"").includes("application/json"),y=g&&h?JSON.parse(h):h;if(!f.ok){const v=g?y:void 0,S=v?.error;throw new mu(S?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:S?.type,icebergCode:S?.code,details:v})}return{status:f.status,headers:f.headers,data:y}}}}function uf(t){return t.join("")}var H$=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:uf(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uf(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uf(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uf(t.namespace)}`}),!0}catch(e){if(e instanceof mu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof mu&&n.status===409)return;throw n}}};function $a(t){return t.join("")}var G$=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$a(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$a(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$a(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$a(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$a(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$a(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof mu&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof mu&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Y$=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=K$({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new H$(this.client,e),this.tableOps=new G$(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Qh=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Jh(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var df=class extends Qh{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},YC=class extends Qh{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Q$=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),J$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cy=t=>{if(Array.isArray(t))return t.map(n=>Cy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Cy(r)}),e},Z$=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function X$(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e7(t){var e=X$(t,"string");return gu(e)=="symbol"?e:e+""}function t7(t,e,n){return(e=e7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(n),!0).forEach(function(r){t7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const OE=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},n7=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const c=a?.statusCode||a?.code||i+"";e(new df(OE(a),i,c,r))}).catch(()=>{if(r==="vectors"){const a=i+"";e(new df(s.statusText||`HTTP ${i} error`,i,a,r))}else{const a=i+"";e(new df(s.statusText||`HTTP ${i} error`,i,a,r))}});else{const a=i+"";e(new df(s.statusText||`HTTP ${i} error`,i,a,r))}}else e(new YC(OE(t),t,r))},r7=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!r?Ze(Ze({},s),n):(J$(r)?(s.headers=Ze({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(r)):s.body=r,e?.duplex&&(s.duplex=e.duplex),Ze(Ze({},s),n))};async function Ic(t,e,n,r,s,i,a){return new Promise((c,u)=>{t(n,r7(e,r,s,i)).then(f=>{if(!f.ok)throw f;if(r?.noResolveJson)return f;if(a==="vectors"){const h=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!h||!h.includes("application/json"))return{}}return f.json()}).then(f=>c(f)).catch(f=>n7(f,u,r,a))})}function QC(t="storage"){return{get:async(e,n,r,s)=>Ic(e,"GET",n,r,s,void 0,t),post:async(e,n,r,s,i)=>Ic(e,"POST",n,s,i,r,t),put:async(e,n,r,s,i)=>Ic(e,"PUT",n,s,i,r,t),head:async(e,n,r,s)=>Ic(e,"HEAD",n,Ze(Ze({},r),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,n,r,s,i)=>Ic(e,"DELETE",n,s,i,r,t)}}const s7=QC("storage"),{get:yu,post:bs,put:Ry,head:i7,remove:av}=s7,$r=QC("vectors");var Dl=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Q$(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Jh(n))return{data:null,error:n};throw n}}},o7=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Jh(e))return{data:null,error:e};throw e}}};let JC;JC=Symbol.toStringTag;var a7=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[JC]="BlobDownloadBuilder",this.promise=null}asStream(){return new o7(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Jh(e))return{data:null,error:e};throw e}}};const l7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var c7=class extends Dl{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var s=this;return s.handleOperation(async()=>{let i;const a=Ze(Ze({},LE),r);let c=Ze(Ze({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",s.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),u&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(u))):(i=n,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,u&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r?.headers&&(c=Ze(Ze({},c),r.headers));const f=s._removeEmptyFolders(e),h=s._getFinalPath(f),g=await(t=="PUT"?Ry:bs)(s.fetch,`${s.url}/object/${h}`,i,Ze({headers:c},a?.duplex?{duplex:a.duplex}:{}));return{path:f,id:g.Id,fullPath:g.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),c=new URL(s.url+`/object/upload/sign/${a}`);return c.searchParams.set("token",e),s.handleOperation(async()=>{let u;const f=Ze({upsert:LE.upsert},r),h=Ze(Ze({},s.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",f.cacheControl)):(u=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType),{path:i,fullPath:(await Ry(s.fetch,c.toString(),u,{headers:h})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const s=Ze({},n.headers);e?.upsert&&(s["x-upsert"]="true");const i=await bs(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),c=a.searchParams.get("token");if(!c)throw new Qh("No token returned by API");return{signedUrl:a.toString(),path:t,token:c}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await bs(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await bs(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(t),i=await bs(r.fetch,`${r.url}/object/sign/${s}`,Ze({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const s=await bs(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(a=>Ze(Ze({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null}))})}download(t,e,n){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),i=s?`?${s}`:"",a=this._getFinalPath(t),c=()=>yu(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0},n);return new a7(c,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>Cy(await yu(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await i7(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Jh(r)&&r instanceof YC){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],s=e?.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const i=typeof e?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(e?.transform||{});a!==""&&r.push(a);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${c}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await av(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const s=Ze(Ze(Ze({},l7),e),{},{prefix:t||""});return await bs(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=Ze({},t);return await bs(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const u7="2.95.3",Lu={"X-Client-Info":`storage-js/${u7}`};var d7=class extends Dl{constructor(t,e={},n,r){const s=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=Ze(Ze({},Lu),e);super(i,a,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await yu(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await yu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await bs(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await Ry(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await bs(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await av(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},f7=class extends Dl{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=Ze(Ze({},Lu),e);super(r,s,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await bs(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await yu(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await av(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Z$(t))throw new Qh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Y$({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...c)=>{try{return{data:await a.apply(s,c),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}},h7=class extends Dl{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=Ze(Ze({},Lu),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await $r.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await $r.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await $r.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await $r.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},p7=class extends Dl{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=Ze(Ze({},Lu),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await $r.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await $r.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await $r.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await $r.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await $r.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},m7=class extends Dl{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=Ze(Ze({},Lu),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await $r.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await $r.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await $r.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await $r.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},g7=class extends m7{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new y7(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},y7=class extends h7{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Ze(Ze({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Ze(Ze({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new w7(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},w7=class extends p7{constructor(t,e,n,r,s){super(t,e,s),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Ze(Ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Ze(Ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Ze(Ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Ze(Ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Ze(Ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},v7=class extends d7{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new c7(this.url,this.headers,t,this.fetch)}get vectors(){return new g7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new f7(this.url+"/iceberg",this.headers,this.fetch)}};const ZC="2.95.3",tl=30*1e3,Py=3,gg=Py*tl,b7="http://localhost:9999",x7="supabase.auth.token",S7={"X-Client-Info":`gotrue-js/${ZC}`},Iy="X-Supabase-Api-Version",XC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E7=600*1e3;class wu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class k7 extends wu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function A7(t){return Fe(t)&&t.name==="AuthApiError"}class $o extends wu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class wi extends wu{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Lr extends wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yg(t){return Fe(t)&&t.name==="AuthSessionMissingError"}class Wa extends wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ff extends wi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hf extends wi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function T7(t){return Fe(t)&&t.name==="AuthImplicitGrantRedirectError"}class BE extends wi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class C7 extends wi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class My extends wi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function wg(t){return Fe(t)&&t.name==="AuthRetryableFetchError"}class jE extends wi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ny extends wi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),DE=` 	
\r=`.split(""),R7=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<DE.length;e+=1)t[DE[e].charCodeAt(0)]=-2;for(let e=0;e<gh.length;e+=1)t[gh[e].charCodeAt(0)]=e;return t})();function UE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gh[r]),e.queuedBits-=6}}function eR(t,e,n){const r=R7[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function FE(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{M7(a,r,n)};for(let a=0;a<t.length;a+=1)eR(t.charCodeAt(a),s,i);return e.join("")}function P7(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function I7(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}P7(r,e)}}function M7(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function wl(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)eR(t.charCodeAt(s),n,r);return new Uint8Array(e)}function N7(t){const e=[];return I7(t,n=>e.push(n)),new Uint8Array(e)}function Zo(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>UE(s,n,r)),UE(null,n,r),e.join("")}function O7(t){return Math.round(Date.now()/1e3)+t}function L7(){return Symbol("auth-callback")}const $n=()=>typeof window<"u"&&typeof document<"u",Mo={tested:!1,writable:!1},tR=()=>{if(!$n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mo.tested)return Mo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mo.tested=!0,Mo.writable=!0}catch{Mo.tested=!0,Mo.writable=!1}return Mo.writable};function B7(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const nR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),j7=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",nl=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},No=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Fn=async(t,e)=>{await t.removeItem(e)};class Zh{constructor(){this.promise=new Zh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Zh.promiseConstructor=Promise;function pf(t){const e=t.split(".");if(e.length!==3)throw new Ny("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!_7.test(e[r]))throw new Ny("JWT not in base64url format");return{header:JSON.parse(FE(e[0])),payload:JSON.parse(FE(e[1])),signature:wl(e[2]),raw:{header:e[0],payload:e[1]}}}async function D7(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function U7(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function F7(t){return("0"+t.toString(16)).substr(-2)}function z7(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,F7).join("")}async function $7(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function W7(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await $7(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Va(t,e,n=!1){const r=z7();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await nl(t,`${e}-code-verifier`,s);const i=await W7(r);return[i,r===i?"plain":"s256"]}const V7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q7(t){const e=t.headers.get(Iy);if(!e||!e.match(V7))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function K7(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function H7(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const G7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qa(t){if(!G7.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vg(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Y7(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function zE(t){return JSON.parse(JSON.stringify(t))}const Fo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Q7=[502,503,504];async function $E(t){var e;if(!j7(t))throw new My(Fo(t),0);if(Q7.includes(t.status))throw new My(Fo(t),t.status);let n;try{n=await t.json()}catch(i){throw new $o(Fo(i),i)}let r;const s=q7(t);if(s&&s.getTime()>=XC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jE(Fo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Lr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new jE(Fo(n),t.status,n.weak_password.reasons);throw new k7(Fo(n),t.status||500,r)}const J7=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Qe(t,e,n,r){var s;const i=Object.assign({},r?.headers);i[Iy]||(i[Iy]=XC["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Z7(t,e,n+c,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function Z7(t,e,n,r,s,i){const a=J7(e,r,s,i);let c;try{c=await t(n,Object.assign({},a))}catch(u){throw console.error(u),new My(Fo(u),0)}if(c.ok||await $E(c),r?.noResolveJson)return c;try{return await c.json()}catch(u){await $E(u)}}function ms(t){var e;let n=null;tW(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=O7(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function WE(t){const e=ms(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function so(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function X7(t){return{data:t,error:null}}function eW(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=Yh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:c,user:u},error:null}}function VE(t){return t}function tW(t){return t.access_token&&t.refresh_token&&t.expires_in}const bg=["global","local","others"];class nW{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=nR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=bg[0]){if(bg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bg.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:so})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Yh(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:eW,redirectTo:n?.redirectTo})}catch(n){if(Fe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:so})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,c,u;try{const f={nextPage:null,lastPage:0,total:0},h=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:VE});if(h.error)throw h.error;const g=await h.json(),y=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);f[`${k}Page`]=x}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Fe(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){qa(e);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:so})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){qa(e);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:so})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){qa(e);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:so})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){qa(e.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){qa(e.userId),qa(e.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,a,c,u;try{const f={nextPage:null,lastPage:0,total:0},h=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:VE});if(h.error)throw h.error;const g=await h.json(),y=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);f[`${k}Page`]=x}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Fe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}}function qE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ka={debug:!!(globalThis&&tR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rR extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rW extends rR{}async function sW(t,e,n){Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rW(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ka.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function iW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sR(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function oW(t){return parseInt(t,16)}function aW(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function lW(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:c,requestId:u,resources:f,scheme:h,uri:g,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=sR(t.address),S=h?`${h}://${r}`:r,x=t.statement?`${t.statement}
`:"",k=`${S} wants you to sign in with your Ethereum account:
${v}

${x}`;let M=`URI: ${g}
Version: ${y}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(M+=`
Expiration Time: ${s.toISOString()}`),c&&(M+=`
Not Before: ${c.toISOString()}`),u&&(M+=`
Request ID: ${u}`),f){let L=`
Resources:`;for(const I of f){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);L+=`
- ${I}`}M+=L}return`${k}
${M}`}class Sn extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class yh extends Sn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function cW({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Sn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Sn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Sn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Sn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Sn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Sn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Sn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(iR(a)){if(i.rp.id!==a)return new Sn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Sn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Sn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function uW({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Sn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(iR(r)){if(n.rpId!==r)return new Sn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Sn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class dW{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const fW=new dW;function hW(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=Yh(t,["challenge","user","excludeCredentials"]),i=wl(e).buffer,a=Object.assign(Object.assign({},n),{id:wl(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];c.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:wl(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function pW(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Yh(t,["challenge","allowCredentials"]),s=wl(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const c=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},c),{id:wl(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function mW(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Zo(new Uint8Array(t.response.attestationObject)),clientDataJSON:Zo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function gW(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Zo(new Uint8Array(s.authenticatorData)),clientDataJSON:Zo(new Uint8Array(s.clientDataJSON)),signature:Zo(new Uint8Array(s.signature)),userHandle:s.userHandle?Zo(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iR(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function KE(){var t,e;return!!($n()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function yW(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yh("Browser returned unexpected credential type",e)}:{data:null,error:new yh("Empty credential response",e)}}catch(e){return{data:null,error:cW({error:e,options:t})}}}async function wW(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yh("Browser returned unexpected credential type",e)}:{data:null,error:new yh("Empty credential response",e)}}catch(e){return{data:null,error:uW({error:e,options:t})}}}const vW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},bW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wh(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){const c=r[i];e(c)?r[i]=wh(c,a):r[i]=wh(a)}else r[i]=a}return r}function xW(t,e){return wh(vW,t,e||{})}function SW(t,e){return wh(bW,t,e||{})}class _W{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){var a;try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:u};const f=s??fW.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;if(!h.name){const g=r;if(g)h.name=`${h.id}:${g}`;else{const v=(await this.client.getUser()).data.user,S=((a=v?.user_metadata)===null||a===void 0?void 0:a.name)||v?.email||v?.id||"User";h.name=`${h.id}:${S}`}}h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=xW(c.webauthn.credential_options.publicKey,i?.create),{data:g,error:y}=await yW({publicKey:h,signal:f});return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const h=SW(c.webauthn.credential_options.publicKey,i?.request),{data:g,error:y}=await wW(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:f}));return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(c){return Fe(c)?{data:null,error:c}:{data:null,error:new $o("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new wu("rpId is required for WebAuthn authentication")};try{if(!KE())return{data:null,error:new $o("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:c};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(a){return Fe(a)?{data:null,error:a}:{data:null,error:new $o("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new wu("rpId is required for WebAuthn registration")};try{if(!KE())return{data:null,error:new $o("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var g;return(g=h.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:c};const{data:u,error:f}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(a){return Fe(a)?{data:null,error:a}:{data:null,error:new $o("Unexpected error in register",a)}}}}iW();const EW={url:b7,storageKey:x7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function HE(t,e,n){return await n()}const Ha={};class vu{get jwks(){var e,n;return(n=(e=Ha[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ha[this.storageKey]=Object.assign(Object.assign({},Ha[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ha[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ha[this.storageKey]=Object.assign(Object.assign({},Ha[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},EW),e);if(this.storageKey=i.storageKey,this.instanceID=(n=vu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,vu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&$n()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new nW({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=nR(i.fetch),this.lock=i.lock||HE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&$n()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=sW:this.lock=HE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _W(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:tR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=qE(this.memoryStorage)),$n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ZC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if($n()&&(n=B7(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),$n()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),T7(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Fe(n)?this._returnResult({error:n}):this._returnResult({error:new $o("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:ms}),{data:a,error:c}=i;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});const u=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(Fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:h,password:g,options:y}=e;let v=null,S=null;this.flowType==="pkce"&&([v,S]=await Va(this.storage,this.storageKey)),i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:h,password:g,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:S},xform:ms})}else if("phone"in e){const{phone:h,password:g,options:y}=e;i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(s=y?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:ms})}else throw new ff("You must provide either an email or phone number and a password");const{data:a,error:c}=i;if(c||!a)return await Fn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const u=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:c}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:WE})}else if("phone"in e){const{phone:i,password:a,options:c}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:WE})}else throw new ff("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Wa;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,a,c,u,f,h,g,y;let v,S;if("message"in e)v=e.message,S=e.signature;else{const{chain:x,wallet:k,statement:M,options:L}=e;let I;if($n())if(typeof k=="object")I=k;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")I=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=k}const W=new URL((n=L?.url)!==null&&n!==void 0?n:window.location.href),q=await I.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=sR(q[0]);let te=(r=L?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!te){const z=await I.request({method:"eth_chainId"});te=oW(z)}const ne={domain:W.host,address:J,statement:M,uri:W.href,version:"1",chainId:te,nonce:(s=L?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=L?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=L?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=L?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=L?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=L?.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=lW(ne),S=await I.request({method:"personal_sign",params:[aW(v),J]})}try{const{data:x,error:k}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:S},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ms});if(k)throw k;if(!x||!x.session||!x.user){const M=new Wa;return this._returnResult({data:{user:null,session:null},error:M})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:k})}catch(x){if(Fe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var n,r,s,i,a,c,u,f,h,g,y,v;let S,x;if("message"in e)S=e.message,x=e.signature;else{const{chain:k,wallet:M,statement:L,options:I}=e;let W;if($n())if(typeof M=="object")W=M;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))W=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=M}const q=new URL((n=I?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in W&&W.signIn){const J=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),L?{statement:L}:null));let te;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")te=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)te=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)S=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),x=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${q.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(s=(r=I?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=I?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((a=I?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((c=I?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((u=I?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((f=I?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((g=(h=I?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...I.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const J=await W.signMessage(new TextEncoder().encode(S),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=J}}try{const{data:k,error:M}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Zo(x)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ms});if(M)throw M;if(!k||!k.session||!k.user){const L=new Wa;return this._returnResult({data:{user:null,session:null},error:L})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:M})}catch(k){if(Fe(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await No(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new C7;const{data:i,error:a}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ms});if(await Fn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const c=new Wa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Fe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,c=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ms}),{data:u,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const h=new Wa;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:c,options:u}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Va(this.storage,this.storageKey));const{error:g}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:c,options:u}=e,{data:f,error:h}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=u?.data)!==null&&s!==void 0?s:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new ff("You must provide either an email or phone number.")}catch(c){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Fe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:c}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ms});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,f=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(s){if(Fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,a;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Va(this.storage,this.storageKey));const f=await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:X7});return!((i=f.data)===null||i===void 0)&&i.url&&$n()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Fe(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Lr;const{error:s}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Fe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:c}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new ff("You must provide either an email or phone number and a type")}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await No(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<gg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await No(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=vg()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Y7(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:so}):await this._useSession(async n=>{var r,s,i;const{data:a,error:c}=n;if(c)throw c;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lr}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:so})})}catch(n){if(Fe(n))return yg(n)&&(await this._removeSession(),await Fn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Lr;const a=s.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await Va(this.storage,this.storageKey));const{data:f,error:h}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:so});if(h)throw h;return a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Fe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Lr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=pf(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Fe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:c}=n;if(c)throw c;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Lr;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!$n())throw new hf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new BE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new BE("No code detected.");const{data:L,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:c,expires_at:u,token_type:f}=e;if(!i||!c||!a||!f)throw new hf("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(c);let y=h+g;u&&(y=parseInt(u));const v=y-h;v*1e3<=tl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const S=y-g;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,h);const{data:x,error:k}=await this._getUser(i);if(k)throw k;const M={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:y,refresh_token:a,token_type:f,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:e.type},error:null})}catch(r){if(Fe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await No(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!yg(i))return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:c}=await this.admin.signOut(a,e);if(c&&!(A7(c)&&(c.status===404||c.status===401||c.status===403)||yg(c)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Fn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=L7(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Va(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Fe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,c,u,f,h;const{data:g,error:y}=i;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return $n()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(Fe(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:c,token:u,access_token:f,nonce:h}=e,g=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:u,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ms}),{data:y,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Wa}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(s){if(await Fn(this.storage,`${this.storageKey}-code-verifier`),Fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await U7(async s=>(s>0&&await D7(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ms})),(s,i)=>{const a=200*Math.pow(2,s);return i&&wg(i)&&Date.now()+a-r<tl})}catch(r){if(this._debug(n,"error",r),Fe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),$n()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await No(this.storage,this.storageKey);if(s&&this.userStorage){let a=await No(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await nl(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a?.user)!==null&&e!==void 0?e:vg()}else if(s&&!s.user&&!s.user){const a=await No(this.storage,this.storageKey+"-user");a&&a?.user?(s.user=a.user,await Fn(this.storage,this.storageKey+"-user"),await nl(this.storage,this.storageKey,s)):s.user=vg()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<gg;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${gg}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),wg(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:c}=await this._getUser(s.access_token);!c&&a?.user?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Lr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Zh;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Lr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),Fe(i)){const a={data:null,error:i};return wg(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Fn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await nl(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=zE(s);await nl(this.storage,this.storageKey,i)}else{const s=zE(n);await nl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Fn(this.storage,this.storageKey),await Fn(this.storage,this.storageKey+"-code-verifier"),await Fn(this.storage,this.storageKey+"-user"),this.userStorage&&await Fn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$n()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),tl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/tl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${tl}ms, refresh threshold is ${Py} ticks`),s<=Py&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof rR)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$n()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Va(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(c.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await Qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:f}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&u.type==="totp"&&(!((s=u?.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?mW(e.webauthn.credential_response):gW(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:u}=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:hW(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:pW(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n?.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,s,i;if(e)try{const{payload:v}=pf(e);let S=null;v.aal&&(S=v.aal);let x=S;const{data:{user:k},error:M}=await this.getUser(e);if(M)return this._returnResult({data:null,error:M});((r=(n=k?.factors)===null||n===void 0?void 0:n.filter(W=>W.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(x="aal2");const I=v.amr||[];return{data:{currentLevel:S,nextLevel:x,currentAuthenticationMethods:I},error:null}}catch(v){if(Fe(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=pf(a.access_token);let f=null;u.aal&&(f=u.aal);let h=f;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const y=u.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Lr})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Lr});const a=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&$n()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Lr});const a=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&$n()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Qe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Lr})})}catch(e){if(Fe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await Qe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Lr})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(c=>c.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+E7>s)return r;const{data:i,error:a}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:S}=await this.getSession();if(S||!v.session)return this._returnResult({data:null,error:S});r=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:c,payload:u}}=pf(r);n?.allowExpired||K7(i.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const h=H7(s.alg),g=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,a,N7(`${c}.${u}`)))throw new Ny("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}}vu.nextInstanceID={};const kW=vu,AW="2.95.3";let Vc="";typeof Deno<"u"?Vc="deno":typeof document<"u"?Vc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vc="react-native":Vc="node";const TW={"X-Client-Info":`supabase-js-${Vc}/${AW}`},CW={headers:TW},RW={schema:"public"},PW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IW={};function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function MW(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NW(t){var e=MW(t,"string");return bu(e)=="symbol"?e:e+""}function OW(t,e,n){return(e=NW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(n),!0).forEach(function(r){OW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const LW=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BW=()=>Headers,jW=(t,e,n)=>{const r=LW(n),s=BW();return async(i,a)=>{var c;const u=(c=await e())!==null&&c!==void 0?c:t;let f=new s(a?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),r(i,fn(fn({},a),{},{headers:f}))}};function DW(t){return t.endsWith("/")?t:t+"/"}function UW(t,e){var n,r;const{db:s,auth:i,realtime:a,global:c}=t,{db:u,auth:f,realtime:h,global:g}=e,y={db:fn(fn({},u),s),auth:fn(fn({},f),i),realtime:fn(fn({},h),a),storage:{},global:fn(fn(fn({},g),c),{},{headers:fn(fn({},(n=g?.headers)!==null&&n!==void 0?n:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function FW(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DW(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zW=class extends kW{constructor(t){super(t)}},$W=class{constructor(t,e,n){var r,s;this.supabaseUrl=t,this.supabaseKey=e;const i=FW(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,c={db:RW,realtime:IW,auth:fn(fn({},PW),{},{storageKey:a}),global:CW},u=UW(n??{},c);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=u.auth)!==null&&f!==void 0?f:{},this.headers,u.global.fetch)}this.fetch=jW(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(fn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new A$(new URL("rest/v1",i).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch,timeout:u.db.timeout,urlLengthLimit:u.db.urlLengthLimit}),this.storage=new v7(this.storageUrl.href,this.headers,this.fetch,n?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new w$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:c,debug:u,throwOnError:f},h,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zW({url:this.authUrl.href,headers:fn(fn({},y),h),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:c,debug:u,throwOnError:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new W$(this.realtimeUrl.href,fn(fn({},t),{},{params:fn(fn({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const WW=(t,e,n)=>new $W(t,e,n);function VW(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}VW()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qW="https://bcpvldktdqjrvlidqbvj.supabase.co",KW="sb_publishable_cYPMsZvzb3i-5t63IhgHtw_SwxXKXZw",Ds=WW(qW,KW);function oR(){return!1}const aR="mf-offline-queue";function lR(){try{const t=localStorage.getItem(aR);return t?JSON.parse(t):[]}catch{return[]}}function cR(t){localStorage.setItem(aR,JSON.stringify(t))}function YE(t){const e=lR();e.push({data:t,timestamp:Date.now()}),e.length>50&&e.splice(0,e.length-50),cR(e)}async function vh(){if(!Ds)return;const t=lR();if(t.length===0)return;const e=[];for(let n=0;n<t.length;n++)try{const{error:r}=await Ds.from("game_saves").upsert(t[n].data,{onConflict:"telegram_id"});r||e.push(n)}catch{}if(e.length>0){const n=t.filter((r,s)=>!e.includes(s));cR(n)}}async function uR(t){if(!Ds)return null;try{const{data:e,error:n}=await Ds.from("game_saves").select("*").eq("telegram_id",t).single();return n||!e?null:e}catch{return null}}async function Oy(t){if(!Ds)return!1;try{const{error:e}=await Ds.from("game_saves").upsert({...t,updated_at:new Date().toISOString()},{onConflict:"telegram_id"});return e?(console.warn("Supabase save error, queuing offline:",e.message),YE(t),!1):(await vh(),!0)}catch{return YE(t),!1}}async function Ly(t,e){if(!Ds)return!1;try{const{data:n}=await Ds.from("game_saves").select("high_score").eq("telegram_id",t).single(),r=n?.high_score??0;if(e<=r)return!1;const{error:s}=await Ds.from("game_saves").update({high_score:e,updated_at:new Date().toISOString()}).eq("telegram_id",t);return!s}catch{return!1}}const QE=Object.freeze(Object.defineProperty({__proto__:null,flushOfflineQueue:vh,isGuestMode:oR,loadGameSave:uR,saveGameToSupabase:Oy,supabase:Ds,updateHighScore:Ly},Symbol.toStringTag,{value:"Module"})),xg="GnNkrN2oDNre6tR6i2Z71vgMbvE8tfVeWu5VtUN4ocUX",Xi="https://api.mainnet-beta.solana.com",ps=[{name:"Beginner",maxEnergy:100,recoverySeconds:300,costPerTap:.5,gainPerTap:.001,upgradeCost:0,solPrice:0},{name:"Gym Rat",maxEnergy:300,recoverySeconds:7200,costPerTap:1,gainPerTap:.01,upgradeCost:5,solPrice:.15},{name:"Influencer",maxEnergy:750,recoverySeconds:14400,costPerTap:2.5,gainPerTap:.1,upgradeCost:1e4,solPrice:.45},{name:"Pro",maxEnergy:1500,recoverySeconds:360*60,costPerTap:5,gainPerTap:.4,upgradeCost:5e4,solPrice:1.5},{name:"Legend",maxEnergy:1500,recoverySeconds:480*60,costPerTap:7.5,gainPerTap:.75,upgradeCost:2e5,solPrice:3},{name:"Muscle God",maxEnergy:1e4,recoverySeconds:480*60,costPerTap:25,gainPerTap:1,upgradeCost:-1,solPrice:10}];function HW(){const t=window.location.origin+window.location.pathname;return`https://phantom.app/ul/browse/${encodeURIComponent(t)}`}function GW(){return!!window.phantom?.solana?.isPhantom||!!window.solana?.isPhantom}function YW(t){if(t<=0)return"FULL";const e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=Math.floor(t%60);return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function Mc(){const{toast:t}=pk(),[e,n]=D.useState(null),[r,s]=D.useState(null),[i,a]=D.useState(!1);D.useEffect(()=>{d$();const Q=c$(),ye=u$();n(Q),s(ye),a(!0),Q&&vh();const Ce=()=>{Q&&vh()};return window.addEventListener("online",Ce),()=>window.removeEventListener("online",Ce)},[]);const[c,u]=D.useState(()=>{const Q=localStorage.getItem("mf-level");return Q!==null?Number(Q):0}),[f,h]=D.useState(()=>{const Q=localStorage.getItem("mf-points");return Q!==null?Number(Q):0}),[g,y]=D.useState(()=>{const Q=localStorage.getItem("mf-energy"),ye=localStorage.getItem("mf-last-tap-ts"),Ce=localStorage.getItem("mf-level"),Ne=Ce!==null?Number(Ce):0,Ie=ps[Ne];if(Q!==null&&ye!==null){const it=Number(Q),Kt=Number(ye),jn=(Date.now()-Kt)/1e3,gr=Ie.maxEnergy/Ie.recoverySeconds,is=it+jn*gr;return Math.min(Ie.maxEnergy,is)}return Ie.maxEnergy}),[v,S]=D.useState(()=>{const Q=localStorage.getItem("mf-last-tap-ts");return Q!==null?Number(Q):Date.now()}),[x,k]=D.useState(()=>localStorage.getItem("wallet-address")||""),[M,L]=D.useState(()=>localStorage.getItem("wallet-secret-key")||""),[I,W]=D.useState(()=>!!localStorage.getItem("wallet-address")),[q,J]=D.useState(!1),[te,ne]=D.useState(()=>localStorage.getItem("wallet-type")||null),z=sv(),[G,X]=D.useState(null),[Z,N]=D.useState(!1),[m,E]=D.useState(()=>localStorage.getItem("mf-god-pack-expiry")),O={0:{minAmount:1e3,feePercent:10,delayHours:72,delayLabel:"72h"},1:{minAmount:1e3,feePercent:5,delayHours:48,delayLabel:"48h"},2:{minAmount:5e3,feePercent:3,delayHours:24,delayLabel:"24h"},3:{minAmount:15e3,feePercent:2,delayHours:12,delayLabel:"12h"},4:{minAmount:15e3,feePercent:2,delayHours:12,delayLabel:"12h"},5:{minAmount:15e3,feePercent:1,delayHours:0,delayLabel:"Instant"}},[j,B]=D.useState(""),[V,H]=D.useState(!1),[P,w]=D.useState([]),[_,U]=D.useState(!1),K=D.useCallback(async()=>{if(e)try{const{supabase:Q}=await V1(async()=>{const{supabase:Ce}=await Promise.resolve().then(()=>QE);return{supabase:Ce}},void 0);if(!Q)return;const{data:ye}=await Q.from("withdrawals").select("*").eq("telegram_id",e).order("created_at",{ascending:!1});ye&&w(ye)}catch{}},[e]),se=D.useCallback(async Q=>{N(!0);try{const ye=await fetch(Xi,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getBalance",params:[Q]})});if(ye.ok){const Ce=await ye.json();X((Ce.result?.value??0)/N0)}else X(null)}catch{X(null)}finally{N(!1)}},[]);D.useEffect(()=>{if(z.connected&&z.publicKey){const Q=z.publicKey.toBase58();k(Q),ne("phantom"),W(!0),localStorage.setItem("wallet-address",Q),se(Q),e&&kn()}else z.connected||X(null)},[z.connected,z.publicKey]),D.useEffect(()=>{if(!z.connected||!z.publicKey)return;const Q=setInterval(()=>{se(z.publicKey.toBase58())},3e4);return()=>clearInterval(Q)},[z.connected,z.publicKey,se]);const le=D.useCallback(async()=>{try{z.connected&&await z.disconnect(),k(""),ne(null),W(!1),L(""),J(!1),X(null),localStorage.removeItem("wallet-address"),localStorage.removeItem("wallet-type"),localStorage.removeItem("wallet-secret-key"),t({title:"Wallet Disconnected"})}catch{t({title:"Failed to disconnect",variant:"destructive"})}},[z,t]),[ge,we]=D.useState([]),[Ve,lt]=D.useState(!1),[pt,Ft]=D.useState(""),qe=ps[c],Ot=g/qe.maxEnergy*100;D.useEffect(()=>{localStorage.setItem("mf-level",c.toString()),localStorage.setItem("mf-points",f.toString()),localStorage.setItem("mf-energy",g.toString()),localStorage.setItem("mf-last-tap-ts",v.toString()),localStorage.setItem("wallet-address",x),localStorage.setItem("wallet-secret-key",M),te?localStorage.setItem("wallet-type",te):localStorage.removeItem("wallet-type")},[c,f,g,v,x,M,te]),D.useEffect(()=>{const Q=setInterval(()=>{y(ye=>{if(ye>=qe.maxEnergy)return Ft("FULL"),qe.maxEnergy;const Ce=qe.maxEnergy/qe.recoverySeconds,Ne=Math.min(qe.maxEnergy,ye+Ce),Ie=qe.maxEnergy-Ne;if(Ie<=0)Ft("FULL");else{const it=Ie/Ce;Ft(YW(it))}return Ne})},1e3);return()=>clearInterval(Q)},[qe]);const kn=D.useCallback(Q=>{if(!e)return;const ye=Q?.points??f;Oy({telegram_id:e,username:r,muscle_points:ye,level:Q?.level??c,current_energy:Q?.energy??g,last_tap_timestamp:new Date(v).toISOString(),wallet_address:x||null,god_pack_expiry:m||null}).then(()=>{Ly(e,ye)})},[f,c,g,v,x,e,r,m]),Et=D.useCallback(Q=>{if(g<qe.costPerTap)return;const ye="touches"in Q?Q.touches[0].clientX:Q.clientX,Ce="touches"in Q?Q.touches[0].clientY:Q.clientY;y(Ie=>Math.max(0,Ie-qe.costPerTap)),h(Ie=>Ie+qe.gainPerTap),S(Date.now()),f$();const Ne=Date.now()+Math.random();we(Ie=>[...Ie,{id:Ne,x:ye,y:Ce,gain:qe.gainPerTap}]),setTimeout(()=>we(Ie=>Ie.filter(it=>it.id!==Ne)),1e3),c>=4&&(lt(!0),setTimeout(()=>lt(!1),150))},[g,qe,c]),Rt=D.useCallback(()=>{if(c>=5)return;const Q=c+1,ye=ps[Q].upgradeCost;if(ye===-1){t({title:"Muscle God requires 10 SOL payment",description:"Use the golden button below to ascend!"});return}if(f<ye){t({title:"Not enough $MF!",variant:"destructive"});return}const Ce=f-ye;h(Ce),u(Q);const Ne=ps[Q];y(Ne.maxEnergy),localStorage.setItem("mf-level",String(Q)),localStorage.setItem("mf-energy",String(Ne.maxEnergy)),localStorage.setItem("mf-points",String(Ce)),kn({level:Q,energy:Ne.maxEnergy,points:Ce}),t({title:`Ranked up to ${Ne.name}!`,description:`Gain: ${Ne.gainPerTap} $MF/tap. Energy: ${Ne.maxEnergy.toLocaleString()}.`})},[c,f,t,kn]),rs=(Q,ye)=>{navigator.clipboard.writeText(Q),t({title:`${ye} Copied!`})},[st,et]=D.useState(!1),[mn,nt]=D.useState(""),[bt,kt]=D.useState(0),[Lt,$]=D.useState(!1),[A,C]=D.useState(null),[Y,oe]=D.useState(!1),[ce,me]=D.useState([]),[rt,Xe]=D.useState([]),[Ye,ft]=D.useState(!1),[Ue,Pt]=D.useState("0.1"),[vi,ht]=D.useState(!1),xt=D.useCallback(()=>{oe(!0);const Q=window.innerWidth/2,ye=window.innerHeight/2,Ce=["#d4ff00","#ffd700","#fff8dc","#ffb300","#ffe066","#ffffff"],Ne=[];for(let Ie=0;Ie<80;Ie++){const it=Math.PI*2*Ie/80+(Math.random()-.5)*.5,Kt=100+Math.random()*350;Ne.push({id:Ie,x:Q,y:ye,tx:`${Math.cos(it)*Kt}px`,ty:`${Math.sin(it)*Kt}px`,color:Ce[Math.floor(Math.random()*Ce.length)],size:4+Math.random()*10,delay:Math.random()*.3})}me(Ne),setTimeout(()=>{oe(!1),me([])},2500)},[]),ss=D.useRef(null),Bt=D.useCallback(()=>{ss.current&&clearTimeout(ss.current);const Q=["#d4ff00","#ffd700","#ff6b00","#00f2ff","#ff00ff","#ffffff","#ffb300"],ye=[];for(let Ce=0;Ce<60;Ce++)ye.push({id:Ce,x:Math.random()*100,delay:Math.random()*2,duration:2+Math.random()*3,color:Q[Math.floor(Math.random()*Q.length)],size:6+Math.random()*8,rotation:Math.random()*360});Xe(ye),ss.current=setTimeout(()=>Xe([]),5e3)},[]);D.useEffect(()=>()=>{ss.current&&clearTimeout(ss.current)},[]);const At=D.useRef(null),Ts=D.useCallback(async(Q,ye,Ce)=>{if(!z.publicKey||!z.signTransaction){t({title:"Wallet not ready",description:"Please reconnect your wallet and try again.",variant:"destructive"}),et(!1);return}if(G!==null&&G<Q+.005){t({title:"Insufficient balance for this transaction",description:`You need at least ${Q} SOL plus gas fees. Current balance: ${G.toFixed(4)} SOL`,variant:"destructive"}),et(!1);return}et(!0),kt(1),nt("Creating transaction...");try{const Ne=await fetch(Xi,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getLatestBlockhash",params:[{commitment:"finalized"}]})});if(!Ne.ok)throw new Error("Failed to get blockhash from network");const Ie=await Ne.json(),it=Ie.result?.value?.blockhash,Kt=Ie.result?.value?.lastValidBlockHeight;if(!it)throw new Error("Invalid blockhash response");const lr=new We(xg),jn=new kr().add(Cl.transfer({fromPubkey:z.publicKey,toPubkey:lr,lamports:Math.round(Q*N0)}));jn.recentBlockhash=it,jn.feePayer=z.publicKey,kt(2),nt("Confirm in your wallet...");const gr=await z.signTransaction(jn);kt(3),nt(ye==="muscle_god"?"Ascending to Godhood... Checking Blockchain...":"Sending to blockchain...");const is=gr.serialize().toString("base64"),os=await fetch(Xi,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"sendTransaction",params:[is,{encoding:"base64",preflightCommitment:"confirmed"}]})});if(!os.ok)throw new Error("Failed to send transaction");const yt=await os.json();if(yt.error)throw new Error(yt.error.message||"Failed to send transaction");const bi=yt.result;nt("Confirming on blockchain...");let as=!1;for(let ln=0;ln<30;ln++){await new Promise(Gn=>setTimeout(Gn,2e3));const Kr=(await(await fetch(Xi,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getSignatureStatuses",params:[[bi]]})})).json()).result?.value?.[0];if(Kr?.confirmationStatus==="confirmed"||Kr?.confirmationStatus==="finalized"){if(Kr.err)throw new Error("Transaction failed on-chain");as=!0;break}}if(!as)throw new Error("Transaction confirmation timed out");kt(4),nt("Verified!");const cr={godPackExpiryDate:null};if(ye==="muscle_god"){const ln=new Date(Date.now()+864e7).toISOString();cr.godPackExpiryDate=ln}if(z.publicKey&&se(z.publicKey.toBase58()),ye==="muscle_god")u(5),y(1e4),localStorage.setItem("mf-level","5"),localStorage.setItem("mf-energy","10000"),cr.godPackExpiryDate&&(E(cr.godPackExpiryDate),localStorage.setItem("mf-god-pack-expiry",cr.godPackExpiryDate)),kn({level:5,energy:1e4}),et(!1),nt(""),kt(0),xt(),Bt(),$(!0);else if(ye==="tier_upgrade"&&Ce!==void 0){const ln=ps[Ce];u(Ce),y(ln.maxEnergy),localStorage.setItem("mf-level",String(Ce)),localStorage.setItem("mf-energy",String(ln.maxEnergy)),kn({level:Ce,energy:ln.maxEnergy}),et(!1),nt(""),kt(0),xt(),Bt(),t({title:`Upgraded to ${ln.name}!`,description:`You are now Level ${Ce}. Gain: ${ln.gainPerTap} $MF/tap. Energy: ${ln.maxEnergy.toLocaleString()}.`})}else y(qe.maxEnergy),kn({energy:qe.maxEnergy}),t({title:"Energy Refilled!",description:"Your energy is now at maximum!"}),et(!1),nt(""),kt(0)}catch(Ne){et(!1),nt(""),kt(0);const Ie=Ne?.message||"";Ie.includes("User rejected")||Ie.includes("rejected")?t({title:"Transaction cancelled by user",description:"No SOL was spent.",variant:"destructive"}):Ie.includes("Insufficient")||Ie.includes("insufficient")?t({title:"Insufficient balance for this transaction",description:"You don't have enough SOL to complete this transaction.",variant:"destructive"}):Ie.includes("expired")||Ie.includes("blockhash")?t({title:"Transaction expired",description:"The transaction timed out. No SOL was spent. Please try again.",variant:"destructive"}):t({title:"Transaction failed",description:Ie||"No SOL was spent. Please try again.",variant:"destructive"})}},[z,qe,t,xt,Bt,se,G,kn]);D.useEffect(()=>{if(z.connected&&z.publicKey&&At.current){const{amount:Q,type:ye,targetLevel:Ce}=At.current;At.current=null,Ts(Q,ye,Ce)}},[z.connected,z.publicKey,Ts]);const jt=D.useCallback(async(Q,ye,Ce)=>{if(et(!0),!z.connected){nt("Connecting wallet..."),At.current={amount:Q,type:ye,targetLevel:Ce};try{await z.connect()}catch(Ne){Ne?.message?.includes("User rejected")?t({title:"Wallet connection cancelled",variant:"destructive"}):t({title:"Failed to connect wallet",description:Ne?.message||"Unknown error",variant:"destructive"}),At.current=null,et(!1),nt("")}return}await Ts(Q,ye,Ce)},[z,Ts,t]),Dt=D.useCallback(async Q=>{if(!z.publicKey||!z.signTransaction){t({title:"Wallet not ready",description:"Please reconnect your wallet and try again.",variant:"destructive"}),et(!1);return}if(G!==null&&G<Q+.005){t({title:"Insufficient balance for this transaction",description:`You need at least ${Q} SOL plus gas fees. Current balance: ${G.toFixed(4)} SOL`,variant:"destructive"}),et(!1);return}et(!0),kt(1),nt("Creating donation...");try{const ye=await fetch(Xi,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getLatestBlockhash",params:[{commitment:"finalized"}]})});if(!ye.ok)throw new Error("Failed to get blockhash from network");const Ne=(await ye.json()).result?.value?.blockhash;if(!Ne)throw new Error("Invalid blockhash response");const Ie=new We(xg),it=new kr().add(Cl.transfer({fromPubkey:z.publicKey,toPubkey:Ie,lamports:Math.round(Q*N0)}));it.recentBlockhash=Ne,it.feePayer=z.publicKey,kt(2),nt("Confirm in your wallet...");const Kt=await z.signTransaction(it);kt(3),nt("Sending donation to blockchain...");const lr=Kt.serialize().toString("base64"),jn=await fetch(Xi,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"sendTransaction",params:[lr,{encoding:"base64",preflightCommitment:"confirmed"}]})});if(!jn.ok)throw new Error("Failed to send donation");const gr=await jn.json();if(gr.error)throw new Error(gr.error.message||"Failed to send donation");const is=gr.result;nt("Confirming donation...");let os=!1;for(let yt=0;yt<30;yt++){await new Promise(ln=>setTimeout(ln,2e3));const cr=(await(await fetch(Xi,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getSignatureStatuses",params:[[is]]})})).json()).result?.value?.[0];if(cr?.confirmationStatus==="confirmed"||cr?.confirmationStatus==="finalized"){if(cr.err)throw new Error("Donation failed on-chain");os=!0;break}}if(!os)throw new Error("Donation confirmation timed out");kt(4),nt("Donation confirmed!"),z.publicKey&&se(z.publicKey.toBase58()),t({title:"Donation Successful!",description:`Thank you for donating ${Q} SOL. 95% goes to Liquidity Pool.`}),et(!1),nt(""),kt(0)}catch(ye){et(!1),nt(""),kt(0);const Ce=ye?.message||"";Ce.includes("User rejected")||Ce.includes("rejected")?t({title:"Transaction cancelled by user",description:"No SOL was spent.",variant:"destructive"}):Ce.includes("Insufficient")||Ce.includes("insufficient")?t({title:"Insufficient balance for this transaction",description:"You don't have enough SOL.",variant:"destructive"}):t({title:"Donation failed",description:Ce||"Please try again.",variant:"destructive"})}},[z,t,se,G]),yo=D.useCallback(async()=>{if(!e||oR()){t({title:"Telegram required",description:"Connect via Telegram to withdraw $MSCF",variant:"destructive"});return}const Q=parseFloat(j),ye=O[c]||O[0];if(isNaN(Q)||Q<ye.minAmount){t({title:"Invalid amount",description:`Minimum ${ye.minAmount.toLocaleString()} $MF required`,variant:"destructive"});return}if(Q>f){t({title:"Insufficient balance",description:"You don't have enough $MF",variant:"destructive"});return}if(!I||!x){t({title:"Wallet required",description:"Connect your wallet first",variant:"destructive"});return}H(!0);try{const Ce=Q*ye.feePercent/100,Ne=Q-Ce,Ie=f-Q,{supabase:it}=await V1(async()=>{const{supabase:lr}=await Promise.resolve().then(()=>QE);return{supabase:lr}},void 0);if(!it)throw new Error("Database not available");const{error:Kt}=await it.from("withdrawals").insert({telegram_id:e,wallet_address:x,amount:Q,fee_percent:ye.feePercent,fee_amount:Ce,net_amount:Ne,rank_at_withdrawal:c,delay_hours:ye.delayHours,status:ye.delayHours===0?"completed":"pending",available_at:ye.delayHours===0?new Date().toISOString():new Date(Date.now()+ye.delayHours*36e5).toISOString()});if(Kt)throw Kt;h(Ie),localStorage.setItem("mf-points",String(Ie)),kn({points:Ie}),B(""),K(),ye.delayHours===0?t({title:"Withdrawal Complete!",description:`${Ne.toLocaleString()} $MF sent instantly. ${Ce.toLocaleString()} $MF burned.`}):t({title:"Withdrawal Submitted!",description:`${Ne.toLocaleString()} $MF will be available in ${ye.delayLabel}. ${Ce.toLocaleString()} $MF burned.`}),h$()}catch{p$(),t({title:"Error",description:"Withdrawal failed. Try again.",variant:"destructive"})}finally{H(!1)}},[j,c,f,I,x,t,K,e,kn]),It=D.useCallback(async()=>{const Q=parseFloat(Ue);if(isNaN(Q)||Q<1e-4){t({title:"Invalid amount",description:"Minimum donation is 0.0001 SOL",variant:"destructive"});return}if(ht(!1),ft(!1),!z.connected)try{await z.connect()}catch{t({title:"Wallet connection failed",variant:"destructive"});return}await Dt(Q)},[Ue,z,Dt,t]),gt=c===5,Pr=c<4&&f>=ps[c+1].upgradeCost,qt=c<5?ps[c+1]?.upgradeCost??-1:-1,Mt=Q=>Q<.01?`+${Q.toFixed(4)}`:Q<1?`+${Q.toFixed(2)}`:`+${Q.toFixed(2)}`,[Bn]=CI();D.useEffect(()=>{Bn==="/wallet"&&I&&K()},[Bn,I,K]);const Nt=D.useRef(),Ut=D.useRef(!1);if(D.useEffect(()=>{if(m){const Q=new Date(m).getTime();if(Date.now()>=Q&&c===5){u(4);const ye=ps[4];y(ye.maxEnergy),E(null),localStorage.setItem("mf-level","4"),localStorage.setItem("mf-energy",String(ye.maxEnergy)),localStorage.removeItem("mf-god-pack-expiry"),t({title:"GOD PACK Expired",description:"Your Muscle God status has expired. You have been reverted to Legend rank."}),kn({level:4,energy:ye.maxEnergy})}}},[m,c,t,kn]),D.useEffect(()=>{if(e)return Ut.current||(Ut.current=!0,uR(e).then(Q=>{if(Q){const ye=Q.muscle_points??0,Ce=Q.level??0,Ne=Number(localStorage.getItem("mf-points")||"0"),Ie=Number(localStorage.getItem("mf-level")||"0");if(ye>Ne||Ce>Ie){h(Math.max(ye,Ne)),u(Math.max(Ce,Ie));const it=ps[Math.max(Ce,Ie)];if(Q.last_tap_timestamp){const Kt=(Date.now()-new Date(Q.last_tap_timestamp).getTime())/1e3,lr=it.maxEnergy/it.recoverySeconds,jn=Math.min(it.maxEnergy,(Q.current_energy??0)+Kt*lr);y(jn)}}Q.god_pack_expiry&&(E(Q.god_pack_expiry),localStorage.setItem("mf-god-pack-expiry",Q.god_pack_expiry))}}).catch(()=>{})),Nt.current=setInterval(()=>{Oy({telegram_id:e,username:r,muscle_points:f,level:c,current_energy:g,last_tap_timestamp:new Date(v).toISOString(),wallet_address:x||null,god_pack_expiry:m||null}).then(()=>{Ly(e,f)})},3e4),()=>clearInterval(Nt.current)},[f,c,g,v,x,e,r,m]),!i)return R.jsx("div",{className:"bg-[#000000] text-white flex items-center justify-center",style:{height:"100dvh"},children:R.jsxs("div",{className:"text-center space-y-4",children:[R.jsx(_c,{className:"w-8 h-8 animate-spin text-[#00f2ff] mx-auto"}),R.jsx("p",{className:"text-gray-400 text-sm font-display",children:"Loading MUSCLEFOOT..."})]})});const ha=!e;return R.jsxs("div",{className:`bg-[#000000] text-white font-sans overflow-hidden flex flex-col ${Ve?"animate-shake":""}`,style:{height:"100dvh"},onContextMenu:Q=>Q.preventDefault(),children:[ha&&R.jsx("div",{className:"w-full bg-[#d4ff00]/10 border-b border-[#d4ff00]/30 px-3 py-1.5 text-center shrink-0 z-50","data-testid":"guest-banner",children:R.jsx("p",{className:"text-[10px] sm:text-xs font-bold text-[#d4ff00] tracking-wider font-display",children:"Guest Mode: Connect via Telegram to earn $MSCF"})}),R.jsx("header",{className:"w-full bg-black/90 backdrop-blur-xl border-b border-[#00f2ff]/15 z-50 px-2 sm:px-3 py-1.5 shrink-0",children:R.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap max-w-lg mx-auto min-h-[36px]",children:[R.jsx("div",{className:"flex items-center gap-1.5 min-w-0 shrink",children:R.jsxs("div",{className:"text-[#00f2ff] font-black font-numbers text-xs whitespace-nowrap drop-shadow-[0_0_8px_rgba(0,242,255,0.4)]","data-testid":"text-header-balance",children:[f<1?f.toFixed(4):f.toLocaleString(void 0,{maximumFractionDigits:0}),R.jsx("span",{className:"text-[9px] ml-0.5 text-[#00f2ff]/70",children:"$MF"})]})}),R.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[R.jsx("span",{className:"text-[8px] font-black text-[#d4ff00]/60 uppercase tracking-wider whitespace-nowrap px-1.5 py-1 rounded-md bg-[#d4ff00]/10 border border-[#d4ff00]/20 hidden sm:flex items-center","data-testid":"text-header-coming-soon",children:"$MF Available Soon"}),R.jsx(Z1,{href:"/",className:"play-neon-btn px-3 py-1 rounded-md font-black font-display text-xs uppercase tracking-wider text-[#00f2ff]","data-testid":"button-header-play",children:"PLAY"}),R.jsx("span",{className:"text-[8px] font-black text-[#d4ff00]/60 uppercase tracking-wider whitespace-nowrap px-1.5 py-1 rounded-md bg-[#d4ff00]/10 border border-[#d4ff00]/20 sm:hidden flex items-center","data-testid":"text-header-coming-soon-mobile",children:"Soon"})]}),R.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[R.jsxs("button",{onClick:()=>{ft(!0),Pt("0.1"),ht(!1)},disabled:st,className:"donate-golden-btn h-7 px-2 rounded-md font-black font-display text-[9px] uppercase tracking-wider text-black flex items-center gap-1 disabled:opacity-40","data-testid":"button-header-donate",children:[R.jsx(yx,{className:"w-3 h-3"}),R.jsx("span",{className:"hidden sm:inline",children:"DONATE"})]}),R.jsx("div",{className:"solana-wallet-btn-wrapper header-wallet-btn",children:R.jsx(EE,{"data-testid":"button-header-wallet",style:{height:"28px",padding:"0 8px",background:"rgba(171,159,242,0.9)",color:"#000",fontWeight:900,borderRadius:"6px",fontSize:"9px",fontFamily:"Orbitron, sans-serif",letterSpacing:"0.03em",justifyContent:"center",lineHeight:"28px"}})})]})]})}),R.jsx("main",{className:"flex-1 relative overflow-hidden border-0",children:R.jsxs(Hd,{mode:"wait",children:[Bn==="/"&&R.jsxs(un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center px-4 relative h-full overflow-hidden",children:[R.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[150%] aspect-square bg-radial-cyan pointer-events-none opacity-20"}),R.jsxs("div",{className:"text-center mb-2 relative z-10",children:[R.jsx("h1",{className:"text-3xl font-black text-[#00f2ff] italic tracking-tighter font-display drop-shadow-[0_0_10px_rgba(0,242,255,0.5)]",children:"$MUSCLEFOOT"}),R.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[gt&&R.jsx(Fi,{className:"w-4 h-4 text-[#d4ff00]"}),R.jsxs("p",{className:`font-bold uppercase tracking-widest text-xs ${gt?"text-[#d4ff00] drop-shadow-[0_0_8px_rgba(212,255,0,0.6)]":"text-gray-500"}`,children:["Lvl ",c," - ",qe.name]}),gt&&R.jsx(Fi,{className:"w-4 h-4 text-[#d4ff00]"})]}),gt&&m&&R.jsxs("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-wider mt-0.5","data-testid":"text-god-pack-expiry",children:["GOD PACK expires: ",`${Math.max(0,Math.ceil((new Date(m).getTime()-Date.now())/864e5))} days remaining`]}),R.jsxs("div",{className:"text-4xl font-black mt-2 flex items-center justify-center gap-1 font-numbers text-[#d4ff00] drop-shadow-[0_0_15px_rgba(212,255,0,0.3)]",children:[f<1?f.toFixed(4):f.toLocaleString(void 0,{maximumFractionDigits:2}),R.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"$MF"})]})]}),R.jsxs("div",{className:"relative w-full max-w-[280px] aspect-square flex items-center justify-center z-10 mx-auto","data-testid":"tap-area",children:[R.jsx(un.div,{whileTap:{scale:.95},onClick:Et,className:`relative z-10 cursor-pointer transition-transform ${g<qe.costPerTap?"opacity-40 grayscale":""}`,"data-testid":"button-tap",children:R.jsx("img",{src:l$,alt:"MuscleFoot",className:"w-full h-full object-contain filter drop-shadow-[0_0_20px_#00f2ff]"})}),ge.map(Q=>R.jsx(un.div,{initial:{opacity:1,y:0,scale:1},animate:{opacity:0,y:-100,scale:1.5},className:"fixed pointer-events-none text-[#d4ff00] font-black text-xl z-50 font-numbers",style:{left:Q.x-30,top:Q.y-40},children:Mt(Q.gain)},Q.id))]}),R.jsxs("div",{className:"w-full max-w-xs mt-3 space-y-1 relative z-10",children:[R.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider text-gray-400",children:[R.jsx("span",{children:"Energy"}),R.jsxs("span",{className:gt?"text-[#d4ff00]":"text-[#00f2ff]",children:[Math.floor(g),"/",qe.maxEnergy]})]}),R.jsx("div",{className:`h-3 w-full rounded-full border overflow-hidden ${gt?"bg-[#d4ff00]/10 border-[#d4ff00]/40 shadow-[0_0_15px_rgba(212,255,0,0.3)]":"bg-white/10 border-[#00f2ff]/30 shadow-[0_0_10px_rgba(0,242,255,0.2)]"}`,children:R.jsx(un.div,{className:`h-full ${gt?"bg-gradient-to-r from-[#d4ff00] to-[#ffd700]":"bg-gradient-to-r from-[#00f2ff] to-[#00d8e6]"}`,animate:{width:`${Ot}%`},transition:{type:"spring",stiffness:200,damping:30}})}),R.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:[R.jsxs("span",{className:"flex items-center gap-1",children:[R.jsx(Vd,{size:10})," Refill: ",pt]}),R.jsxs("span",{children:["Cost: ",qe.costPerTap," / Tap"]})]})]}),c<4&&R.jsx("div",{className:"w-full max-w-xs mt-4 z-10",children:R.jsxs(_r,{onClick:Rt,disabled:!Pr,className:`w-full h-12 font-black font-display text-sm tracking-wider transition-all ${Pr?"bg-gradient-to-r from-[#00f2ff] to-[#d4ff00] text-black shadow-[0_0_20px_rgba(0,242,255,0.3)] active:scale-95":"bg-white/5 text-white/30 border border-white/5"}`,"data-testid":"button-rank-up",children:[R.jsx(px,{className:"w-4 h-4 mr-2"}),"RANK UP TO ",ps[c+1]?.name.toUpperCase()||"---",qt>0&&R.jsxs("span",{className:"ml-2 text-[10px] opacity-70",children:["(",qt.toLocaleString()," $MF)"]})]})}),c<5&&R.jsxs("div",{className:"w-full max-w-sm mt-4 z-10 relative flex flex-col items-center",children:[R.jsx("div",{className:"gold-halo",style:{top:"-120px",left:"50%",transform:"translateX(-50%)"}}),[...Array(12)].map((Q,ye)=>R.jsx("div",{className:"gold-spark",style:{left:`${8+Math.random()*84}%`,bottom:"10px","--float-y":`${-40-Math.random()*60}px`,"--float-x":`${(Math.random()-.5)*30}px`,"--spark-duration":`${1.5+Math.random()*2}s`,"--spark-delay":`${Math.random()*3}s`}},`spark-${ye}`)),R.jsx("button",{onClick:()=>C({rankName:"Muscle God",solPrice:10,targetLevel:5,isGodPack:!0}),disabled:st,className:"golden-god-btn w-full h-16 rounded-lg font-black font-display text-base uppercase tracking-wider text-black disabled:opacity-40 relative z-10 flex items-center justify-center gap-2","data-testid":"button-buy-muscle-god",children:st?R.jsxs("span",{className:"flex items-center gap-2",children:[R.jsx(_c,{className:"w-5 h-5 animate-spin"}),mn]}):R.jsxs("span",{className:"flex items-center gap-2",children:[R.jsx(Fi,{className:"w-5 h-5"}),"BECOME A MUSCLE GOD: 10 SOL"]})})]}),g<qe.maxEnergy&&!st&&R.jsx("div",{className:"w-full max-w-xs mt-2 z-10",children:R.jsxs(_r,{onClick:()=>jt(.01,"energy_refill"),disabled:st||!z.connected,className:"w-full h-9 text-xs font-black font-display tracking-wider bg-[#00f2ff]/20 text-[#00f2ff] border border-[#00f2ff]/30 disabled:opacity-30","data-testid":"button-refill-energy",children:[R.jsx(sN,{className:"w-3 h-3 mr-1"})," REFILL ENERGY NOW (0.01 SOL)"]})})]},"play"),Bn==="/boost"&&R.jsxs(un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 space-y-4 overflow-y-auto h-full pb-24",children:[R.jsx("h2",{className:"text-2xl font-black text-[#00f2ff] mb-2 font-display","data-testid":"text-boost-title",children:"RANK SYSTEM"}),R.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider mb-4",children:"Your rank determines your earning power and energy capacity"}),R.jsx("div",{className:"space-y-3",children:ps.map((Q,ye)=>{const Ce=ye===c,Ne=ye>c,Ie=ye<c,it=ye===5,Kt=ye===c+1;return R.jsx(Sy,{className:`overflow-visible border transition-all ${Ce?it?"bg-[#d4ff00]/10 border-[#d4ff00]/50 shadow-[0_0_20px_rgba(212,255,0,0.2)]":"bg-[#00f2ff]/10 border-[#00f2ff]/50 shadow-[0_0_15px_rgba(0,242,255,0.2)]":Ne?"bg-white/[0.02] border-white/5 opacity-60":"bg-white/5 border-white/10"}`,"data-testid":`card-rank-${ye}`,children:R.jsxs(_y,{className:"p-4",children:[R.jsxs("div",{className:"flex items-center justify-between mb-2 gap-2",children:[R.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[it&&R.jsx(Fi,{className:"w-4 h-4 text-[#d4ff00]"}),R.jsxs("h3",{className:`font-black font-display text-sm ${Ce?it?"text-[#d4ff00]":"text-[#00f2ff]":"text-white"}`,children:["Lvl ",ye," - ",Q.name]}),Ce&&R.jsx(l0,{variant:"outline",className:"text-[9px] border-[#00f2ff] text-[#00f2ff]",children:"CURRENT"}),Ie&&R.jsx(Vm,{className:"w-3 h-3 text-green-500"})]}),Ne&&Q.solPrice>0&&!Kt&&!it&&R.jsxs("span",{className:"text-[9px] font-black font-numbers text-gray-500",children:[Q.solPrice," SOL"]})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-[10px]",children:[R.jsxs("div",{className:"flex justify-between",children:[R.jsx("span",{className:"text-gray-500",children:"Energy"}),R.jsx("span",{className:"font-numbers font-bold text-white",children:Q.maxEnergy.toLocaleString()})]}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("span",{className:"text-gray-500",children:"Recovery"}),R.jsx("span",{className:"font-numbers font-bold text-white",children:Q.recoverySeconds>=3600?`${Q.recoverySeconds/3600}h`:`${Q.recoverySeconds/60}min`})]}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("span",{className:"text-gray-500",children:"Gain/Tap"}),R.jsxs("span",{className:"font-numbers font-bold text-[#d4ff00]",children:[Q.gainPerTap<.01?Q.gainPerTap.toFixed(4):(Q.gainPerTap<1,Q.gainPerTap.toFixed(2))," $MF"]})]}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("span",{className:"text-gray-500",children:"Cost/Tap"}),R.jsxs("span",{className:"font-numbers font-bold text-white",children:[Q.costPerTap," Energy"]})]})]}),Ne&&Kt&&!it&&R.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[R.jsxs(_r,{onClick:Rt,disabled:!Pr,className:`flex-1 h-10 font-black font-display text-xs ${Pr?"bg-[#00f2ff] text-black shadow-[0_0_10px_rgba(0,242,255,0.3)]":"bg-white/5 text-white/30"}`,"data-testid":`button-upgrade-${ye}`,children:["UPGRADE (",Q.upgradeCost.toLocaleString()," $MF)"]}),R.jsxs("button",{onClick:()=>C({rankName:Q.name,solPrice:Q.solPrice,targetLevel:ye,isGodPack:!1}),disabled:st,className:"golden-tier-btn h-10 px-4 rounded-lg font-black font-numbers text-xs text-black disabled:opacity-30 flex items-center justify-center gap-1.5 shrink-0","data-testid":`button-sol-upgrade-${ye}`,children:[R.jsx(Ec,{className:"w-3 h-3"}),Q.solPrice," SOL"]})]}),Ne&&!Kt&&!it&&Q.solPrice>0&&R.jsx("div",{className:"mt-3",children:R.jsxs("button",{onClick:()=>C({rankName:Q.name,solPrice:Q.solPrice,targetLevel:ye,isGodPack:!1}),disabled:st,className:"golden-tier-btn w-full h-9 rounded-lg font-black font-numbers text-xs text-black disabled:opacity-30 flex items-center justify-center gap-1.5","data-testid":`button-sol-upgrade-${ye}`,children:[R.jsx(Ec,{className:"w-3 h-3"}),"SKIP TO ",Q.name.toUpperCase()," - ",Q.solPrice," SOL"]})}),Ne&&it&&R.jsx("div",{className:"mt-3 space-y-2",children:R.jsx("button",{onClick:()=>C({rankName:"Muscle God",solPrice:10,targetLevel:5,isGodPack:!0}),disabled:st,className:"golden-god-btn w-full h-12 rounded-lg font-black font-display text-sm text-black disabled:opacity-30 flex items-center justify-center gap-2 relative overflow-hidden","data-testid":"button-boost-muscle-god",children:st?R.jsxs("span",{className:"flex items-center gap-2 relative z-10",children:[R.jsx(_c,{className:"w-4 h-4 animate-spin"}),mn]}):R.jsxs("span",{className:"flex items-center gap-2 relative z-10",children:[R.jsx(Fi,{className:"w-4 h-4"}),"GOD PACK - 10 SOL"]})})})]})},ye)})})]},"boost"),Bn==="/roadmap"&&R.jsxs(un.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 space-y-6 overflow-y-auto h-full pb-24 roadmap-grid-bg",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx("h2",{className:"text-2xl font-black text-[#00f2ff] font-display uppercase tracking-tighter","data-testid":"text-roadmap-title",children:"Path to Glory"}),R.jsxs("div",{className:"space-y-1",children:[R.jsxs("div",{className:"flex items-center justify-between gap-2",children:[R.jsx("span",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:"Project Completion"}),R.jsx("span",{className:"text-[10px] text-[#d4ff00] font-black font-numbers",children:"35%"})]}),R.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden border border-white/10",children:R.jsx("div",{className:"h-full bg-gradient-to-r from-[#00f2ff] to-[#d4ff00] rounded-full shadow-[0_0_10px_rgba(0,242,255,0.4)]",style:{width:"35%"}})})]})]}),R.jsxs("div",{className:"relative pl-8",children:[R.jsx("div",{className:"absolute left-[11px] top-4 bottom-4 w-[2px] timeline-glow-line"}),[{q:"Phase 1",t:"The Warm-Up",status:"done",icon:bN,items:["Telegram Portal Launch  Official $MF community hub","Infrastructure Stress-Test on Solana tap-to-earn bot","Alpha Access & Whitelisting  First 50 OG testers","Sustainability Audit  15% revenue to LP & Buybacks","Community Expansion  Marketing push on X"],badge:"DONE",badgeColor:"bg-[#00f2ff]/20 text-[#00f2ff] border-[#00f2ff]/30"},{q:"Phase 2",t:"The Feb 30-Day Sprint",status:"active",icon:Ec,items:["Official Airdrop Kick-off  Fri, Feb 13th","30% Supply Allocation  300M $MF locked for community","Daily Multipliers  Weekend boosts & referral bonuses","Viral Expansion  Valentines weekend social blitz"],badge:"LIVE",badgeColor:"bg-[#d4ff00]/20 text-[#d4ff00] border-[#d4ff00]/30"},{q:"Phase 3",t:"The Pump & Reward",status:"upcoming",icon:mN,items:["Token Generation Event (TGE)  Fair Launch on Solana","Early Adopter Bonus  Exclusive multiplier for Feb joiners","Leaderboard Rewards  Top 100 Gym Rat bonus","Distribution Day  Airdrop based on 30-day performance","Sustainability Mode  15% revenue fuels LP & Buybacks"],badge:"NEXT",badgeColor:"bg-white/10 text-gray-400 border-white/10"},{q:"Phase 4",t:"The Muscle Democracy",status:"future",icon:cN,items:["Tier-1 CEX Listings  Global mass adoption","Strategic Fitness Partnerships  Gym chains & brands","DAO Governance  Community-led upgrades","Staking & Passive Gains  $MF staking platform"],badge:"Q2 2026+",badgeColor:"bg-white/5 text-gray-500 border-white/5"}].map((Q,ye)=>R.jsxs(un.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ye*.1},className:"relative mb-6 last:mb-0",children:[R.jsx("div",{className:`absolute -left-8 top-4 w-6 h-6 rounded-full flex items-center justify-center z-10 ${Q.status==="done"?"bg-[#00f2ff] shadow-[0_0_12px_rgba(0,242,255,0.8)]":Q.status==="active"?"bg-[#d4ff00] shadow-[0_0_15px_rgba(212,255,0,0.8)] animate-pulse":"bg-white/10 border border-white/20"}`,children:R.jsx(Q.icon,{className:`w-3 h-3 ${Q.status==="done"||Q.status==="active"?"text-black":"text-gray-500"}`})}),R.jsxs("div",{className:`glassmorphism-card p-4 rounded-xl transition-transform duration-300 hover:scale-[1.02] active:scale-[1.02] ${Q.status==="active"?"border-[#d4ff00]/30 shadow-[0_0_20px_rgba(212,255,0,0.1)]":""}`,"data-testid":`card-roadmap-${ye}`,children:[R.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase tracking-widest",children:Q.q}),R.jsx("h3",{className:"font-black text-white text-base font-display",children:Q.t})]}),R.jsx("span",{className:`text-[8px] font-black uppercase tracking-wider px-2 py-1 rounded-full border ${Q.badgeColor}`,children:Q.badge})]}),R.jsx("ul",{className:"space-y-2",children:Q.items.map(Ce=>R.jsxs("li",{className:"flex items-start gap-2",children:[R.jsx(Vm,{className:`w-3 h-3 mt-0.5 shrink-0 ${Q.status==="done"?"text-[#00f2ff]":Q.status==="active"?"text-[#d4ff00]/60":"text-white/10"}`}),R.jsx("span",{className:`text-xs font-medium ${Q.status==="done"?"text-gray-300":Q.status==="active"?"text-gray-400":"text-gray-600"}`,children:Ce})]},Ce))})]})]},Q.q))]})]},"roadmap"),Bn==="/info"&&R.jsxs(un.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 space-y-6 overflow-y-auto h-full pb-24",children:[R.jsxs("section",{className:"space-y-3",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(lN,{className:"w-5 h-5 text-[#00f2ff]"}),R.jsx("h2",{className:"text-xl font-black text-[#00f2ff] font-display uppercase tracking-tighter","data-testid":"text-economy-title",children:"Sustainable Economy"})]}),R.jsx("p",{className:"text-gray-400 text-xs font-medium leading-relaxed",children:"Every SOL spent in the game fuels the $MF ecosystem. Transparency is our priority."})]}),R.jsxs("section",{className:"space-y-3",children:[R.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest font-display",children:"Revenue Distribution"}),R.jsx("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10 space-y-4","data-testid":"section-revenue",children:[{label:"Liquidity Pool & Buybacks",pct:75,color:"#3b82f6",bgColor:"bg-blue-500",icon:gx,desc:"Stable & rising floor price for $MF",tid:"liquidity"},{label:"Marketing & Operations",pct:20,color:"#f97316",bgColor:"bg-orange-500",icon:pN,desc:"Ads, server costs & global expansion",tid:"marketing"},{label:"Dev Fund",pct:5,color:"#a855f7",bgColor:"bg-purple-500",icon:mx,desc:"Team rewards & technical updates",tid:"dev"}].map(Q=>R.jsxs("div",{className:"space-y-2","data-testid":`row-revenue-${Q.tid}`,children:[R.jsxs("div",{className:"flex items-center justify-between gap-2",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(Q.icon,{className:"w-4 h-4",style:{color:Q.color}}),R.jsx("span",{className:"text-white text-xs font-bold",children:Q.label})]}),R.jsxs("span",{className:"font-black font-numbers text-sm",style:{color:Q.color},children:[Q.pct,"%"]})]}),R.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:R.jsx("div",{className:"h-full rounded-full transition-all duration-1000",style:{width:`${Q.pct}%`,backgroundColor:Q.color,boxShadow:`0 0 8px ${Q.color}40`}})}),R.jsx("p",{className:"text-[10px] text-gray-500 font-medium pl-6",children:Q.desc})]},Q.label))}),R.jsx("p",{className:"text-[9px] text-gray-600 font-medium leading-relaxed px-1 italic",children:"Smart contracts will automatically route these funds to ensure project longevity."})]}),R.jsxs("section",{className:"space-y-3",children:[R.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest font-display",children:"Token Info"}),R.jsx("div",{className:"bg-white/5 rounded-xl border border-white/10 divide-y divide-white/5","data-testid":"section-token-info",children:[{label:"Total Supply",value:"1,000,000,000 $MF",tid:"supply"},{label:"Network",value:"Solana (SPL)",tid:"network"},{label:"Contract Address",value:"TBA",tid:"contract"}].map(Q=>R.jsxs("div",{className:"flex items-center justify-between p-3","data-testid":`row-token-${Q.tid}`,children:[R.jsx("span",{className:"text-[10px] text-gray-500 font-black uppercase tracking-widest",children:Q.label}),R.jsx("span",{className:`text-xs font-black font-numbers ${Q.value==="TBA"?"text-gray-600":"text-white"}`,children:Q.value})]},Q.label))})]}),R.jsxs("section",{className:"space-y-3",children:[R.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest font-display",children:"Token Allocation"}),R.jsx("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10 space-y-3","data-testid":"section-allocation",children:[{l:"Liquidity Pool",v:"55%",c:"text-[#00f2ff]",bar:"bg-[#00f2ff]",w:55,s:"Fair Launch  LP Burned",tid:"lp"},{l:"Community Airdrop",v:"25%",c:"text-[#d4ff00]",bar:"bg-[#d4ff00]",w:25,s:"Dedicated athletes & early adopters",tid:"airdrop"},{l:"Ecosystem & Growth",v:"15%",c:"text-white",bar:"bg-white",w:15,s:"Game features & staking rewards",tid:"ecosystem"},{l:"Marketing & Team",v:"5%",c:"text-gray-400",bar:"bg-gray-400",w:5,s:"Global reach & development",tid:"team"}].map(Q=>R.jsxs("div",{className:"space-y-1","data-testid":`row-allocation-${Q.tid}`,children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("span",{className:"text-gray-300 text-xs font-bold",children:Q.l}),R.jsx("span",{className:`font-black text-sm font-numbers ${Q.c}`,children:Q.v})]}),R.jsx("div",{className:"w-full h-1.5 bg-white/5 rounded-full overflow-hidden",children:R.jsx("div",{className:`h-full ${Q.bar} rounded-full opacity-60`,style:{width:`${Q.w}%`}})}),R.jsx("p",{className:"text-[9px] text-gray-600 font-medium",children:Q.s})]},Q.l))})]}),R.jsxs("section",{children:[R.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest font-display mb-3",children:"Join the Army"}),R.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[R.jsx(_r,{asChild:!0,className:"w-full h-14 bg-white/5 hover:bg-white/10 border border-white/10 flex items-center justify-between px-5 rounded-xl group transition-all active:scale-95",children:R.jsxs("a",{href:"https://x.com/MUSCLEFOOTCOIN",target:"_blank",rel:"noopener noreferrer","data-testid":"link-twitter",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"p-2 bg-black rounded-lg border border-white/20 group-hover:border-[#00f2ff] transition-colors",children:R.jsx(wx,{className:"w-4 h-4 text-[#00f2ff]"})}),R.jsx("span",{className:"font-black font-display uppercase tracking-widest text-xs",children:"Follow on X"})]}),R.jsx(qm,{className:"w-3 h-3 text-gray-600 group-hover:text-[#00f2ff]"})]})}),R.jsx(_r,{asChild:!0,className:"w-full h-14 bg-white/5 hover:bg-white/10 border border-white/10 flex items-center justify-between px-5 rounded-xl group transition-all active:scale-95",children:R.jsxs("a",{href:"https://t.me/+tc-g71IeTCVmNjM0",target:"_blank",rel:"noopener noreferrer","data-testid":"link-telegram",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"p-2 bg-black rounded-lg border border-white/20 group-hover:border-[#00f2ff] transition-colors",children:R.jsx(gN,{className:"w-4 h-4 text-[#00f2ff]"})}),R.jsx("span",{className:"font-black font-display uppercase tracking-widest text-xs",children:"Join Telegram"})]}),R.jsx(qm,{className:"w-3 h-3 text-gray-600 group-hover:text-[#00f2ff]"})]})}),R.jsxs("div",{className:"w-full h-14 bg-[#d4ff00]/20 text-[#d4ff00]/60 flex items-center justify-between px-5 rounded-xl border border-[#d4ff00]/20","data-testid":"text-buy-coming-soon",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"p-2 bg-black/10 rounded-lg border border-black/20",children:R.jsx(wN,{className:"w-4 h-4"})}),R.jsx("span",{className:"font-black font-display uppercase tracking-widest text-xs",children:"Buy $MUSCLEFOOT"})]}),R.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Available Soon"})]})]})]})]},"info"),Bn==="/wallet"&&R.jsxs(un.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 space-y-6 overflow-y-auto h-full pb-24",children:[R.jsxs("div",{className:"text-center bg-white/5 p-8 rounded-2xl border border-white/10 relative overflow-hidden group",children:[R.jsx("div",{className:"absolute inset-0 bg-[#00f2ff]/5 blur-3xl -z-10"}),R.jsx("p",{className:"text-gray-400 text-xs font-black uppercase tracking-widest mb-2 font-display",children:"Your $MF Balance"}),R.jsxs("div",{className:"text-4xl font-black text-[#d4ff00] font-numbers drop-shadow-[0_0_15px_rgba(212,255,0,0.3)]","data-testid":"text-mf-balance",children:[f<1?f.toFixed(4):f.toLocaleString(void 0,{maximumFractionDigits:2})," $MF"]})]}),R.jsxs(Sy,{className:"bg-white/5 border-white/10 overflow-hidden",children:[R.jsx($C,{children:R.jsxs(WC,{className:"text-lg flex items-center justify-between gap-2 font-display text-[#00f2ff]",children:[R.jsxs("span",{className:"flex items-center gap-2",children:[R.jsx(hx,{className:"w-5 h-5"})," Withdrawal"]}),R.jsx(l0,{variant:"outline",className:"text-[10px] border-[#00f2ff] text-[#00f2ff] bg-[#00f2ff]/10",children:"V2.0"})]})}),R.jsx(_y,{className:"space-y-6",children:R.jsxs("div",{className:"space-y-4",children:[I?R.jsxs("div",{className:"space-y-4",children:[te==="generated"&&R.jsx(un.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"p-4 bg-yellow-500/10 border-2 border-[#d4ff00] rounded-xl text-[#d4ff00] animate-pulse shadow-[0_0_15px_rgba(212,255,0,0.2)]",children:R.jsxs("div",{className:"flex items-start gap-3",children:[R.jsx(vN,{className:"w-5 h-5 shrink-0 mt-0.5"}),R.jsx("p",{className:"text-[10px] font-black uppercase leading-tight tracking-tight",children:"IMPORTANT: This is a local wallet. Your Secret Key is stored ONLY on this browser. If you clear your cache, you will LOSE ACCESS. Save your Secret Key immediately!"})]})}),R.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl space-y-4",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(Vm,{className:"w-5 h-5 text-[#00f2ff]"}),R.jsxs("div",{children:[R.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:te==="phantom"?"Phantom Connected":"Instant Wallet Active"}),R.jsxs("p",{className:"font-mono text-xs text-[#00f2ff] truncate max-w-[180px]","data-testid":"text-wallet-address",children:[x.substring(0,8),"...",x.substring(x.length-8)]})]})]}),R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx(_r,{size:"icon",variant:"ghost",onClick:()=>rs(x,"Address"),className:"text-gray-400","data-testid":"button-copy-address",children:R.jsx(iN,{size:16})}),R.jsx(_r,{size:"icon",variant:"ghost",onClick:le,className:"text-gray-400","data-testid":"button-disconnect-wallet",children:R.jsx(fN,{size:16})})]})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[R.jsxs("div",{className:"bg-black/40 p-3 rounded-lg border border-white/5",children:[R.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:"SOL Balance"}),R.jsx("p",{className:"text-sm font-black font-numbers","data-testid":"text-sol-balance",children:Z?R.jsx("span",{className:"text-gray-400 flex items-center gap-1",children:R.jsx(_c,{className:"w-3 h-3 animate-spin"})}):G!==null?`${G.toFixed(4)} SOL`:"-- SOL"})]}),R.jsxs("div",{className:"bg-black/40 p-3 rounded-lg border border-white/5",children:[R.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:"$MF Balance"}),R.jsx("p",{className:"text-sm font-black font-numbers text-[#d4ff00]","data-testid":"text-mf-wallet-balance",children:f<1?f.toFixed(4):f.toLocaleString(void 0,{maximumFractionDigits:2})})]})]}),te==="generated"&&R.jsxs("div",{className:"space-y-2 pt-2 border-t border-white/5",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:"Security Backup"}),R.jsxs(_r,{variant:"ghost",size:"sm",onClick:()=>J(!q),className:"text-[10px] font-black text-[#d4ff00]","data-testid":"button-toggle-secret",children:[q?R.jsx(oN,{size:14,className:"mr-1"}):R.jsx(aN,{size:14,className:"mr-1"}),q?"HIDE SECRET":"VIEW SECRET KEY"]})]}),q&&R.jsxs("div",{className:"p-3 bg-black/60 rounded-lg border border-[#d4ff00]/30 break-all",children:[R.jsx("p",{className:"font-mono text-[9px] text-[#d4ff00] leading-relaxed mb-2","data-testid":"text-secret-key",children:M}),R.jsx(_r,{className:"w-full bg-[#d4ff00] text-black text-[10px] font-black",onClick:()=>rs(M,"Secret Key"),"data-testid":"button-copy-secret",children:"COPY SECRET KEY"})]})]}),R.jsx(_r,{variant:"ghost",size:"sm",className:"w-full text-gray-500 text-[10px] font-black tracking-widest uppercase mt-2",onClick:le,"data-testid":"button-disconnect",children:"SWITCH / DISCONNECT WALLET"})]})]}):R.jsx("div",{className:"grid grid-cols-1 gap-3",children:R.jsxs("div",{className:"flex flex-col items-stretch gap-2",children:[R.jsx("div",{className:"solana-wallet-btn-wrapper",children:R.jsx(EE,{style:{width:"100%",height:"64px",background:"#ab9ff2",color:"#000",fontWeight:900,borderRadius:"12px",fontSize:"14px",fontFamily:"Orbitron, sans-serif",letterSpacing:"0.05em",justifyContent:"center"}})}),R.jsx("p",{className:"text-[9px] text-gray-500 text-center font-bold uppercase tracking-wider",children:"Connect your Solana wallet to withdraw"}),!GW()&&R.jsxs("a",{href:HW(),target:"_blank",rel:"noopener noreferrer",className:"w-full h-12 rounded-xl font-black text-xs tracking-wider flex items-center justify-center gap-2 border-2 border-[#ab9ff2]/40 text-[#ab9ff2] bg-[#ab9ff2]/10 mt-1",style:{fontFamily:"Orbitron, sans-serif"},"data-testid":"link-open-phantom-app",children:[R.jsx(qm,{className:"w-4 h-4"}),"OPEN IN PHANTOM APP"]})]})}),!I&&R.jsx("p",{className:"text-[10px] text-gray-400 italic text-center px-4 leading-relaxed font-medium uppercase tracking-tight",children:"MuscleFoot will never ask for your seed phrase. Connection is used only for withdrawals."}),(()=>{const Q=O[c]||O[0],ye=parseFloat(j)||0,Ce=ye*(Q.feePercent/100),Ne=ye-Ce,Ie=I&&ye>=Q.minAmount&&ye<=f,it=f<Q.minAmount;return R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl space-y-3",children:[R.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:"Your Rank Terms"}),R.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[R.jsxs("div",{className:"bg-black/40 p-3 rounded-lg border border-white/5 text-center",children:[R.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:"Min. Amount"}),R.jsx("p",{className:"text-sm font-black text-[#00f2ff] font-numbers",children:Q.minAmount.toLocaleString()}),R.jsx("p",{className:"text-[8px] text-gray-600 font-bold",children:"$MF"})]}),R.jsxs("div",{className:"bg-black/40 p-3 rounded-lg border border-white/5 text-center",children:[R.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:"Fee"}),R.jsxs("p",{className:"text-sm font-black text-[#d4ff00] font-numbers",children:[Q.feePercent,"%"]}),R.jsx("p",{className:"text-[8px] text-gray-600 font-bold",children:"Burned"})]}),R.jsxs("div",{className:"bg-black/40 p-3 rounded-lg border border-white/5 text-center",children:[R.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:"Processing"}),R.jsx("p",{className:`text-sm font-black font-numbers ${Q.delayHours===0?"text-[#d4ff00]":"text-white"}`,children:Q.delayLabel}),R.jsx("p",{className:"text-[8px] text-gray-600 font-bold",children:Q.delayHours===0?"GOD Perk":"Delay"})]})]})]}),it&&I&&R.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-center",children:R.jsxs("p",{className:"text-red-400 text-[11px] font-bold uppercase tracking-tight","data-testid":"text-min-warning",children:["Minimum ",Q.minAmount.toLocaleString()," $MF required to withdraw at your current rank."]})}),R.jsxs("div",{className:"space-y-3",children:[R.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:"Withdraw Amount"}),R.jsxs("div",{className:"relative",children:[R.jsx("input",{type:"number",value:j,onChange:Kt=>B(Kt.target.value),placeholder:`Min. ${Q.minAmount.toLocaleString()} $MF`,className:"w-full bg-black/60 border border-white/10 rounded-xl px-4 py-3 text-white font-numbers font-bold text-lg focus:outline-none focus:border-[#00f2ff]/50 transition-colors placeholder:text-gray-600",disabled:!I||it,"data-testid":"input-withdraw-amount"}),I&&!it&&R.jsx("button",{onClick:()=>B(String(Math.floor(f))),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] font-black text-[#00f2ff] uppercase tracking-widest","data-testid":"button-max-withdraw",children:"MAX"})]})]}),ye>0&&R.jsxs(un.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"p-4 bg-white/5 border border-white/10 rounded-xl space-y-2",children:[R.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:"Withdrawal Summary"}),R.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[R.jsx("span",{className:"text-gray-400",children:"Amount"}),R.jsxs("span",{className:"text-white font-numbers",children:[ye.toLocaleString()," $MF"]})]}),R.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[R.jsxs("span",{className:"text-gray-400",children:["Fee (",Q.feePercent,"% burned)"]}),R.jsxs("span",{className:"text-red-400 font-numbers",children:["-",Ce.toLocaleString(void 0,{maximumFractionDigits:2})," $MF"]})]}),R.jsxs("div",{className:"border-t border-white/10 pt-2 flex justify-between text-sm font-black",children:[R.jsx("span",{className:"text-gray-300",children:"You Receive"}),R.jsxs("span",{className:"text-[#d4ff00] font-numbers","data-testid":"text-net-amount",children:[Ne.toLocaleString(void 0,{maximumFractionDigits:2})," $MF"]})]}),Q.delayHours>0&&R.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[R.jsx(Vd,{className:"w-3 h-3 text-gray-500"}),R.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:["Available after ",Q.delayLabel," processing delay"]})]}),Q.delayHours===0&&R.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[R.jsx(Ec,{className:"w-3 h-3 text-[#d4ff00]"}),R.jsx("p",{className:"text-[10px] text-[#d4ff00] font-bold",children:"Instant processing (GOD Rank perk)"})]})]}),R.jsx(_r,{className:`w-full h-14 font-black text-lg transition-all duration-500 relative overflow-hidden font-display ${Ie?"bg-[#d4ff00] text-black shadow-[0_0_30px_rgba(212,255,0,0.4)]":"bg-white/10 text-white/40 cursor-not-allowed border border-white/5"}`,disabled:!Ie||V,onClick:yo,"data-testid":"button-withdraw",children:V?R.jsxs("span",{className:"flex items-center gap-2",children:[R.jsx(_c,{className:"w-5 h-5 animate-spin"})," PROCESSING..."]}):I?it?"INSUFFICIENT BALANCE":ye<Q.minAmount?`MIN. ${Q.minAmount.toLocaleString()} $MF`:"WITHDRAW NOW":"CONNECT WALLET FIRST"}),R.jsx("p",{className:"text-[10px] text-gray-500 text-center leading-relaxed font-medium uppercase tracking-tighter",children:"All fees are permanently burned from the total supply."})]})})(),R.jsxs("div",{className:"pt-4 border-t border-white/5",children:[R.jsxs("button",{onClick:()=>{U(!_),_||K()},className:"w-full flex items-center justify-between py-2","data-testid":"button-toggle-history",children:[R.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:"Withdrawal History"}),R.jsx(hx,{className:`w-3 h-3 text-gray-500 transition-transform ${_?"rotate-180":""}`})]}),_&&R.jsx("div",{className:"space-y-2 mt-2",children:P.length===0?R.jsx("p",{className:"text-[10px] text-gray-600 text-center py-4 font-bold uppercase",children:"No withdrawals yet"}):P.slice(0,10).map(Q=>R.jsxs("div",{className:"p-3 bg-black/40 rounded-lg border border-white/5 space-y-1","data-testid":`row-withdrawal-${Q.id}`,children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("span",{className:"text-xs font-bold text-white font-numbers",children:[Q.netAmount.toLocaleString()," $MF"]}),R.jsx(l0,{variant:"outline",className:`text-[9px] ${Q.status==="completed"?"border-green-500 text-green-400 bg-green-500/10":Q.status==="pending"?"border-yellow-500 text-yellow-400 bg-yellow-500/10":"border-gray-500 text-gray-400 bg-gray-500/10"}`,children:Q.status==="completed"?"Completed":Q.status==="pending"?"Processing":Q.status})]}),R.jsxs("div",{className:"flex justify-between text-[9px] text-gray-500",children:[R.jsxs("span",{children:["Fee: ",Q.feeAmount.toLocaleString()," $MF (",Q.feePercent,"%)"]}),R.jsx("span",{children:new Date(Q.createdAt).toLocaleDateString()})]}),Q.status==="pending"&&Q.availableAt&&R.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-yellow-500",children:[R.jsx(Vd,{className:"w-3 h-3"}),R.jsxs("span",{children:["Available: ",new Date(Q.availableAt).toLocaleString()]})]})]},Q.id))})]}),R.jsxs("div",{className:"pt-4 border-t border-white/5 text-center",children:[R.jsx("p",{className:"text-[10px] text-gray-500 font-black tracking-[0.2em] mb-3 uppercase",children:"Need Support?"}),R.jsx(_r,{asChild:!0,variant:"ghost",className:"h-auto py-2 px-4 group transition-all",children:R.jsxs("a",{href:"https://x.com/MUSCLEFOOTCOIN",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2","data-testid":"link-support",children:[R.jsx(wx,{className:"w-4 h-4 text-[#00f2ff]"}),R.jsx("span",{className:"text-[#00f2ff] font-black font-display text-xs tracking-widest uppercase",children:"Contact us on X"})]})})]})]})})]}),R.jsxs("div",{className:"w-full bg-[#d4ff00]/20 text-[#d4ff00]/60 font-black h-14 rounded-2xl font-display text-lg tracking-wider flex items-center justify-center gap-3 border border-[#d4ff00]/20","data-testid":"text-buy-musclefoot-soon",children:[R.jsx("span",{children:"BUY $MUSCLEFOOT"}),R.jsx("span",{className:"text-xs font-bold opacity-70",children:" Available Soon"})]})]},"wallet")]})}),st&&R.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-xl flex flex-col items-center justify-center gap-6","data-testid":"payment-overlay",children:[R.jsxs("div",{className:"relative",children:[R.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-[#d4ff00]/30 border-t-[#d4ff00] animate-spin"}),R.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:R.jsx(Fi,{className:"w-8 h-8 text-[#d4ff00]"})})]}),R.jsxs("div",{className:"text-center space-y-3 max-w-xs",children:[R.jsx("p",{className:"text-[#d4ff00] font-black font-display text-base uppercase tracking-widest animate-pulse","data-testid":"text-payment-status",children:mn}),R.jsx("div",{className:"flex items-center justify-center gap-2 mt-4",children:[1,2,3,4].map(Q=>R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-500 ${bt>=Q?"bg-[#d4ff00] shadow-[0_0_8px_rgba(212,255,0,0.6)]":"bg-white/10"}`}),Q<4&&R.jsx("div",{className:`w-6 h-0.5 transition-all duration-500 ${bt>Q?"bg-[#d4ff00]":"bg-white/10"}`})]},Q))}),R.jsx("div",{className:"flex flex-col gap-1 mt-2",children:["Preparing","Signing","Confirming","Verified"].map((Q,ye)=>R.jsx("div",{className:`text-[9px] font-bold uppercase tracking-wider transition-all duration-300 ${bt>ye+1?"text-[#d4ff00]":bt===ye+1?"text-white":"text-white/20"}`,children:bt>ye+1?` ${Q}`:Q},Q))})]}),R.jsx("p",{className:"text-white/30 text-[9px] font-bold uppercase tracking-wider mt-4",children:"Do not close this screen"})]}),R.jsx(Hd,{children:A&&R.jsx(un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[180] bg-black/80 backdrop-blur-md flex items-center justify-center p-4",onClick:()=>C(null),"data-testid":"modal-purchase-confirm",children:R.jsx(un.div,{initial:{scale:.85,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.85,opacity:0,y:30},transition:{type:"spring",damping:20,stiffness:300},className:"w-full max-w-sm rounded-2xl border overflow-hidden",style:{background:"linear-gradient(180deg, rgba(30,28,20,0.98) 0%, rgba(15,14,10,0.98) 100%)",borderColor:A.isGodPack?"rgba(212,255,0,0.3)":"rgba(255,215,0,0.2)",boxShadow:A.isGodPack?"0 0 40px rgba(212,255,0,0.15), inset 0 1px 0 rgba(255,215,0,0.1)":"0 0 30px rgba(255,215,0,0.1), inset 0 1px 0 rgba(255,215,0,0.05)"},onClick:Q=>Q.stopPropagation(),children:R.jsxs("div",{className:"p-6 space-y-5",children:[R.jsxs("div",{className:"text-center space-y-2",children:[R.jsx("div",{className:`w-14 h-14 mx-auto rounded-full flex items-center justify-center ${A.isGodPack?"bg-gradient-to-br from-[#d4ff00] via-[#ffd700] to-[#ffb300] shadow-[0_0_25px_rgba(212,255,0,0.4)]":"bg-gradient-to-br from-[#ffd700] to-[#b8860b] shadow-[0_0_15px_rgba(255,215,0,0.3)]"}`,children:A.isGodPack?R.jsx(Fi,{className:"w-7 h-7 text-black"}):R.jsx(px,{className:"w-7 h-7 text-black"})}),R.jsx("h3",{className:"text-lg font-black font-display text-white uppercase tracking-tight","data-testid":"text-confirm-title",children:A.isGodPack?"Unlock God Pack":`Upgrade to ${A.rankName}`}),R.jsxs("p",{className:"text-gray-400 text-xs font-medium",children:["Are you sure you want to upgrade to ",R.jsx("span",{className:"text-white font-bold",children:A.rankName})," for"," ",R.jsxs("span",{className:"text-[#ffd700] font-black font-numbers",children:[A.solPrice," SOL"]}),"?"]})]}),A.isGodPack&&R.jsx("div",{className:"space-y-2",children:R.jsx("div",{className:"p-3 bg-[#d4ff00]/10 border border-[#d4ff00]/20 rounded-xl",children:R.jsxs("p",{className:"text-[#d4ff00] text-[10px] font-black uppercase tracking-tight flex items-center gap-2",children:[R.jsx(Vd,{className:"w-3 h-3"}),"This status is valid for 100 days."]})})}),R.jsx("div",{className:"p-3 bg-white/5 border border-white/10 rounded-xl",children:R.jsxs("p",{className:"text-gray-400 text-[10px] font-bold leading-relaxed",children:["75% of this transaction is automatically used for ",R.jsx("span",{className:"text-[#00f2ff]",children:"$MF Buybacks & Liquidity"}),"."]})}),R.jsxs("div",{className:"flex gap-3",children:[R.jsx("button",{onClick:()=>C(null),className:"flex-1 h-11 rounded-xl bg-white/10 text-gray-300 font-black font-display text-xs uppercase tracking-wider transition-all active:scale-95","data-testid":"button-confirm-cancel",children:"Cancel"}),R.jsx("button",{onClick:()=>{const Q=A;C(null),Q.isGodPack?jt(Q.solPrice,"muscle_god"):jt(Q.solPrice,"tier_upgrade",Q.targetLevel)},className:"flex-1 h-11 rounded-xl font-black font-display text-xs text-black uppercase tracking-wider transition-all active:scale-95 golden-god-btn","data-testid":"button-confirm-purchase",children:"Confirm"})]})]})})})}),R.jsx(Hd,{children:Ye&&R.jsx(un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[180] bg-black/80 backdrop-blur-md flex items-center justify-center p-4",onClick:()=>{ft(!1),ht(!1)},"data-testid":"modal-donate",children:R.jsx(un.div,{initial:{scale:.85,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.85,opacity:0,y:30},transition:{type:"spring",damping:20,stiffness:300},className:"w-full max-w-sm rounded-2xl border overflow-hidden",style:{background:"linear-gradient(180deg, rgba(30,28,20,0.98) 0%, rgba(15,14,10,0.98) 100%)",borderColor:"rgba(255,215,0,0.2)",boxShadow:"0 0 30px rgba(255,215,0,0.1), inset 0 1px 0 rgba(255,215,0,0.05)"},onClick:Q=>Q.stopPropagation(),children:vi?R.jsxs("div",{className:"p-6 space-y-5",children:[R.jsxs("div",{className:"text-center space-y-2",children:[R.jsx("div",{className:"w-14 h-14 mx-auto rounded-full flex items-center justify-center bg-gradient-to-br from-[#ffd700] to-[#b8860b] shadow-[0_0_15px_rgba(255,215,0,0.3)]",children:R.jsx(yN,{className:"w-7 h-7 text-black"})}),R.jsx("h3",{className:"text-lg font-black font-display text-white uppercase tracking-tight","data-testid":"text-donate-confirm-title",children:"Confirm Donation"})]}),R.jsxs("div",{className:"space-y-3",children:[R.jsxs("div",{className:"p-3 bg-white/5 border border-white/10 rounded-xl flex items-center justify-between",children:[R.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"Amount"}),R.jsxs("span",{className:"text-[#ffd700] font-black font-numbers text-lg",children:[Ue," SOL"]})]}),R.jsxs("div",{className:"p-3 bg-[#00f2ff]/5 border border-[#00f2ff]/15 rounded-xl space-y-2",children:[R.jsx("p",{className:"text-[10px] font-bold text-gray-300 uppercase tracking-tight",children:"Fund Allocation:"}),R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(gx,{className:"w-3 h-3 text-[#00f2ff]"}),R.jsx("span",{className:"text-xs font-bold text-[#00f2ff]",children:"Liquidity Pool"})]}),R.jsx("span",{className:"text-sm font-black font-numbers text-[#00f2ff]",children:"95%"})]}),R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(mx,{className:"w-3 h-3 text-gray-400"}),R.jsx("span",{className:"text-xs font-bold text-gray-400",children:"Infrastructure"})]}),R.jsx("span",{className:"text-sm font-black font-numbers text-gray-400",children:"5%"})]})]}),R.jsx("div",{className:"p-3 bg-white/5 border border-white/10 rounded-xl",children:R.jsxs("p",{className:"text-gray-500 text-[9px] font-bold leading-relaxed break-all",children:["Receiver: ",xg]})})]}),R.jsxs("div",{className:"flex gap-3",children:[R.jsx("button",{onClick:()=>ht(!1),className:"flex-1 h-11 rounded-xl bg-white/10 text-gray-300 font-black font-display text-xs uppercase tracking-wider transition-all active:scale-95","data-testid":"button-donate-back",children:"Back"}),R.jsx("button",{onClick:It,disabled:st,className:"flex-1 h-11 rounded-xl font-black font-display text-xs text-black uppercase tracking-wider transition-all active:scale-95 golden-god-btn disabled:opacity-40","data-testid":"button-donate-confirm",children:"Donate Now"})]})]}):R.jsxs("div",{className:"p-6 space-y-5",children:[R.jsxs("div",{className:"text-center space-y-2",children:[R.jsx("div",{className:"w-14 h-14 mx-auto rounded-full flex items-center justify-center bg-gradient-to-br from-[#ffd700] to-[#b8860b] shadow-[0_0_15px_rgba(255,215,0,0.3)]",children:R.jsx(yx,{className:"w-7 h-7 text-black"})}),R.jsx("h3",{className:"text-lg font-black font-display text-white uppercase tracking-tight","data-testid":"text-donate-title",children:"Support $MUSCLEFOOT"}),R.jsxs("p",{className:"text-gray-400 text-xs font-medium",children:["Your donation fuels the ecosystem. 95% goes directly to the ",R.jsx("span",{className:"text-[#00f2ff]",children:"Liquidity Pool"}),"."]})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Amount (SOL)"}),R.jsxs("div",{className:"relative",children:[R.jsx("input",{type:"number",min:"0.0001",step:"any",value:Ue,onChange:Q=>Pt(Q.target.value),className:"w-full h-12 bg-white/5 border border-white/15 rounded-xl px-4 text-white font-black font-numbers text-lg focus:outline-none focus:border-[#ffd700]/50 focus:shadow-[0_0_10px_rgba(255,215,0,0.15)] transition-all",placeholder:"0.1","data-testid":"input-donate-amount"}),R.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-xs font-black",children:"SOL"})]}),R.jsx("div",{className:"flex gap-2",children:[.05,.1,.5,1].map(Q=>R.jsxs("button",{onClick:()=>Pt(String(Q)),className:`flex-1 h-8 rounded-lg text-[10px] font-black font-numbers border transition-all ${Ue===String(Q)?"bg-[#ffd700]/20 border-[#ffd700]/40 text-[#ffd700]":"bg-white/5 border-white/10 text-gray-400 hover:bg-white/10"}`,"data-testid":`button-preset-${Q}`,children:[Q," SOL"]},Q))})]}),R.jsxs("div",{className:"flex gap-3",children:[R.jsx("button",{onClick:()=>{ft(!1),ht(!1)},className:"flex-1 h-11 rounded-xl bg-white/10 text-gray-300 font-black font-display text-xs uppercase tracking-wider transition-all active:scale-95","data-testid":"button-donate-cancel",children:"Cancel"}),R.jsx("button",{onClick:()=>{const Q=parseFloat(Ue);if(isNaN(Q)||Q<1e-4){t({title:"Invalid amount",description:"Minimum is 0.0001 SOL",variant:"destructive"});return}ht(!0)},className:"flex-1 h-11 rounded-xl font-black font-display text-xs text-black uppercase tracking-wider transition-all active:scale-95 golden-tier-btn","data-testid":"button-donate-next",children:"Continue"})]})]})})})}),R.jsx(Hd,{children:Lt&&R.jsxs(un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-black/95 backdrop-blur-xl flex items-center justify-center","data-testid":"success-modal",children:[R.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:rt.map(Q=>R.jsx("div",{className:"confetti-piece",style:{left:`${Q.x}%`,width:Q.size,height:Q.size*.6,background:Q.color,animationDelay:`${Q.delay}s`,animationDuration:`${Q.duration}s`,transform:`rotate(${Q.rotation}deg)`}},Q.id))}),R.jsxs(un.div,{initial:{scale:.5,opacity:0,y:40},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:12,stiffness:100,delay:.2},className:"relative text-center px-8 py-10 max-w-sm mx-4",children:[R.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#d4ff00]/10 via-[#ffd700]/5 to-transparent rounded-3xl border border-[#d4ff00]/20"}),R.jsx("div",{className:"absolute -inset-4 bg-[#d4ff00]/5 blur-3xl rounded-full"}),R.jsxs("div",{className:"relative z-10 space-y-6",children:[R.jsx(un.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.5},className:"w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-[#d4ff00] via-[#ffd700] to-[#ffb300] flex items-center justify-center shadow-[0_0_40px_rgba(212,255,0,0.4)]",children:R.jsx(Fi,{className:"w-12 h-12 text-black"})}),R.jsx(un.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"text-3xl font-black font-display text-[#d4ff00] uppercase tracking-wider drop-shadow-[0_0_20px_rgba(212,255,0,0.5)]","data-testid":"text-success-title",children:"Welcome, Muscle God"}),R.jsx(un.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},className:"text-gray-300 text-sm font-medium leading-relaxed","data-testid":"text-success-message",children:"Your power is now infinite. Go crush the leaderboard."}),R.jsxs(un.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},className:"flex justify-center gap-6 text-center",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-2xl font-black font-numbers text-[#d4ff00]",children:"10,000"}),R.jsx("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-wider",children:"Max Energy"})]}),R.jsx("div",{className:"w-px bg-white/10"}),R.jsxs("div",{children:[R.jsx("p",{className:"text-2xl font-black font-numbers text-[#d4ff00]",children:"LVL 5"}),R.jsx("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-wider",children:"Muscle God"})]})]}),R.jsx(un.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.3},children:R.jsx(_r,{onClick:()=>$(!1),className:"w-full h-14 bg-gradient-to-r from-[#d4ff00] to-[#ffd700] text-black font-black font-display text-sm uppercase tracking-wider rounded-xl shadow-[0_0_20px_rgba(212,255,0,0.3)]","data-testid":"button-close-success",children:"Start Crushing"})})]})]})]})}),Y&&R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"fixed inset-0 z-[150] pointer-events-none",children:R.jsx("div",{className:"absolute inset-0 bg-[#d4ff00]/10 animate-pulse"})}),ce.map(Q=>R.jsx("div",{className:"gold-particle",style:{left:Q.x,top:Q.y,width:Q.size,height:Q.size,background:`radial-gradient(circle, ${Q.color}, transparent)`,boxShadow:`0 0 ${Q.size}px ${Q.color}`,"--tx":Q.tx,"--ty":Q.ty,animationDelay:`${Q.delay}s`}},Q.id))]}),R.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-black/95 backdrop-blur-xl border-t border-[#00f2ff]/20 h-20 px-2 z-50",children:R.jsx("div",{className:"flex justify-between items-center h-full max-w-lg mx-auto",children:[{p:"/info",i:dN,l:"INFO"},{p:"/roadmap",i:hN,l:"ROADMAP"},{p:"/",i:uN,l:"PLAY"},{p:"/boost",i:Ec,l:"BOOST"},{p:"/wallet",i:xN,l:"WALLET"}].map(Q=>R.jsxs(Z1,{href:Q.p,className:`flex flex-col items-center gap-1 transition-all duration-300 min-w-[54px] ${Bn===Q.p?"text-[#00f2ff] scale-110 drop-shadow-[0_0_8px_rgba(0,242,255,0.6)]":"text-gray-500 hover:text-gray-300"}`,"data-testid":`nav-${Q.l.toLowerCase()}`,children:[R.jsx(Q.i,{size:20,strokeWidth:Bn===Q.p?3:2}),R.jsx("span",{className:"text-[9px] font-black font-display tracking-widest",children:Q.l})]},Q.p))})})]})}function QW(){return R.jsxs(II,{children:[R.jsx(Sc,{path:"/",component:Mc}),R.jsx(Sc,{path:"/boost",component:Mc}),R.jsx(Sc,{path:"/roadmap",component:Mc}),R.jsx(Sc,{path:"/info",component:Mc}),R.jsx(Sc,{path:"/wallet",component:Mc})]})}function JW(){const t=D.useMemo(()=>[new s$],[]);return R.jsx(TU,{endpoint:Xi,children:R.jsx(Yz,{wallets:t,autoConnect:!0,children:R.jsx(t$,{children:R.jsx(tM,{client:sM,children:R.jsxs(PO,{children:[R.jsx(s4,{}),R.jsx(QW,{})]})})})})})}typeof window<"u"&&(window.Buffer=at.Buffer,window.global=window);sI.createRoot(document.getElementById("root")).render(R.jsx(JW,{}));
